{
  "abstract": [
    {
      "type": "text",
      "text": "A constraint that applies inverse kinematics to make a chain of nodes “reach” toward a target point."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/scenekit",
        "doc://com.apple.documentation/documentation/scenekit/constraints"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/scenekit/scnikconstraint",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1468688,
  "kind": "symbol",
  "metadata": {
    "title": "SCNIKConstraint",
    "role": "symbol",
    "roleHeading": "Class",
    "modules": [
      {
        "name": "SceneKit"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "8.0",
        "current": "15.2"
      },
      {
        "name": "iPadOS",
        "introducedAt": "8.0",
        "current": "15.2"
      },
      {
        "name": "macOS",
        "introducedAt": "10.10",
        "current": "12.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.1",
        "current": "15.2"
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "current": "15.2"
      },
      {
        "name": "watchOS",
        "introducedAt": "2.0",
        "current": "8.3"
      }
    ],
    "externalID": "c:objc(cs)SCNIKConstraint",
    "symbolKind": "cl"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/scenekit/scnikconstraint"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/scenekit/scnikconstraint"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/scenekit": {
      "title": "SceneKit",
      "identifier": "doc://com.apple.documentation/documentation/scenekit",
      "url": "/documentation/scenekit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/scenekit/constraints": {
      "title": "Constraints",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/constraints",
      "url": "/documentation/scenekit/constraints",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "link-media-2929777": {
      "identifier": "link-media-2929777",
      "type": "link",
      "title": "Figure 1",
      "url": "/documentation/scenekit/scnikconstraint#2929777"
    },
    "media-2929777": {
      "identifier": "media-2929777",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x"
          ],
          "size": {
            "width": 434,
            "height": 355
          },
          "url": "https://docs-assets.developer.apple.com/published/7aef9d5aa7/799572ad-dc65-4d54-a465-27bd0287714a.png"
        }
      ],
      "title": "Figure 1",
      "abstract": [
        {
          "type": "text",
          "text": "An IK constraint moving a chain of nodes toward a target point"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/scenekit/scnnode/1408026-position": {
      "title": "position",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnnode/1408026-position",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/scenekit/scnnode/1408026-position"
    },
    "doc://com.apple.documentation/documentation/scenekit/scnnode/1408044-pivot": {
      "title": "pivot",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnnode/1408044-pivot",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/scenekit/scnnode/1408044-pivot"
    },
    "doc://com.apple.documentation/documentation/scenekit/scnnode/1408034-rotation": {
      "title": "rotation",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnnode/1408034-rotation",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/scenekit/scnnode/1408034-rotation"
    },
    "doc://com.apple.documentation/documentation/scenekit/scnikconstraint": {
      "title": "SCNIKConstraint",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnikconstraint",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/scenekit/scnikconstraint",
      "abstract": [
        {
          "type": "text",
          "text": "A constraint that applies inverse kinematics to make a chain of nodes “reach” toward a target point."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/scenekit/scnikconstraint/1468690-chainrootnode": {
      "title": "chainRootNode",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnikconstraint/1468690-chainrootnode",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/scenekit/scnikconstraint/1468690-chainrootnode",
      "abstract": [
        {
          "type": "text",
          "text": "The parent node of the hierarchy affected by the constraint."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/scenekit/scnnode/1408016-constraints": {
      "title": "constraints",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnnode/1408016-constraints",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/scenekit/scnnode/1408016-constraints"
    },
    "doc://com.apple.documentation/documentation/scenekit/scnikconstraint/1468649-setmaxallowedrotationangle": {
      "title": "setMaxAllowedRotationAngle:forJoint:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnikconstraint/1468649-setmaxallowedrotationangle",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/scenekit/scnikconstraint/1468649-setmaxallowedrotationangle",
      "abstract": [
        {
          "type": "text",
          "text": "Sets the rotation limit, in degrees, for the specified node."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "setMaxAllowedRotationAngle:forJoint:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/scenekit/scnikconstraint/1468651-targetposition": {
      "title": "targetPosition",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnikconstraint/1468651-targetposition",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/scenekit/scnikconstraint/1468651-targetposition",
      "abstract": [
        {
          "type": "text",
          "text": "The desired position for the constrained node, in the scene’s world coordinate space. Animatable."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/scenekit/scnnode/1407988-physicsbody": {
      "title": "physicsBody",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnnode/1407988-physicsbody",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/scenekit/scnnode/1407988-physicsbody"
    },
    "doc://com.apple.documentation/documentation/scenekit/scnconstraint": {
      "title": "SCNConstraint",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnconstraint",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/scenekit/scnconstraint"
    },
    "doc://com.apple.documentation/documentation/scenekit/scnikconstraint/1468694-initwithchainrootnode": {
      "title": "initWithChainRootNode:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnikconstraint/1468694-initwithchainrootnode",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/scenekit/scnikconstraint/1468694-initwithchainrootnode",
      "abstract": [
        {
          "type": "text",
          "text": "Initializes an inverse kinematics constraint whose chain of nodes begins with the specified node."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "initWithChainRootNode:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/scenekit/scnikconstraint/1468653-inversekinematicsconstraintwithc": {
      "title": "inverseKinematicsConstraintWithChainRootNode:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnikconstraint/1468653-inversekinematicsconstraintwithc",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/scenekit/scnikconstraint/1468653-inversekinematicsconstraintwithc",
      "abstract": [
        {
          "type": "text",
          "text": "Creates an inverse kinematics constraint whose chain of nodes begins with the specified node."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "+ "
        },
        {
          "kind": "identifier",
          "text": "inverseKinematicsConstraintWithChainRootNode:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/scenekit/scnikconstraint/1468681-maxallowedrotationangleforjoint": {
      "title": "maxAllowedRotationAngleForJoint:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnikconstraint/1468681-maxallowedrotationangleforjoint",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/scenekit/scnikconstraint/1468681-maxallowedrotationangleforjoint",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the rotation limit, in degrees, for the specified node."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "maxAllowedRotationAngleForJoint:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "relationshipsSections": [
    {
      "kind": "relationships",
      "title": "Inherits From",
      "type": "inheritsFrom",
      "identifiers": [
        "doc://com.apple.documentation/documentation/scenekit/scnconstraint"
      ]
    }
  ],
  "topicSections": [
    {
      "kind": "taskGroup",
      "title": "Creating an Inverse Kinematics Constraint",
      "identifiers": [
        "doc://com.apple.documentation/documentation/scenekit/scnikconstraint/1468694-initwithchainrootnode",
        "doc://com.apple.documentation/documentation/scenekit/scnikconstraint/1468653-inversekinematicsconstraintwithc"
      ],
      "anchor": "1654986"
    },
    {
      "kind": "taskGroup",
      "title": "Adjusting the Constraint’s Limits of Motion",
      "identifiers": [
        "doc://com.apple.documentation/documentation/scenekit/scnikconstraint/1468690-chainrootnode",
        "doc://com.apple.documentation/documentation/scenekit/scnikconstraint/1468681-maxallowedrotationangleforjoint",
        "doc://com.apple.documentation/documentation/scenekit/scnikconstraint/1468649-setmaxallowedrotationangle"
      ],
      "anchor": "1655015"
    },
    {
      "kind": "taskGroup",
      "title": "Applying Inverse Kinematics to the Constrained Node",
      "identifiers": [
        "doc://com.apple.documentation/documentation/scenekit/scnikconstraint/1468651-targetposition"
      ],
      "anchor": "1655047"
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "@interface"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "SCNIKConstraint"
            },
            {
              "kind": "text",
              "text": " : "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)SCNConstraint",
              "identifier": "doc://com.apple.documentation/documentation/scenekit/scnconstraint",
              "text": "SCNConstraint"
            }
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "macOS",
            "Mac Catalyst",
            "tvOS",
            "watchOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "image",
              "identifier": "media-2929777",
              "metadata": {
                "anchor": "2929777",
                "title": "Figure 1",
                "abstract": [
                  {
                    "type": "text",
                    "text": "An IK constraint moving a chain of nodes toward a target point"
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "emphasis",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "Inverse kinematics (IK)"
                }
              ]
            },
            {
              "type": "text",
              "text": " is an iterative process that finds positions for the joints connecting a chain of rigid bodies in order to move the body at the end of that chain as close as possible to a desired point in space. For example, a chain of bodies might model a robot arm, and the node at the end of the chain—called an "
            },
            {
              "type": "emphasis",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "end effector"
                }
              ]
            },
            {
              "type": "text",
              "text": "—might model the hand or tool at the end of the arm. To create IK-based behavior in a SceneKit app or game, follow these steps:"
            }
          ]
        },
        {
          "type": "orderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Build a hierarchy of nodes whose "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnnode/1408026-position"
                    },
                    {
                      "type": "text",
                      "text": " and "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnnode/1408044-pivot"
                    },
                    {
                      "type": "text",
                      "text": " properties describe the joints between them. For example, the node representing a robot’s lower arm should be a child of its upper arm node, and the lower arm node’s "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnnode/1408044-pivot"
                    },
                    {
                      "type": "text",
                      "text": " property should be placed so that adjusting its "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnnode/1408034-rotation"
                    },
                    {
                      "type": "text",
                      "text": " property appears to bend the arm at an elbow joint. The robot’s hand should in turn be a child node of the lower arm node."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Create an "
                    },
                    {
                      "type": "reference",
                      "isActive": false,
                      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnikconstraint"
                    },
                    {
                      "type": "text",
                      "text": " object whose "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnikconstraint/1468690-chainrootnode"
                    },
                    {
                      "type": "text",
                      "text": " property refers to the highest node in the hierarchy whose orientation should be adjusted by the constraint. Continuing the previous example, the root of the chain should be the node containing the upper arm (not the robot’s body, whose orientation remains fixed)."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Apply the IK constraint to the end effector node of the chain with that node’s "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnnode/1408016-constraints"
                    },
                    {
                      "type": "text",
                      "text": " property. In the robot arm example, the end effector is the hand or tool at the end of the arm."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "(Optional) Limit the range of motion of one or more joints in the chain with the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnikconstraint/1468649-setmaxallowedrotationangle"
                    },
                    {
                      "type": "text",
                      "text": " method."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "To set the constrained nodes in motion, provide a target position for the constraint with its "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnikconstraint/1468651-targetposition"
                    },
                    {
                      "type": "text",
                      "text": " property. You can animate a change to this property"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "SceneKit’s physics and inverse kinematics simulations are separate. When SceneKit prepares to render a scene, it processes the physics simulation before applying constraints (including IK constraints). As a result, the effects of an IK constraint override the results of the physics simulation. To use physics with a node also affected by constraints, the node’s "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/scenekit/scnnode/1407988-physicsbody"
                },
                {
                  "type": "text",
                  "text": " object must be a kinematic physics body."
                }
              ]
            }
          ],
          "style": "note",
          "name": "Note"
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}