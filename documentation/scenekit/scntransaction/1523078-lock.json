{
  "abstract": [
    {
      "type": "text",
      "text": "Attempts to acquire a recursive spinlock to ensure the validity of values you retrieve during the transaction."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/scenekit",
        "doc://com.apple.documentation/documentation/scenekit/animation",
        "doc://com.apple.documentation/documentation/scenekit/scntransaction"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/scenekit/scntransaction/1523078-lock",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1523078,
  "kind": "symbol",
  "metadata": {
    "title": "lock",
    "role": "symbol",
    "roleHeading": "Type Method",
    "modules": [
      {
        "name": "SceneKit"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "8.0",
        "current": "14.3"
      },
      {
        "name": "macOS",
        "introducedAt": "10.8",
        "current": "11.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "14.3"
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "current": "14.3"
      },
      {
        "name": "watchOS",
        "introducedAt": "3.0",
        "current": "7.2"
      }
    ],
    "externalID": "c:objc(cs)SCNTransaction(cm)lock",
    "symbolKind": "clm"
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/scenekit/scntransaction/1523078-lock"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/scenekit/scntransaction/1523078-lock"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/scenekit": {
      "title": "SceneKit",
      "identifier": "doc://com.apple.documentation/documentation/scenekit",
      "url": "/documentation/scenekit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/scenekit/animation": {
      "title": "Animation",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/animation",
      "url": "/documentation/scenekit/animation",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/scenekit/scntransaction": {
      "title": "SCNTransaction",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/scntransaction",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/scenekit/scntransaction",
      "abstract": [
        {
          "type": "text",
          "text": "A mechanism for creating implicit animations and combining scene graph changes into atomic updates."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/scenekit/scntransaction/1523078-lock#2557243": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/scntransaction/1523078-lock#2557243",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/scenekit/scntransaction/1523078-lock#2557243"
    },
    "doc://com.apple.documentation/documentation/scenekit/scnnode/1408026-position": {
      "title": "position",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnnode/1408026-position",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/scenekit/scnnode/1408026-position"
    },
    "doc://com.apple.documentation/documentation/scenekit/scntransaction/1523078-lock#2557245": {
      "title": "Listing 2",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/scntransaction/1523078-lock#2557245",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/scenekit/scntransaction/1523078-lock#2557245"
    },
    "doc://com.apple.documentation/documentation/scenekit/scntransaction/1523078-lock": {
      "title": "lock",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/scntransaction/1523078-lock",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/scenekit/scntransaction/1523078-lock",
      "abstract": [
        {
          "type": "text",
          "text": "Attempts to acquire a recursive spinlock to ensure the validity of values you retrieve during the transaction."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "+ "
        },
        {
          "kind": "identifier",
          "text": "lock"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/scenekit/scntransaction/1523166-unlock": {
      "title": "unlock",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/scntransaction/1523166-unlock",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/scenekit/scntransaction/1523166-unlock",
      "abstract": [
        {
          "type": "text",
          "text": "Relinquishes a previously acquired transaction lock."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "+ "
        },
        {
          "kind": "identifier",
          "text": "unlock"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/scenekit/scntransaction/1523166-unlock"
      ],
      "title": "Managing Concurrency",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "text",
              "text": "+ ("
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "identifier",
              "text": "lock"
            },
            {
              "kind": "text",
              "text": ";"
            }
          ],
          "platforms": [
            "iOS",
            "macOS",
            "Mac Catalyst",
            "tvOS",
            "watchOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "SceneKit’s data model is thread-safe in that it ensures that internal data structures will not be corrupted by concurrent attempts to modify their contents from multiple threads. However, this model does not guarantee the validity of values you read from scene graph objects after returning them."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For example, consider the following operation:"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "_node.position = SCNVector3Make(_node.position.x, _node.position.y + 10, _node.position.z);"
          ],
          "syntax": "occ",
          "metadata": {
            "anchor": "2557243",
            "title": "Listing 1"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The intent of this line is to move a node by ten units. But if another thread modifies the node’s "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/scenekit/scnnode/1408026-position"
            },
            {
              "type": "text",
              "text": " property concurrently, the new position value could be unexpected. If your app modifies the scene graph from multiple threads, use a transaction lock to ensure that your modifications take effect as intended."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "[SCNTransaction lock];",
            "_node.position = SCNVector3Make(_node.position.x, _node.position.y + 10, _node.position.z);",
            "[SCNTransaction unlock];"
          ],
          "syntax": "occ",
          "metadata": {
            "anchor": "2557245",
            "title": "Listing 2"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If another thread currently holds a lock on the transaction, calling "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/scenekit/scntransaction/1523078-lock"
            },
            {
              "type": "text",
              "text": " has no effect."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}