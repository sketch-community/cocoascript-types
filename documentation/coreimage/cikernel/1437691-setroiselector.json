{
  "abstract": [
    {
      "type": "text",
      "text": "Sets the selector Core Image uses to query the region of interest for image processing with the kernel."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/coreimage",
        "doc://com.apple.documentation/documentation/coreimage/cikernel"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/coreimage/cikernel/1437691-setroiselector",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1437691,
  "kind": "symbol",
  "metadata": {
    "title": "setROISelector:",
    "role": "symbol",
    "roleHeading": "Instance Method",
    "modules": [
      {
        "name": "Core Image"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "9.0",
        "current": "15.2"
      },
      {
        "name": "iPadOS",
        "introducedAt": "9.0",
        "current": "15.2"
      },
      {
        "name": "macOS",
        "introducedAt": "10.4",
        "current": "12.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "15.2"
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "current": "15.2"
      }
    ],
    "externalID": "c:objc(cs)CIKernel(im)setROISelector:",
    "parent": {
      "title": "CIKernel"
    },
    "symbolKind": "instm"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/coreimage/cikernel/1437691-setroiselector"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/coreimage/cikernel/1437691-setroiselector"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/coreimage": {
      "title": "Core Image",
      "identifier": "doc://com.apple.documentation/documentation/coreimage",
      "url": "/documentation/coreimage",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/coreimage/cikernel": {
      "title": "CIKernel",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreimage/cikernel",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreimage/cikernel",
      "abstract": [
        {
          "type": "text",
          "text": "A GPU-based image processing routine used to create custom Core Image filters."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreimage/cikernel/1438243-applywithextent": {
      "title": "applyWithExtent:roiCallback:arguments:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreimage/cikernel/1438243-applywithextent",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreimage/cikernel/1438243-applywithextent",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a new image using the kernel and specified arguments."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "applyWithExtent:roiCallback:arguments:"
        }
      ]
    },
    "devLink-1720908": {
      "identifier": "devLink-1720908",
      "type": "link",
      "title": "The Region of Interest",
      "url": "https://developer.apple.com/library/archive/documentation/GraphicsImaging/Conceptual/CoreImaging/ci_advanced_concepts/ci.advanced_concepts.html#//apple_ref/doc/uid/TP30001185-CH9-SW12"
    },
    "doc://com.apple.documentation/documentation/coreimage/cifilter/1438077-apply": {
      "title": "apply:arguments:options:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreimage/cifilter/1438077-apply",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreimage/cifilter/1438077-apply",
      "abstract": [
        {
          "type": "text",
          "text": "Produces a "
        },
        {
          "type": "text",
          "text": " object by applying arguments to a kernel function and using options to control how the kernel function is evaluated."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "apply:arguments:options:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreimage/cifilter": {
      "title": "CIFilter",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreimage/cifilter",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreimage/cifilter"
    },
    "doc://com.apple.documentation/documentation/coreimage/cikernel/1437691-setroiselector#2555507": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/coreimage/cikernel/1437691-setroiselector#2555507",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/coreimage/cikernel/1437691-setroiselector#2555507"
    },
    "doc://com.apple.documentation/documentation/coregraphics/cgrectnull": {
      "title": "CGRectNull",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coregraphics/cgrectnull",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coregraphics/cgrectnull"
    },
    "doc://com.apple.documentation/documentation/coreimage/ciimage": {
      "title": "CIImage",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreimage/ciimage",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreimage/ciimage"
    },
    "doc://com.apple.documentation/documentation/coreimage/cikernel/1437691-setroiselector": {
      "title": "setROISelector:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreimage/cikernel/1437691-setroiselector",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreimage/cikernel/1437691-setroiselector",
      "abstract": [
        {
          "type": "text",
          "text": "Sets the selector Core Image uses to query the region of interest for image processing with the kernel."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "setROISelector:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "title": "Related Documentation",
      "generated": false,
      "identifiers": [
        "doc://com.apple.documentation/documentation/coreimage/cikernel/1438243-applywithextent",
        "doc://com.apple.documentation/documentation/coreimage/cifilter/1438077-apply"
      ]
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "text",
              "text": "- ("
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "identifier",
              "text": "setROISelector:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "keyword",
              "text": "SEL"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "method"
            },
            {
              "kind": "text",
              "text": ";"
            }
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "macOS",
            "Mac Catalyst",
            "tvOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "aMethod",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A selector name. "
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": []
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "This method is not supported in iOS, and not recommended in macOS 10.11 and later. Supply and use a block-based ROI callback instead using the "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/coreimage/cikernel/1438243-applywithextent"
                },
                {
                  "type": "text",
                  "text": " method. The discussion below applies only to OS X v10.10 and earlier."
                }
              ]
            }
          ],
          "style": "important"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When applying a filter kernel, the region of interest (ROI) is the area of source image pixels that must be processed to produce a given area of destination image pixels. For a more detailed definition, see "
            },
            {
              "type": "link",
              "title": "The Region of Interest",
              "destination": "https://developer.apple.com/library/archive/documentation/GraphicsImaging/Conceptual/CoreImaging/ci_advanced_concepts/ci.advanced_concepts.html#//apple_ref/doc/uid/TP30001185-CH9-SW12"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The "
            },
            {
              "type": "codeVoice",
              "code": "aMethod"
            },
            {
              "type": "text",
              "text": " argument must use the signature that is defined for the "
            },
            {
              "type": "codeVoice",
              "code": "regionOf:destRect:userInfo:"
            },
            {
              "type": "text",
              "text": " method, which is as follows:"
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "codeVoice",
              "code": "- (CGRect) regionOf:(int)samplerIndex destRect:(CGRect)r userInfo:obj;"
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "where: "
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "codeVoice",
                      "code": "samplerIndex"
                    },
                    {
                      "type": "text",
                      "text": " defines the sampler to query"
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "codeVoice",
                      "code": "destRect"
                    },
                    {
                      "type": "text",
                      "text": " is the extent of the region, in working space coordinates, to render."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "codeVoice",
                      "code": "userInfo"
                    },
                    {
                      "type": "text",
                      "text": " is the object associated with the "
                    },
                    {
                      "type": "codeVoice",
                      "code": "kCIApplyOptionUserInfo"
                    },
                    {
                      "type": "text",
                      "text": " option when the kernel is applied to its arguments (with the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/coreimage/cifilter/1438077-apply"
                    },
                    {
                      "type": "text",
                      "text": " method of a "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/coreimage/cifilter"
                    },
                    {
                      "type": "text",
                      "text": " object using the kernel). The "
                    },
                    {
                      "type": "codeVoice",
                      "code": "userInfo"
                    },
                    {
                      "type": "text",
                      "text": " is important because instance variables can’t be used by the defining class. Instance variables must be passed through the "
                    },
                    {
                      "type": "codeVoice",
                      "code": "userInfo"
                    },
                    {
                      "type": "text",
                      "text": " argument."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The "
            },
            {
              "type": "codeVoice",
              "code": "regionOf:destRect:userInfo:"
            },
            {
              "type": "text",
              "text": " method of the CIFilter object is called by the framework. This method returns the rectangle that contains the region of the sampler that the kernel needs to render the specified destination rectangle. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A sample "
            },
            {
              "type": "codeVoice",
              "code": "regionOf:destRect:userInfo:"
            },
            {
              "type": "text",
              "text": " method might look as follows:"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "- (CGRect)regionOf:(int)sampler destRect:(CGRect)r userInfo:params",
            "{",
            "  float scale = fabs ([params X]);",
            "  return CGRectInset (r, scale * -1.3333, scale * -1.3333);",
            "}"
          ],
          "syntax": "occ",
          "metadata": {
            "anchor": "2555507",
            "title": "Listing 1"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If your kernel does not need the image at "
            },
            {
              "type": "codeVoice",
              "code": "index"
            },
            {
              "type": "text",
              "text": " to produce output in the rectangle "
            },
            {
              "type": "codeVoice",
              "code": "rect"
            },
            {
              "type": "text",
              "text": ", your method should return "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coregraphics/cgrectnull"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "In the filter code, you set the selector using the following:"
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "codeVoice",
              "code": "[kernel setROISelector:@selector(regionOf:destRect:userInfo:)"
            },
            {
              "type": "text",
              "text": "]"
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Alternatively, use the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coreimage/cikernel/1438243-applywithextent"
            },
            {
              "type": "text",
              "text": " method to directly apply a kernel to create an output image, specifying the ROI callback as a block or closure."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}