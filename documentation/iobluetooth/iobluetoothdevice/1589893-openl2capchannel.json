{
  "abstract": [
    {
      "type": "text",
      "text": "Opens a new L2CAP channel to the target device. Returns immedialty after starting the opening process."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/iobluetooth",
        "doc://com.apple.documentation/documentation/iobluetooth/iobluetoothdevice"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/iobluetooth/iobluetoothdevice/1589893-openl2capchannel",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1589893,
  "kind": "symbol",
  "metadata": {
    "title": "openL2CAPChannel:findExisting:newChannel:",
    "role": "symbol",
    "roleHeading": "Instance Method",
    "modules": [
      {
        "name": "IOBluetooth"
      }
    ],
    "platforms": [
      {
        "name": "macOS",
        "introducedAt": "10.0",
        "deprecatedAt": "10.5",
        "current": "11.1",
        "deprecated": true
      }
    ],
    "externalID": "c:objc(cs)IOBluetoothDevice(im)openL2CAPChannel:findExisting:newChannel:",
    "symbolKind": "instm"
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/iobluetooth/iobluetoothdevice/1589893-openl2capchannel"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/iobluetooth": {
      "title": "IOBluetooth",
      "identifier": "doc://com.apple.documentation/documentation/iobluetooth",
      "url": "/documentation/iobluetooth",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/iobluetooth/iobluetoothdevice": {
      "title": "IOBluetoothDevice",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/iobluetooth/iobluetoothdevice",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/iobluetooth/iobluetoothdevice",
      "abstract": [
        {
          "type": "text",
          "text": "An instance of IOBluetoothDevice represents a single remote Bluetooth device."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/driverkit/ioreturn": {
      "title": "IOReturn",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/driverkit/ioreturn",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/driverkit/ioreturn"
    },
    "doc://com.apple.documentation/documentation/iobluetooth/bluetoothl2cappsm": {
      "title": "BluetoothL2CAPPSM",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/iobluetooth/bluetoothl2cappsm",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/iobluetooth/bluetoothl2cappsm"
    },
    "doc://com.apple.documentation/documentation/iobluetooth/iobluetoothl2capchannel": {
      "title": "IOBluetoothL2CAPChannel",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/iobluetooth/iobluetoothl2capchannel",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/iobluetooth/iobluetoothl2capchannel"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "text",
              "text": "- ("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@IOReturn",
              "identifier": "doc://com.apple.documentation/documentation/driverkit/ioreturn",
              "text": "IOReturn"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "identifier",
              "text": "openL2CAPChannel:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@BluetoothL2CAPPSM",
              "identifier": "doc://com.apple.documentation/documentation/iobluetooth/bluetoothl2cappsm",
              "text": "BluetoothL2CAPPSM"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "psm"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "findExisting:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "keyword",
              "text": "BOOL"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "findExisting"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "newChannel:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)IOBluetoothL2CAPChannel",
              "identifier": "doc://com.apple.documentation/documentation/iobluetooth/iobluetoothl2capchannel",
              "text": "IOBluetoothL2CAPChannel"
            },
            {
              "kind": "text",
              "text": " **"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "newChannel"
            },
            {
              "kind": "text",
              "text": ";"
            }
          ],
          "platforms": [
            "macOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "psm",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The L2CAP PSM value for the new channel."
                }
              ]
            }
          ]
        },
        {
          "name": "findExisting",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "This value should be set to TRUE if it should look for an existing channel with the PSM. Typically this value will be FALSE. It should be TRUE only in the case where a single channel is allowed by the spec for the given PSM."
                }
              ]
            }
          ]
        },
        {
          "name": "newChannel",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A pointer to an IOBluetoothL2CAPChannel object to receive the L2CAP channel requested to be opened. The newChannel pointer will only be set if kIOReturnSuccess is returned."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Returns kIOReturnSuccess if the open process was successfully started (or if an existing L2CAP channel was found)."
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This method will begin the process of opening a new L2CAP channel to the target device. The baseband connection to the device will be opened if it is not open already. The L2CAP channel open process will not complete until the client has registered an incoming data listener on the new channel. This prevents a situation where the channel succeeds in being configured and opened and receives data before the client is listening and is ready for it."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}