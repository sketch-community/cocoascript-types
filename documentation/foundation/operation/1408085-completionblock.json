{
  "abstract": [
    {
      "type": "text",
      "text": "The block to execute after the operation’s main task is completed."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/task_management",
        "doc://com.apple.documentation/documentation/foundation/operation"
      ],
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/processes_and_threads",
        "doc://com.apple.documentation/documentation/foundation/operation"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/foundation/operation/1408085-completionblock",
    "interfaceLanguage": "swift"
  },
  "legacy_identifier": 1408085,
  "kind": "symbol",
  "metadata": {
    "title": "completionBlock",
    "role": "symbol",
    "roleHeading": "Instance Property",
    "modules": [
      {
        "name": "Foundation"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "4.0",
        "current": "14.3"
      },
      {
        "name": "macOS",
        "introducedAt": "10.6",
        "current": "11.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "14.3"
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "current": "14.3"
      },
      {
        "name": "watchOS",
        "introducedAt": "2.0",
        "current": "7.2"
      }
    ],
    "externalID": "c:objc(cs)NSOperation(py)completionBlock",
    "symbolKind": "instp",
    "fragments": [
      {
        "kind": "text",
        "text": "var "
      },
      {
        "kind": "identifier",
        "text": "completionBlock"
      },
      {
        "kind": "text",
        "text": ": (() -> Void)?"
      }
    ]
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/foundation/nsoperation/1408085-completionblock"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/foundation/operation/1408085-completionblock"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/foundation": {
      "title": "Foundation",
      "identifier": "doc://com.apple.documentation/documentation/foundation",
      "url": "/documentation/foundation",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/foundation/task_management": {
      "title": "Task Management",
      "identifier": "doc://com.apple.documentation/documentation/foundation/task_management",
      "url": "/documentation/foundation/task_management",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/foundation/operation": {
      "title": "Operation",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/operation",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/operation",
      "abstract": [
        {
          "type": "text",
          "text": "An abstract class that represents the code and data associated with a single task."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/processes_and_threads": {
      "title": "Processes and Threads",
      "identifier": "doc://com.apple.documentation/documentation/foundation/processes_and_threads",
      "url": "/documentation/foundation/processes_and_threads",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/foundation/operation/1413540-isfinished": {
      "title": "isFinished",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/operation/1413540-isfinished",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/operation/1413540-isfinished"
    },
    "doc://com.apple.documentation/documentation/swift/true": {
      "title": "true",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/swift/true",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/swift/true"
    },
    "doc://com.apple.documentation/documentation/swift/void": {
      "title": "Void",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/swift/void",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/swift/void"
    },
    "doc://com.apple.documentation/documentation/foundation/operation/1416837-start": {
      "title": "start()",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/operation/1416837-start",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/operation/1416837-start",
      "abstract": [
        {
          "type": "text",
          "text": "Begins the execution of the operation. "
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "func "
        },
        {
          "kind": "identifier",
          "text": "start"
        },
        {
          "kind": "text",
          "text": "()"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/operation/1407732-main": {
      "title": "main()",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/operation/1407732-main",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/operation/1407732-main",
      "abstract": [
        {
          "type": "text",
          "text": "Performs the receiver’s non-concurrent task."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "func "
        },
        {
          "kind": "identifier",
          "text": "main"
        },
        {
          "kind": "text",
          "text": "()"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/operation/1408085-completionblock": {
      "title": "completionBlock",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/operation/1408085-completionblock",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/operation/1408085-completionblock",
      "abstract": [
        {
          "type": "text",
          "text": "The block to execute after the operation’s main task is completed."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "var "
        },
        {
          "kind": "identifier",
          "text": "completionBlock"
        },
        {
          "kind": "text",
          "text": ": (() -> Void)?"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/operation/1416837-start",
        "doc://com.apple.documentation/documentation/foundation/operation/1407732-main"
      ],
      "title": "Executing the Operation",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "swift"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "var"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "completionBlock"
            },
            {
              "kind": "text",
              "text": ": "
            },
            {
              "kind": "text",
              "text": "(() -> "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "s:s4Voida",
              "identifier": "doc://com.apple.documentation/documentation/swift/void",
              "text": "Void"
            },
            {
              "kind": "text",
              "text": ")?"
            },
            {
              "kind": "text",
              "text": " { "
            },
            {
              "kind": "keyword",
              "text": "get"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "keyword",
              "text": "set"
            },
            {
              "kind": "text",
              "text": " }"
            }
          ],
          "platforms": [
            "iOS",
            "macOS",
            "Mac Catalyst",
            "tvOS",
            "watchOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The completion block takes no parameters and has no return value. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The exact execution context for your completion block is not guaranteed but is typically a secondary thread. Therefore, you should not use this block to do any work that requires a very specific execution context. Instead, you should shunt that work to your application’s main thread or to the specific thread that is capable of doing it. For example, if you have a custom thread for coordinating the completion of the operation, you could use the completion block to ping that thread. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The completion block you provide is executed when the value in the "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/foundation/operation/1413540-isfinished"
            },
            {
              "type": "text",
              "text": " property changes to "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/swift/true"
            },
            {
              "type": "text",
              "text": ". Because the completion block executes after the operation indicates it has finished its task, you must not use a completion block to queue additional work considered to be part of that task. An operation object whose "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/foundation/operation/1413540-isfinished"
            },
            {
              "type": "text",
              "text": " property contains the value "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/swift/true"
            },
            {
              "type": "text",
              "text": " must be done with all of its task-related work by definition. The completion block should be used to notify interested objects that the work is complete or perform other tasks that might be related to, but not part of, the operation’s actual task. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A finished operation may finish either because it was cancelled or because it successfully completed its task. You should take that fact into account when writing your block code. Similarly, you should not make any assumptions about the successful completion of dependent operations, which may themselves have been cancelled."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "In iOS 8 and later and macOS 10.10 and later, this property is set to "
            },
            {
              "type": "codeVoice",
              "code": "nil"
            },
            {
              "type": "text",
              "text": " after the completion block begins executing. "
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}