{
  "abstract": [
    {
      "type": "text",
      "text": "An iCloud-based container of key-value pairs you use to share data among instances of your app running on a user's connected devices."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/icloud"
      ],
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/preferences"
      ],
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/appkit",
        "doc://com.apple.documentation/documentation/appkit/documents_data_and_pasteboard"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1412202,
  "kind": "symbol",
  "metadata": {
    "title": "NSUbiquitousKeyValueStore",
    "role": "symbol",
    "roleHeading": "Class",
    "modules": [
      {
        "name": "Foundation"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "5.0",
        "current": "14.3"
      },
      {
        "name": "macOS",
        "introducedAt": "10.7",
        "current": "11.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "14.3"
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "current": "14.3"
      }
    ],
    "externalID": "c:objc(cs)NSUbiquitousKeyValueStore",
    "symbolKind": "cl"
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/foundation/nsubiquitouskeyvaluestore"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/foundation/nsubiquitouskeyvaluestore"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/foundation": {
      "title": "Foundation",
      "identifier": "doc://com.apple.documentation/documentation/foundation",
      "url": "/documentation/foundation",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/foundation/icloud": {
      "title": "iCloud",
      "identifier": "doc://com.apple.documentation/documentation/foundation/icloud",
      "url": "/documentation/foundation/icloud",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/foundation/preferences": {
      "title": "Preferences",
      "identifier": "doc://com.apple.documentation/documentation/foundation/preferences",
      "url": "/documentation/foundation/preferences",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/appkit": {
      "title": "AppKit",
      "identifier": "doc://com.apple.documentation/documentation/appkit",
      "url": "/documentation/appkit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/appkit/documents_data_and_pasteboard": {
      "title": "Documents, Data, and Pasteboard",
      "identifier": "doc://com.apple.documentation/documentation/appkit/documents_data_and_pasteboard",
      "url": "/documentation/appkit/documents_data_and_pasteboard",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestoredidchangeexternallynotification": {
      "title": "NSUbiquitousKeyValueStoreDidChangeExternallyNotification",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestoredidchangeexternallynotification",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestoredidchangeexternallynotification",
      "abstract": [
        {
          "type": "text",
          "text": "Posted when the value of one or more keys in the local key-value store changed due to incoming data pushed from iCloud."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestorechangereasonkey": {
      "title": "NSUbiquitousKeyValueStoreChangeReasonKey",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestorechangereasonkey",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestorechangereasonkey"
    },
    "doc://com.apple.documentation/documentation/foundation/nsnumber": {
      "title": "NSNumber",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsnumber",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsnumber"
    },
    "doc://com.apple.documentation/documentation/foundation/nsstring": {
      "title": "NSString",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsstring",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsstring"
    },
    "doc://com.apple.documentation/documentation/foundation/nsdate": {
      "title": "NSDate",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsdate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsdate"
    },
    "doc://com.apple.documentation/documentation/foundation/nsdata": {
      "title": "NSData",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsdata",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsdata"
    },
    "doc://com.apple.documentation/documentation/foundation/nsarray": {
      "title": "NSArray",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsarray",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsarray"
    },
    "doc://com.apple.documentation/documentation/foundation/nsdictionary": {
      "title": "NSDictionary",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsdictionary",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsdictionary"
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1415989-synchronize": {
      "title": "synchronize",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1415989-synchronize",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore/1415989-synchronize",
      "abstract": [
        {
          "type": "text",
          "text": "Explicitly synchronizes in-memory keys and values with those stored on disk."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "synchronize"
        }
      ]
    },
    "devLink-1747187": {
      "identifier": "devLink-1747187",
      "type": "link",
      "title": "Designing for Key-Value Data in iCloud",
      "url": "https://developer.apple.com/library/archive/documentation/General/Conceptual/iCloudDesignGuide/Chapters/DesigningForKey-ValueDataIniCloud.html#//apple_ref/doc/uid/TP40012094-CH7"
    },
    "devLink-1747128": {
      "identifier": "devLink-1747128",
      "type": "link",
      "title": "iCloud Design Guide",
      "url": "https://developer.apple.com/library/archive/documentation/General/Conceptual/iCloudDesignGuide/Chapters/Introduction.html#//apple_ref/doc/uid/TP40012094"
    },
    "doc://com.apple.documentation/documentation/foundation/1433687-change_reason_values/nsubiquitouskeyvaluestorequotaviolationchange": {
      "title": "NSUbiquitousKeyValueStoreQuotaViolationChange",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/1433687-change_reason_values/nsubiquitouskeyvaluestorequotaviolationchange",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/1433687-change_reason_values/nsubiquitouskeyvaluestorequotaviolationchange"
    },
    "devLink-1747176": {
      "identifier": "devLink-1747176",
      "type": "link",
      "title": "Configuring Common Key-Value Storage for Multiple Apps",
      "url": "https://developer.apple.com/library/archive/documentation/General/Conceptual/iCloudDesignGuide/Chapters/iCloudFundametals.html#//apple_ref/doc/uid/TP40012094-CH6-SW26"
    },
    "doc://com.apple.documentation/documentation/objectivec/nsobject": {
      "title": "NSObject",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/objectivec/nsobject",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/objectivec/nsobject"
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1413949-defaultstore": {
      "title": "defaultStore",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1413949-defaultstore",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore/1413949-defaultstore",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the shared iCloud key-value store object."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1412191-arrayforkey": {
      "title": "arrayForKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1412191-arrayforkey",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore/1412191-arrayforkey",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the array associated with the specified key."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "arrayForKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1417350-boolforkey": {
      "title": "boolForKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1417350-boolforkey",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore/1417350-boolforkey",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the Boolean value associated with the specified key."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "boolForKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1417800-dataforkey": {
      "title": "dataForKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1417800-dataforkey",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore/1417800-dataforkey",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the data object associated with the specified key."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "dataForKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1416241-dictionaryforkey": {
      "title": "dictionaryForKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1416241-dictionaryforkey",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore/1416241-dictionaryforkey",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the dictionary object associated with the specified key."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "dictionaryForKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1409319-doubleforkey": {
      "title": "doubleForKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1409319-doubleforkey",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore/1409319-doubleforkey",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the double value associated with the specified key."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "doubleForKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1413240-longlongforkey": {
      "title": "longLongForKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1413240-longlongforkey",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore/1413240-longlongforkey",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the "
        },
        {
          "type": "codeVoice",
          "code": "long long"
        },
        {
          "type": "text",
          "text": " value associated with the specified key."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "longLongForKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1407436-objectforkey": {
      "title": "objectForKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1407436-objectforkey",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore/1407436-objectforkey",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the object associated with the specified key."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "objectForKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1418249-stringforkey": {
      "title": "stringForKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1418249-stringforkey",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore/1418249-stringforkey",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the string associated with the specified key."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "stringForKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1417721-setarray": {
      "title": "setArray:forKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1417721-setarray",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore/1417721-setarray",
      "abstract": [
        {
          "type": "text",
          "text": "Sets an array object for the specified key in the key-value store. "
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "setArray:forKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1415054-setbool": {
      "title": "setBool:forKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1415054-setbool",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore/1415054-setbool",
      "abstract": [
        {
          "type": "text",
          "text": "Sets a Boolean value for the specified key in the key-value store. "
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "setBool:forKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1416218-setdata": {
      "title": "setData:forKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1416218-setdata",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore/1416218-setdata",
      "abstract": [
        {
          "type": "text",
          "text": "Sets a data object for the specified key in the key-value store. "
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "setData:forKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1417155-setdictionary": {
      "title": "setDictionary:forKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1417155-setdictionary",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore/1417155-setdictionary",
      "abstract": [
        {
          "type": "text",
          "text": "Sets a dictionary object for the specified key in the key-value store. "
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "setDictionary:forKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1412608-setdouble": {
      "title": "setDouble:forKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1412608-setdouble",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore/1412608-setdouble",
      "abstract": [
        {
          "type": "text",
          "text": "Sets a double value for the specified key in the key-value store. "
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "setDouble:forKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1407812-setlonglong": {
      "title": "setLongLong:forKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1407812-setlonglong",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore/1407812-setlonglong",
      "abstract": [
        {
          "type": "text",
          "text": "Sets a "
        },
        {
          "type": "codeVoice",
          "code": "long long"
        },
        {
          "type": "text",
          "text": " value for the specified key in the key-value store."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "setLongLong:forKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1416434-setobject": {
      "title": "setObject:forKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1416434-setobject",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore/1416434-setobject",
      "abstract": [
        {
          "type": "text",
          "text": "Sets an object for the specified key in the key-value store."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "setObject:forKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1414610-setstring": {
      "title": "setString:forKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1414610-setstring",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore/1414610-setstring",
      "abstract": [
        {
          "type": "text",
          "text": "Sets a string object for the specified key in the key-value store. "
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "setString:forKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1410916-removeobjectforkey": {
      "title": "removeObjectForKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1410916-removeobjectforkey",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore/1410916-removeobjectforkey",
      "abstract": [
        {
          "type": "text",
          "text": "Removes the value associated with the specified key from the key-value store."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "removeObjectForKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1411129-dictionaryrepresentation": {
      "title": "dictionaryRepresentation",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1411129-dictionaryrepresentation",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore/1411129-dictionaryrepresentation",
      "abstract": [
        {
          "type": "text",
          "text": "A dictionary containing all of the key-value pairs in the key-value store."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/notification_keys": {
      "title": "Notification Keys",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/notification_keys",
      "kind": "article",
      "role": "collectionGroup",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore/notification_keys",
      "abstract": [
        {
          "type": "text",
          "text": "These keys can be included in the user info dictionary of the "
        },
        {
          "type": "reference",
          "isActive": false,
          "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestoredidchangeexternallynotification"
        },
        {
          "type": "text",
          "text": " notification."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/1433687-change_reason_values": {
      "title": "Change Reason Values",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/1433687-change_reason_values",
      "kind": "symbol",
      "role": "containerSymbol",
      "url": "/documentation/foundation/1433687-change_reason_values",
      "abstract": [
        {
          "type": "text",
          "text": "Possible values associated with the "
        },
        {
          "type": "reference",
          "isActive": false,
          "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestorechangereasonkey"
        },
        {
          "type": "text",
          "text": " key. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/icloud/synchronizing_app_preferences_with_icloud": {
      "title": "Synchronizing App Preferences with iCloud",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/icloud/synchronizing_app_preferences_with_icloud",
      "kind": "article",
      "role": "sampleCode",
      "url": "/documentation/foundation/icloud/synchronizing_app_preferences_with_icloud",
      "abstract": [
        {
          "type": "text",
          "text": "Store app preferences in iCloud and share them among instances of your app running on a user’s connected devices."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore": {
      "title": "NSUbiquitousKeyValueStore",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsubiquitouskeyvaluestore",
      "abstract": [
        {
          "type": "text",
          "text": "An iCloud-based container of key-value pairs you use to share data among instances of your app running on a user's connected devices."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "relationshipsSections": [
    {
      "kind": "relationships",
      "title": "Inherits From",
      "type": "inheritsFrom",
      "identifiers": [
        "doc://com.apple.documentation/documentation/objectivec/nsobject"
      ]
    }
  ],
  "topicSections": [
    {
      "kind": "taskGroup",
      "title": "Getting the Shared Instance",
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1413949-defaultstore"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Getting Values",
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1412191-arrayforkey",
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1417350-boolforkey",
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1417800-dataforkey",
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1416241-dictionaryforkey",
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1409319-doubleforkey",
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1413240-longlongforkey",
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1407436-objectforkey",
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1418249-stringforkey"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Setting Values",
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1417721-setarray",
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1415054-setbool",
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1416218-setdata",
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1417155-setdictionary",
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1412608-setdouble",
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1407812-setlonglong",
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1416434-setobject",
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1414610-setstring"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Explicitly Synchronizing In-Memory Key-Value Data to Disk",
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1415989-synchronize"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Removing Keys",
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1410916-removeobjectforkey"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Retrieving the Current Keys and Values",
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1411129-dictionaryrepresentation"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Constants",
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/notification_keys",
        "doc://com.apple.documentation/documentation/foundation/1433687-change_reason_values"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Notifications",
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestoredidchangeexternallynotification"
      ]
    }
  ],
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/icloud/synchronizing_app_preferences_with_icloud"
      ],
      "title": "App Preferences",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "@interface"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "NSUbiquitousKeyValueStore"
            },
            {
              "kind": "text",
              "text": " : "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSObject",
              "identifier": "doc://com.apple.documentation/documentation/objectivec/nsobject",
              "text": "NSObject"
            }
          ],
          "platforms": [
            "iOS",
            "macOS",
            "Mac Catalyst",
            "tvOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Use the iCloud key-value store to make preference, configuration, and app-state data available to every instance of your app on every device connected to a user’s iCloud account. You can store scalar values such as "
            },
            {
              "type": "codeVoice",
              "code": "BOOL"
            },
            {
              "type": "text",
              "text": ", as well as values containing any of the property list object types: "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsnumber"
            },
            {
              "type": "text",
              "text": ", "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsstring"
            },
            {
              "type": "text",
              "text": ", "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsdate"
            },
            {
              "type": "text",
              "text": ", "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsdata"
            },
            {
              "type": "text",
              "text": ", "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsarray"
            },
            {
              "type": "text",
              "text": ", and "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsdictionary"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Changes your app writes to the key-value store object are initially held in memory, then written to disk by the system at appropriate times. If you write to the key-value store object when the user is not signed into an iCloud account, the data is stored locally until the next synchronization opportunity. When the user signs into an iCloud account, the system automatically reconciles your local, on-disk keys and values with those on the iCloud server."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Any device running your app, and attached to the same iCloud account, can upload key-value changes to iCloud. To keep track of such changes, register for the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestoredidchangeexternallynotification"
            },
            {
              "type": "text",
              "text": " notification during app launch. Then, obtain the keys and values from iCloud (which may be newer than those that are local) by calling the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1415989-synchronize"
            },
            {
              "type": "text",
              "text": " method. You need not call the "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestore/1415989-synchronize"
            },
            {
              "type": "text",
              "text": " method again during your app’s life cycle, unless your app design requires fast-as-possible upload to iCloud after you change a value."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For more information on adopting key-value storage in your app, see "
            },
            {
              "type": "link",
              "title": "Designing for Key-Value Data in iCloud",
              "destination": "https://developer.apple.com/library/archive/documentation/General/Conceptual/iCloudDesignGuide/Chapters/DesigningForKey-ValueDataIniCloud.html#//apple_ref/doc/uid/TP40012094-CH7"
            },
            {
              "type": "text",
              "text": " in "
            },
            {
              "type": "link",
              "title": "iCloud Design Guide",
              "destination": "https://developer.apple.com/library/archive/documentation/General/Conceptual/iCloudDesignGuide/Chapters/Introduction.html#//apple_ref/doc/uid/TP40012094"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Avoid using this class for data that is essential to your app’s behavior when offline; instead, store such data directly into the local user defaults database."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The total amount of space available in your app’s key-value store, for a given user, is 1 MB. There is a per-key value size limit of 1 MB, and a maximum of 1024 keys. If you attempt to write data that exceeds these quotas, the write attempt fails and no change is made to your iCloud key-value storage. In this scenario, the system posts the  "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsubiquitouskeyvaluestoredidchangeexternallynotification"
            },
            {
              "type": "text",
              "text": " notification with a change reason of "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/1433687-change_reason_values/nsubiquitouskeyvaluestorequotaviolationchange"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The maximum length for key strings for the iCloud key-value store is 64 bytes using UTF8 encoding. Attempting to write a value to a longer key name results in a runtime error."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To use this class, you must distribute your app through the App Store or Mac App Store, and you must request the "
            },
            {
              "type": "codeVoice",
              "code": "com.apple.developer.ubiquity-kvstore-identifier"
            },
            {
              "type": "text",
              "text": " entitlement in your Xcode project. For more on this, see "
            },
            {
              "type": "link",
              "title": "Configuring Common Key-Value Storage for Multiple Apps",
              "destination": "https://developer.apple.com/library/archive/documentation/General/Conceptual/iCloudDesignGuide/Chapters/iCloudFundametals.html#//apple_ref/doc/uid/TP40012094-CH6-SW26"
            },
            {
              "type": "text",
              "text": " in "
            },
            {
              "type": "link",
              "title": "iCloud Design Guide",
              "destination": "https://developer.apple.com/library/archive/documentation/General/Conceptual/iCloudDesignGuide/Chapters/Introduction.html#//apple_ref/doc/uid/TP40012094"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This class is not meant to be subclassed."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}