{
  "abstract": [
    {
      "type": "text",
      "text": "Returns the container directory associated with the specified security application group identifier."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/file_system",
        "doc://com.apple.documentation/documentation/foundation/filemanager"
      ],
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/icloud",
        "doc://com.apple.documentation/documentation/foundation/filemanager"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/foundation/filemanager/1412643-containerurl",
    "interfaceLanguage": "swift"
  },
  "legacy_identifier": 1412643,
  "kind": "symbol",
  "metadata": {
    "title": "containerURL(forSecurityApplicationGroupIdentifier:)",
    "role": "symbol",
    "roleHeading": "Instance Method",
    "modules": [
      {
        "name": "Foundation"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "7.0",
        "current": "14.3"
      },
      {
        "name": "macOS",
        "introducedAt": "10.8",
        "current": "11.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "14.3"
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "current": "14.3"
      },
      {
        "name": "watchOS",
        "introducedAt": "2.0",
        "current": "7.2"
      }
    ],
    "externalID": "c:objc(cs)NSFileManager(im)containerURLForSecurityApplicationGroupIdentifier:",
    "symbolKind": "instm",
    "fragments": [
      {
        "kind": "text",
        "text": "func "
      },
      {
        "kind": "identifier",
        "text": "containerURL"
      },
      {
        "kind": "text",
        "text": "("
      },
      {
        "kind": "identifier",
        "text": "forSecurityApplicationGroupIdentifier"
      },
      {
        "kind": "text",
        "text": ": String) -> URL?"
      }
    ]
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/foundation/nsfilemanager/1412643-containerurlforsecurityapplicati"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/foundation/filemanager/1412643-containerurl"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/foundation": {
      "title": "Foundation",
      "identifier": "doc://com.apple.documentation/documentation/foundation",
      "url": "/documentation/foundation",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/foundation/file_system": {
      "title": "File System",
      "identifier": "doc://com.apple.documentation/documentation/foundation/file_system",
      "url": "/documentation/foundation/file_system",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/foundation/filemanager": {
      "title": "FileManager",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/filemanager",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/filemanager",
      "abstract": [
        {
          "type": "text",
          "text": "A convenient interface to the contents of the file system, and the primary means of interacting with it."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/icloud": {
      "title": "iCloud",
      "identifier": "doc://com.apple.documentation/documentation/foundation/icloud",
      "url": "/documentation/foundation/icloud",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/bundleresources/entitlements/com_apple_security_application-groups": {
      "title": "App Groups Entitlement",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/bundleresources/entitlements/com_apple_security_application-groups",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/bundleresources/entitlements/com_apple_security_application-groups",
      "abstract": [
        {
          "type": "text",
          "text": "A list of identifiers specifying the groups your app belongs to."
        }
      ],
      "titleStyle": "title",
      "name": "com.apple.security.application-groups",
      "ideTitle": "App Groups Entitlement"
    },
    "devLink-1745931": {
      "identifier": "devLink-1745931",
      "type": "link",
      "title": "Adding an App to an App Group",
      "url": "https://developer.apple.com/library/archive/documentation/Miscellaneous/Reference/EntitlementKeyReference/Chapters/EnablingAppSandbox.html#//apple_ref/doc/uid/TP40011195-CH4-SW19"
    },
    "devLink-1745902": {
      "identifier": "devLink-1745902",
      "type": "link",
      "title": "Entitlement Key Reference",
      "url": "https://developer.apple.com/library/archive/documentation/Miscellaneous/Reference/EntitlementKeyReference/Chapters/AboutEntitlements.html#//apple_ref/doc/uid/TP40011195"
    },
    "doc://com.apple.documentation/documentation/foundation/filemanager/1412643-containerurl": {
      "title": "containerURL(forSecurityApplicationGroupIdentifier:)",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/filemanager/1412643-containerurl",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/filemanager/1412643-containerurl",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the container directory associated with the specified security application group identifier."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "func "
        },
        {
          "kind": "identifier",
          "text": "containerURL"
        },
        {
          "kind": "text",
          "text": "("
        },
        {
          "kind": "identifier",
          "text": "forSecurityApplicationGroupIdentifier"
        },
        {
          "kind": "text",
          "text": ": String) -> URL?"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsurl": {
      "title": "NSURL",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurl",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsurl"
    },
    "devLink-1745822": {
      "identifier": "devLink-1745822",
      "type": "link",
      "title": "App Sandbox Design Guide",
      "url": "https://developer.apple.com/library/archive/documentation/Security/Conceptual/AppSandboxDesignGuide/AboutAppSandbox/AboutAppSandbox.html#//apple_ref/doc/uid/TP40011183"
    },
    "doc://com.apple.documentation/documentation/security/keychain_services/keychain_items/sharing_access_to_keychain_items_among_a_collection_of_apps#2974917": {
      "title": "Use App Groups to Expand Sharing of Keychain and Non-Keychain Data",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/security/keychain_services/keychain_items/sharing_access_to_keychain_items_among_a_collection_of_apps#2974917",
      "kind": "article",
      "role": "subsection",
      "url": "/documentation/security/keychain_services/keychain_items/sharing_access_to_keychain_items_among_a_collection_of_apps#2974917"
    },
    "doc://com.apple.documentation/documentation/security/keychain_services/keychain_items/sharing_access_to_keychain_items_among_a_collection_of_apps": {
      "title": "Sharing Access to Keychain Items Among a Collection of Apps",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/keychain_services/keychain_items/sharing_access_to_keychain_items_among_a_collection_of_apps",
      "kind": "article",
      "role": "article",
      "url": "/documentation/security/keychain_services/keychain_items/sharing_access_to_keychain_items_among_a_collection_of_apps",
      "abstract": [
        {
          "type": "text",
          "text": "Enable apps to share keychain items with each other by adding the apps to an access group."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/swift/string": {
      "title": "String",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/swift/string",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/swift/string"
    },
    "doc://com.apple.documentation/documentation/foundation/url": {
      "title": "URL",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/url",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/url"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/bundleresources/entitlements/com_apple_security_application-groups"
      ],
      "title": "Locating Application Group Container Directories",
      "generated": true
    },
    {
      "title": "Related Documentation",
      "generated": false,
      "identifiers": [
        "devLink-1745822",
        "doc://com.apple.documentation/documentation/security/keychain_services/keychain_items/sharing_access_to_keychain_items_among_a_collection_of_apps#2974917",
        "devLink-1745902"
      ]
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "swift"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "func"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "containerURL"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "externalParam",
              "text": "forSecurityApplicationGroupIdentifier"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "internalParam",
              "text": "groupIdentifier"
            },
            {
              "kind": "text",
              "text": ": "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "s:SS",
              "identifier": "doc://com.apple.documentation/documentation/swift/string",
              "text": "String"
            },
            {
              "kind": "text",
              "text": ") -> "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "s:10Foundation3URLV",
              "identifier": "doc://com.apple.documentation/documentation/foundation/url",
              "text": "URL"
            },
            {
              "kind": "text",
              "text": "?"
            }
          ],
          "platforms": [
            "iOS",
            "macOS",
            "Mac Catalyst",
            "tvOS",
            "watchOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "swift"
      ],
      "parameters": [
        {
          "name": "groupIdentifier",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A string that names the group whose shared directory you want to obtain. This input should exactly match one of the strings in the app's "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/bundleresources/entitlements/com_apple_security_application-groups"
                },
                {
                  "type": "text",
                  "text": ". "
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A URL indicating the location of the group's shared directory in the file system. In iOS, the value is "
            },
            {
              "type": "codeVoice",
              "code": "nil"
            },
            {
              "type": "text",
              "text": " when the group identifier is invalid. In macOS, a URL of the expected form is always returned, even if the app group is invalid, so be sure to test that you can access the underlying directory before attempting to use it."
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Sandboxed apps in macOS and all apps in iOS that need to share files with other apps from the same developer on a given device use the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/bundleresources/entitlements/com_apple_security_application-groups"
            },
            {
              "type": "text",
              "text": " to join one or more application groups. The entitlement consists of an array of group identifier strings that indicate the groups to which the app belongs, as described in "
            },
            {
              "type": "link",
              "title": "Adding an App to an App Group",
              "destination": "https://developer.apple.com/library/archive/documentation/Miscellaneous/Reference/EntitlementKeyReference/Chapters/EnablingAppSandbox.html#//apple_ref/doc/uid/TP40011195-CH4-SW19"
            },
            {
              "type": "text",
              "text": " in "
            },
            {
              "type": "link",
              "title": "Entitlement Key Reference",
              "destination": "https://developer.apple.com/library/archive/documentation/Miscellaneous/Reference/EntitlementKeyReference/Chapters/AboutEntitlements.html#//apple_ref/doc/uid/TP40011195"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You use one of these group identifier strings to locate the corresponding group's shared directory. When you call "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/filemanager/1412643-containerurl"
            },
            {
              "type": "text",
              "text": " with one of your app's group identifiers, the method returns an "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsurl"
            },
            {
              "type": "text",
              "text": " instance specifying the location in the file system of that group's shared directory. The behavior of application groups differs between macOS and iOS. "
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "App Groups in macOS",
          "anchor": "2851196"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For a sandboxed app in macOS, the group directory is located at "
            },
            {
              "type": "codeVoice",
              "code": "~/Library/Group Containers/<application-group-id>"
            },
            {
              "type": "text",
              "text": ", where the application group identifier begins with the developer's team identifier followed by a dot, followed by the specific group name. The system creates this directory automatically the first time your app needs it and never removes it."
            }
          ]
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "Always use the URL returned by this method to locate the group directory rather than manually constructing a URL with an explicit path. The exact location of the directory in the file system might change in future releases of macOS, but this method will always return the correct URL."
                }
              ]
            }
          ],
          "style": "note",
          "name": "Note"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The system also creates the "
            },
            {
              "type": "codeVoice",
              "code": "Library/Application Support"
            },
            {
              "type": "text",
              "text": ", "
            },
            {
              "type": "codeVoice",
              "code": "Library/Caches"
            },
            {
              "type": "text",
              "text": ", and "
            },
            {
              "type": "codeVoice",
              "code": "Library/Preferences"
            },
            {
              "type": "text",
              "text": " subdirectories inside the group directory the first time you use it. You are free to add or remove subdirectories as you see fit, but you are encouraged to use these standardized locations as you would in the app's usual container."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If you call the method with an invalid group identifier, namely one for which you do not have an entitlement, the method still returns a URL of the expected form, but the corresponding group directory does not actually exist, nor can your sandboxed app create it. Therefore be sure to test that you can successfully access the returned URL before using it."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "App Groups in iOS",
          "anchor": "2851195"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "In iOS, the group identifier starts with the word "
            },
            {
              "type": "codeVoice",
              "code": "group"
            },
            {
              "type": "text",
              "text": " and a dot, followed by the group name. However, the system makes no guarantee about the group directory's name or location in the file system. Indeed, the directory is accessible only with the file URL returned by this method. As in macOS, the system creates the directory when you need it. Unlike in macOS, when all the apps in a given app group are removed from the device, the system detects this condition and removes the corresponding group directory as well."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The system creates only the "
            },
            {
              "type": "codeVoice",
              "code": "Library/Caches"
            },
            {
              "type": "text",
              "text": " subdirectory automatically, but you can create others yourself if you need them. You are free to use the group directory as you see fit, but take care to coordinate its structure among all the group's apps."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If you call the method with an invalid group identifier in iOS, the method returns a "
            },
            {
              "type": "codeVoice",
              "code": "nil"
            },
            {
              "type": "text",
              "text": " value."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}