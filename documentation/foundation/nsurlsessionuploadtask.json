{
  "abstract": [
    {
      "type": "text",
      "text": "A URL session task that uploads data to the network in a request body."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/url_loading_system",
        "doc://com.apple.documentation/documentation/foundation/nsurlsession"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/foundation/nsurlsessionuploadtask",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1408427,
  "kind": "symbol",
  "metadata": {
    "title": "NSURLSessionUploadTask",
    "role": "symbol",
    "roleHeading": "Class",
    "modules": [
      {
        "name": "Foundation"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "7.0",
        "current": "14.3"
      },
      {
        "name": "macOS",
        "introducedAt": "10.9",
        "current": "11.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "14.3"
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "current": "14.3"
      },
      {
        "name": "watchOS",
        "introducedAt": "2.0",
        "current": "7.2"
      }
    ],
    "externalID": "c:objc(cs)NSURLSessionUploadTask",
    "symbolKind": "cl"
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/foundation/nsurlsessionuploadtask"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/foundation/urlsessionuploadtask"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/foundation": {
      "title": "Foundation",
      "identifier": "doc://com.apple.documentation/documentation/foundation",
      "url": "/documentation/foundation",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/foundation/url_loading_system": {
      "title": "URL Loading System",
      "identifier": "doc://com.apple.documentation/documentation/foundation/url_loading_system",
      "url": "/documentation/foundation/url_loading_system",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/foundation/nsurlsession": {
      "title": "NSURLSession",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlsession",
      "url": "/documentation/foundation/nsurlsession",
      "type": "topic",
      "kind": "symbol",
      "role": "symbol"
    },
    "doc://com.apple.documentation/documentation/foundation/nsurlsessionuploadtask": {
      "title": "NSURLSessionUploadTask",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlsessionuploadtask",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsurlsessionuploadtask",
      "abstract": [
        {
          "type": "text",
          "text": "A URL session task that uploads data to the network in a request body."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsurlsessiondatatask": {
      "title": "NSURLSessionDataTask",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlsessiondatatask",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsurlsessiondatatask"
    },
    "doc://com.apple.documentation/documentation/foundation/nsurlsessiontask": {
      "title": "NSURLSessionTask",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlsessiontask",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsurlsessiontask"
    },
    "doc://com.apple.documentation/documentation/foundation/urlrequest": {
      "title": "URLRequest",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/urlrequest",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/urlrequest"
    },
    "doc://com.apple.documentation/documentation/foundation/nsurlsessiontaskdelegate/1408299-urlsession": {
      "title": "URLSession:task:didSendBodyData:totalBytesSent:totalBytesExpectedToSend:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlsessiontaskdelegate/1408299-urlsession",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsurlsessiontaskdelegate/1408299-urlsession",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "URLSession:task:didSendBodyData:totalBytesSent:totalBytesExpectedToSend:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsurlsessionuploadtask/3240644-init": {
      "title": "init",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlsessionuploadtask/3240644-init",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsurlsessionuploadtask/3240644-init",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "init"
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/foundation/nsurlsessionuploadtask/3240645-new": {
      "title": "new",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlsessionuploadtask/3240645-new",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsurlsessionuploadtask/3240645-new",
      "fragments": [
        {
          "kind": "text",
          "text": "+ "
        },
        {
          "kind": "identifier",
          "text": "new"
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/foundation/nsurlsession/1409763-uploadtaskwithrequest": {
      "title": "uploadTaskWithRequest:fromData:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlsession/1409763-uploadtaskwithrequest",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsurlsession/1409763-uploadtaskwithrequest",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a task that performs an HTTP request for the specified URL request object and uploads the provided data."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "uploadTaskWithRequest:fromData:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsurlsession/1411518-uploadtaskwithrequest": {
      "title": "uploadTaskWithRequest:fromData:completionHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlsession/1411518-uploadtaskwithrequest",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsurlsession/1411518-uploadtaskwithrequest",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a task that performs an HTTP request for the specified URL request object, uploads the provided data, and calls a handler upon completion. "
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "uploadTaskWithRequest:fromData:completionHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsurlsession/1411550-uploadtaskwithrequest": {
      "title": "uploadTaskWithRequest:fromFile:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlsession/1411550-uploadtaskwithrequest",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsurlsession/1411550-uploadtaskwithrequest",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a task that performs an HTTP request for uploading the specified file."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "uploadTaskWithRequest:fromFile:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsurlsession/1411638-uploadtaskwithrequest": {
      "title": "uploadTaskWithRequest:fromFile:completionHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlsession/1411638-uploadtaskwithrequest",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsurlsession/1411638-uploadtaskwithrequest",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a task that performs an HTTP request for uploading the specified file, then calls a handler upon completion. "
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "uploadTaskWithRequest:fromFile:completionHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsurlsession/1410934-uploadtaskwithstreamedrequest": {
      "title": "uploadTaskWithStreamedRequest:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlsession/1410934-uploadtaskwithstreamedrequest",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsurlsession/1410934-uploadtaskwithstreamedrequest",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a task that performs an HTTP request for uploading data based on the specified URL request."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "uploadTaskWithStreamedRequest:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsurlsessiondatadelegate": {
      "title": "NSURLSessionDataDelegate",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlsessiondatadelegate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsurlsessiondatadelegate",
      "abstract": [
        {
          "type": "text",
          "text": "A protocol that defines methods that URL session instances call on their delegates to handle task-level events specific to data and upload tasks. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "relationshipsSections": [
    {
      "kind": "relationships",
      "title": "Inherits From",
      "type": "inheritsFrom",
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nsurlsessiondatatask"
      ]
    }
  ],
  "topicSections": [
    {
      "kind": "taskGroup",
      "title": "Initializers",
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nsurlsessionuploadtask/3240644-init"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Type Methods",
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nsurlsessionuploadtask/3240645-new"
      ]
    }
  ],
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nsurlsession/1409763-uploadtaskwithrequest",
        "doc://com.apple.documentation/documentation/foundation/nsurlsession/1411518-uploadtaskwithrequest",
        "doc://com.apple.documentation/documentation/foundation/nsurlsession/1411550-uploadtaskwithrequest",
        "doc://com.apple.documentation/documentation/foundation/nsurlsession/1411638-uploadtaskwithrequest",
        "doc://com.apple.documentation/documentation/foundation/nsurlsession/1410934-uploadtaskwithstreamedrequest",
        "doc://com.apple.documentation/documentation/foundation/nsurlsessiondatadelegate"
      ],
      "title": "Adding Upload Tasks to a Session",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "@interface"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "NSURLSessionUploadTask"
            },
            {
              "kind": "text",
              "text": " : "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSURLSessionDataTask",
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlsessiondatatask",
              "text": "NSURLSessionDataTask"
            }
          ],
          "platforms": [
            "iOS",
            "macOS",
            "Mac Catalyst",
            "tvOS",
            "watchOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlsessionuploadtask"
            },
            {
              "type": "text",
              "text": " class is a subclass of "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlsessiondatatask"
            },
            {
              "type": "text",
              "text": ", which in turn is a concrete subclass of "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlsessiontask"
            },
            {
              "type": "text",
              "text": ". The methods associated with the "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlsessionuploadtask"
            },
            {
              "type": "text",
              "text": " class are documented in "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlsessiontask"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Upload tasks are used for making HTTP requests that require a request body (such as "
            },
            {
              "type": "codeVoice",
              "code": "POST"
            },
            {
              "type": "text",
              "text": " or "
            },
            {
              "type": "codeVoice",
              "code": "PUT"
            },
            {
              "type": "text",
              "text": "). They behave similarly to data tasks, but you create them by calling different methods on the session that are designed to make it easier to provide the content to upload. As with data tasks, if the server provides a response, upload tasks return that response as one or more "
            },
            {
              "type": "codeVoice",
              "code": "NSData"
            },
            {
              "type": "text",
              "text": " objects in memory."
            }
          ]
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "Unlike data tasks, you can use upload tasks to upload content in the background."
                }
              ]
            }
          ],
          "style": "note",
          "name": "Note"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When you create an upload task, you provide a "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/urlrequest"
            },
            {
              "type": "text",
              "text": " instance that contains any additional headers that you might need to send alongside the upload, such as the content type, content disposition, and so on. In iOS, when you create an upload task for a file in a background session, the system copies that file to a temporary location and streams data from there. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "While the upload is in progress, the task calls the session delegate’s "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsurlsessiontaskdelegate/1408299-urlsession"
            },
            {
              "type": "text",
              "text": " method periodically to provide you with status information."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When the upload phase of the request finishes, the task behaves like a data task, calling methods on the session delegate to provide you with the server’s response—headers, status code, content data, and so on."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}