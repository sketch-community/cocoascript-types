{
  "abstract": [
    {
      "type": "text",
      "text": "Returns a new array that lists the receiving array’s elements in ascending order as defined by the comparison function "
    },
    {
      "type": "codeVoice",
      "code": "comparator"
    },
    {
      "type": "text",
      "text": "."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/collections",
        "doc://com.apple.documentation/documentation/foundation/nsarray"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/foundation/nsarray/1414839-sortedarrayusingfunction",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1414839,
  "kind": "symbol",
  "metadata": {
    "title": "sortedArrayUsingFunction:context:hint:",
    "role": "symbol",
    "roleHeading": "Instance Method",
    "modules": [
      {
        "name": "Foundation"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "2.0",
        "current": "15.2"
      },
      {
        "name": "iPadOS",
        "introducedAt": "2.0",
        "current": "15.2"
      },
      {
        "name": "macOS",
        "introducedAt": "10.0",
        "current": "12.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "15.2"
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "current": "15.2"
      },
      {
        "name": "watchOS",
        "introducedAt": "2.0",
        "current": "8.3"
      }
    ],
    "externalID": "c:objc(cs)NSArray(im)sortedArrayUsingFunction:context:hint:",
    "parent": {
      "title": "NSArray"
    },
    "symbolKind": "instm"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/foundation/nsarray/1414839-sortedarrayusingfunction"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/foundation/nsarray/1414839-sortedarray"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/foundation": {
      "title": "Foundation",
      "identifier": "doc://com.apple.documentation/documentation/foundation",
      "url": "/documentation/foundation",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/foundation/collections": {
      "title": "Collections",
      "identifier": "doc://com.apple.documentation/documentation/foundation/collections",
      "url": "/documentation/foundation/collections",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/foundation/nsarray": {
      "title": "NSArray",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsarray",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsarray"
    },
    "doc://com.apple.documentation/documentation/foundation/nsarray/1408213-sortedarrayusingfunction": {
      "title": "sortedArrayUsingFunction:context:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsarray/1408213-sortedarrayusingfunction",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsarray/1408213-sortedarrayusingfunction",
      "abstract": [
        {
          "type": "text",
          "text": "Returns a new array that lists the receiving array’s elements in ascending order as defined by the comparison function "
        },
        {
          "type": "codeVoice",
          "code": "comparator"
        },
        {
          "type": "text",
          "text": "."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "sortedArrayUsingFunction:context:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsarray/1413063-sortedarrayhint": {
      "title": "sortedArrayHint",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsarray/1413063-sortedarrayhint",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsarray/1413063-sortedarrayhint",
      "abstract": [
        {
          "type": "text",
          "text": "Analyzes the array and returns a “hint” that speeds the sorting of the array when the hint is supplied to "
        },
        {
          "type": "reference",
          "isActive": true,
          "identifier": "doc://com.apple.documentation/documentation/foundation/nsarray/1414839-sortedarrayusingfunction"
        },
        {
          "type": "text",
          "text": "."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsarray/1414839-sortedarrayusingfunction": {
      "title": "sortedArrayUsingFunction:context:hint:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsarray/1414839-sortedarrayusingfunction",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsarray/1414839-sortedarrayusingfunction",
      "abstract": [
        {
          "type": "text",
          "text": "Returns a new array that lists the receiving array’s elements in ascending order as defined by the comparison function "
        },
        {
          "type": "codeVoice",
          "code": "comparator"
        },
        {
          "type": "text",
          "text": "."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "sortedArrayUsingFunction:context:hint:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsarray/1415069-sortedarrayusingdescriptors": {
      "title": "sortedArrayUsingDescriptors:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsarray/1415069-sortedarrayusingdescriptors",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsarray/1415069-sortedarrayusingdescriptors",
      "abstract": [
        {
          "type": "text",
          "text": "Returns a copy of the receiving array sorted as specified by a given array of sort descriptors."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "sortedArrayUsingDescriptors:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsarray/1410025-sortedarrayusingselector": {
      "title": "sortedArrayUsingSelector:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsarray/1410025-sortedarrayusingselector",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsarray/1410025-sortedarrayusingselector",
      "abstract": [
        {
          "type": "text",
          "text": "Returns an array that lists the receiving array’s elements in ascending order, as determined by the comparison method specified by a given selector."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "sortedArrayUsingSelector:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/objectivec/nsinteger": {
      "title": "NSInteger",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/objectivec/nsinteger",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/objectivec/nsinteger"
    },
    "doc://com.apple.documentation/documentation/foundation/nsdata": {
      "title": "NSData",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsdata",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsdata"
    },
    "doc://com.apple.documentation/documentation/foundation/nsarray/1411195-sortedarrayusingcomparator": {
      "title": "sortedArrayUsingComparator:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsarray/1411195-sortedarrayusingcomparator",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsarray/1411195-sortedarrayusingcomparator",
      "abstract": [
        {
          "type": "text",
          "text": "Returns an array that lists the receiving array’s elements in ascending order, as determined by the comparison method specified by a given "
        },
        {
          "type": "codeVoice",
          "code": "NSComparator"
        },
        {
          "type": "text",
          "text": " block."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "sortedArrayUsingComparator:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsarray/1417804-sortedarraywithoptions": {
      "title": "sortedArrayWithOptions:usingComparator:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsarray/1417804-sortedarraywithoptions",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsarray/1417804-sortedarraywithoptions",
      "abstract": [
        {
          "type": "text",
          "text": "Returns an array that lists the receiving array’s elements in ascending order, as determined by the comparison method specified by a given "
        },
        {
          "type": "codeVoice",
          "code": "NSComparator"
        },
        {
          "type": "text",
          "text": " block."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "sortedArrayWithOptions:usingComparator:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nscomparator": {
      "title": "NSComparator",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscomparator",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscomparator",
      "abstract": [
        {
          "type": "text",
          "text": "Defines the signature for a block object used for comparison operations."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nsarray/1413063-sortedarrayhint",
        "doc://com.apple.documentation/documentation/foundation/nsarray/1408213-sortedarrayusingfunction",
        "doc://com.apple.documentation/documentation/foundation/nsarray/1415069-sortedarrayusingdescriptors",
        "doc://com.apple.documentation/documentation/foundation/nsarray/1410025-sortedarrayusingselector",
        "doc://com.apple.documentation/documentation/foundation/nsarray/1411195-sortedarrayusingcomparator",
        "doc://com.apple.documentation/documentation/foundation/nsarray/1417804-sortedarraywithoptions",
        "doc://com.apple.documentation/documentation/foundation/nscomparator"
      ],
      "title": "Sorting",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "text",
              "text": "- ("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSArray",
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsarray",
              "text": "NSArray"
            },
            {
              "kind": "text",
              "text": "<"
            },
            {
              "kind": "typeIdentifier",
              "text": "ObjectType"
            },
            {
              "kind": "text",
              "text": "> *"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "identifier",
              "text": "sortedArrayUsingFunction:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@NSInteger",
              "identifier": "doc://com.apple.documentation/documentation/objectivec/nsinteger",
              "text": "NSInteger"
            },
            {
              "kind": "text",
              "text": " (*)("
            },
            {
              "kind": "typeIdentifier",
              "text": "ObjectType"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "kind": "typeIdentifier",
              "text": "ObjectType"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": " *)"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "comparator"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "context:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": " *"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "context"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "hint:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSData",
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsdata",
              "text": "NSData"
            },
            {
              "kind": "text",
              "text": " *"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "hint"
            },
            {
              "kind": "text",
              "text": ";"
            }
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "macOS",
            "Mac Catalyst",
            "tvOS",
            "watchOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The new array contains references to the receiving array’s elements, not copies of them."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This method is similar to "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsarray/1408213-sortedarrayusingfunction"
            },
            {
              "type": "text",
              "text": ", except that it uses the supplied hint to speed the sorting process. When you know the array is nearly sorted, this method is faster than "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsarray/1408213-sortedarrayusingfunction"
            },
            {
              "type": "text",
              "text": ". If you sorted a large array ("
            },
            {
              "type": "codeVoice",
              "code": "N"
            },
            {
              "type": "text",
              "text": " entries) once, and you don’t change it much ("
            },
            {
              "type": "codeVoice",
              "code": "P"
            },
            {
              "type": "text",
              "text": " additions and deletions, where "
            },
            {
              "type": "codeVoice",
              "code": "P"
            },
            {
              "type": "text",
              "text": " is much smaller than "
            },
            {
              "type": "codeVoice",
              "code": "N"
            },
            {
              "type": "text",
              "text": "), then you can reuse the work you did in the original sort by conceptually doing a merge sort between the "
            },
            {
              "type": "codeVoice",
              "code": "N"
            },
            {
              "type": "text",
              "text": " “old” items and the "
            },
            {
              "type": "codeVoice",
              "code": "P"
            },
            {
              "type": "text",
              "text": " “new” items."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To obtain an appropriate hint, use "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsarray/1413063-sortedarrayhint"
            },
            {
              "type": "text",
              "text": ". You should obtain this hint when the original array has been sorted, and keep hold of it until you need it, after the array has been modified. The hint is computed by "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsarray/1413063-sortedarrayhint"
            },
            {
              "type": "text",
              "text": " in "
            },
            {
              "type": "codeVoice",
              "code": "O(N)"
            },
            {
              "type": "text",
              "text": " (where "
            },
            {
              "type": "codeVoice",
              "code": "N"
            },
            {
              "type": "text",
              "text": " is the number of items). This assumes that items in the array implement a "
            },
            {
              "type": "codeVoice",
              "code": "-hash"
            },
            {
              "type": "text",
              "text": " method. Given a suitable hint, and assuming that the hash function is a “good” hash function, -"
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsarray/1414839-sortedarrayusingfunction"
            },
            {
              "type": "text",
              "text": " sorts the array in "
            },
            {
              "type": "codeVoice",
              "code": "O(P*LOG(P)+N)"
            },
            {
              "type": "text",
              "text": " where "
            },
            {
              "type": "codeVoice",
              "code": "P"
            },
            {
              "type": "text",
              "text": " is the number of adds or deletes. This is an improvement over the un-hinted sort, "
            },
            {
              "type": "codeVoice",
              "code": "O(N*LOG(N))"
            },
            {
              "type": "text",
              "text": ", when "
            },
            {
              "type": "codeVoice",
              "code": "P"
            },
            {
              "type": "text",
              "text": " is small."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The hint is simply an array of size "
            },
            {
              "type": "codeVoice",
              "code": "N"
            },
            {
              "type": "text",
              "text": " containing the "
            },
            {
              "type": "codeVoice",
              "code": "N"
            },
            {
              "type": "text",
              "text": " hashes. To re-sort you need internally to create a map table mapping a hash to the index. Using this map table on the new array, you can get a first guess for the indexes, and then sort that. For example, a sorted array {A, B, D, E, F} with corresponding hash values {25, 96, 78, 32, 17}, may be subject to small changes that result in contents {E, A, C, B, F}. The mapping table maps the hashes {25, 96, 78, 32, 17} to the indexes {#0, #1, #2, #3, #4}. If the hashes for {E, A, C, B, F} are {32, 25, 99, 96, 17}, then by using the mapping table you can get a first order sort {#3, #0, ?, #1, #4}, so therefore create an initial semi-sorted array {A, B, E, F}, and then perform a cheap merge sort with {C} that yields {A, B, C, E, F}."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}