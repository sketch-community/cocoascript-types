{
  "abstract": [
    {
      "type": "text",
      "text": "Identify key user interactions and include the information to restore them later."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/task_management",
        "doc://com.apple.documentation/documentation/foundation/nsuseractivity"
      ],
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/app_extension_support",
        "doc://com.apple.documentation/documentation/foundation/nsuseractivity"
      ],
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/uikit",
        "doc://com.apple.documentation/documentation/uikit/interprocess_communication",
        "doc://com.apple.documentation/documentation/foundation/nsuseractivity"
      ],
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/appkit",
        "doc://com.apple.documentation/documentation/appkit/app_and_environment",
        "doc://com.apple.documentation/documentation/foundation/nsuseractivity"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/foundation/nsuseractivity/creating_a_user_activity_object",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 3801066,
  "kind": "article",
  "metadata": {
    "title": "Creating a User Activity Object",
    "role": "article",
    "roleHeading": "Article",
    "modules": [
      {
        "name": "Foundation"
      }
    ]
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/foundation/nsuseractivity/creating_a_user_activity_object"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/foundation/nsuseractivity/creating_a_user_activity_object"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/foundation": {
      "title": "Foundation",
      "identifier": "doc://com.apple.documentation/documentation/foundation",
      "url": "/documentation/foundation",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/foundation/task_management": {
      "title": "Task Management",
      "identifier": "doc://com.apple.documentation/documentation/foundation/task_management",
      "url": "/documentation/foundation/task_management",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/foundation/nsuseractivity": {
      "title": "NSUserActivity",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsuseractivity"
    },
    "doc://com.apple.documentation/documentation/foundation/app_extension_support": {
      "title": "App Extension Support",
      "identifier": "doc://com.apple.documentation/documentation/foundation/app_extension_support",
      "url": "/documentation/foundation/app_extension_support",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/uikit": {
      "title": "UIKit",
      "identifier": "doc://com.apple.documentation/documentation/uikit",
      "url": "/documentation/uikit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/uikit/interprocess_communication": {
      "title": "Interprocess Communication",
      "identifier": "doc://com.apple.documentation/documentation/uikit/interprocess_communication",
      "url": "/documentation/uikit/interprocess_communication",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/appkit": {
      "title": "AppKit",
      "identifier": "doc://com.apple.documentation/documentation/appkit",
      "url": "/documentation/appkit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/appkit/app_and_environment": {
      "title": "App and Environment",
      "identifier": "doc://com.apple.documentation/documentation/appkit/app_and_environment",
      "url": "/documentation/appkit/app_and_environment",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1413375-title": {
      "title": "title",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1413375-title",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsuseractivity/1413375-title"
    },
    "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1410971-eligibleforhandoff": {
      "title": "eligibleForHandoff",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1410971-eligibleforhandoff",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsuseractivity/1410971-eligibleforhandoff"
    },
    "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1417761-eligibleforsearch": {
      "title": "eligibleForSearch",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1417761-eligibleforsearch",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsuseractivity/1417761-eligibleforsearch"
    },
    "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1414701-eligibleforpublicindexing": {
      "title": "eligibleForPublicIndexing",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1414701-eligibleforpublicindexing",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsuseractivity/1414701-eligibleforpublicindexing"
    },
    "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1616398-contentattributeset": {
      "title": "contentAttributeSet",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1616398-contentattributeset",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsuseractivity/1616398-contentattributeset"
    },
    "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1408023-keywords": {
      "title": "keywords",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1408023-keywords",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsuseractivity/1408023-keywords"
    },
    "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1418086-webpageurl": {
      "title": "webpageURL",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1418086-webpageurl",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsuseractivity/1418086-webpageurl"
    },
    "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1413665-becomecurrent": {
      "title": "becomeCurrent",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1413665-becomecurrent",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsuseractivity/1413665-becomecurrent",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "becomeCurrent"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nsuseractivitytypes": {
      "title": "NSUserActivityTypes",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nsuseractivitytypes",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/bundleresources/information_property_list/nsuseractivitytypes"
    },
    "doc://com.apple.documentation/documentation/bundleresources/information_property_list": {
      "title": "Information Property List",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/bundleresources/information_property_list",
      "kind": "symbol",
      "role": "dictionarySymbol",
      "url": "/documentation/bundleresources/information_property_list"
    },
    "doc://com.apple.documentation/documentation/foundation/nsuseractivity/creating_a_user_activity_object": {
      "title": "Creating a User Activity Object",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity/creating_a_user_activity_object",
      "kind": "article",
      "role": "article",
      "url": "/documentation/foundation/nsuseractivity/creating_a_user_activity_object",
      "abstract": [
        {
          "type": "text",
          "text": "Identify key user interactions and include the information to restore them later."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1410714-initwithactivitytype": {
      "title": "initWithActivityType:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1410714-initwithactivitytype",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsuseractivity/1410714-initwithactivitytype",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a user activity object with the specified type."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "initWithActivityType:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1409240-init": {
      "title": "init",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1409240-init",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsuseractivity/1409240-init",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a user activity object using the first activity type declared in the app’s information property list file."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "init"
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1410714-initwithactivitytype",
        "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1409240-init"
      ],
      "title": "Creating a User Activity Object",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Create NSUserActivity objects at key moments that the user might want to continue later or on another device, and register them with the system. For example, you might create a user activity object when the user opens a web page, plays a song, or performs a significant task in your app. You can also use them to provide better Spotlight search results. User activity objects, however, aren’t intended as a way to track every task in your app, or for small edits or minor changes."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When you create an "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity"
            },
            {
              "type": "text",
              "text": " object, you specify a string that identifies the type of the activity. Activity type strings are typically in reverse-DNS format. For example, when the user opens a web page, you might specify an activity string such as "
            },
            {
              "type": "codeVoice",
              "code": "com.myCompany.myApp.OpenWebPage"
            },
            {
              "type": "text",
              "text": ". Declare the activity types that your app supports by including the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nsuseractivitytypes"
            },
            {
              "type": "text",
              "text": " key in its "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/bundleresources/information_property_list"
            },
            {
              "type": "text",
              "text": " file. The system uses the information in that key to determine whether your app is capable of handling a given user activity object."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Define Activities",
          "anchor": "3846583"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When defining a user activity object, do the following:"
            }
          ]
        },
        {
          "type": "orderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Create and initialize the user activity object with an appropriate activity type. (You define the activity types your app supports.)"
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Set the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1413375-title"
                    },
                    {
                      "type": "text",
                      "text": " of the user activity object."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Configure the tasks for which the object is eligible by enabling one or more of the following properties: "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1410971-eligibleforhandoff"
                    },
                    {
                      "type": "text",
                      "text": ", "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1417761-eligibleforsearch"
                    },
                    {
                      "type": "text",
                      "text": ", and "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1414701-eligibleforpublicindexing"
                    },
                    {
                      "type": "text",
                      "text": "."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Configure the properties of this object that relate to the user’s current activity."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "For user activity objects configured for search or public indexing, configure the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1616398-contentattributeset"
                    },
                    {
                      "type": "text",
                      "text": ", "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1408023-keywords"
                    },
                    {
                      "type": "text",
                      "text": ", or "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1418086-webpageurl"
                    },
                    {
                      "type": "text",
                      "text": " properties so that Spotlight can index the object."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Call the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity/1413665-becomecurrent"
                    },
                    {
                      "type": "text",
                      "text": " method to register the user activity object with the system."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": []
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Associate Activity Identifiers with Your Apps",
          "anchor": "3846509"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The system associates user activity objects from your app with your developer Team ID. When continuing an activity, the system looks for an app that supports the given activity type and has the same developer Team ID as the activity’s source app. Tying activity objects to your developer Team ID ensures that a competitor’s app can’t intercept the activities you create. To associate your Team ID with your apps, distribute your apps through the App Store or sign them with your developer ID. "
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}