{
  "abstract": [
    {
      "type": "text",
      "text": "A mutable collection you use to temporarily store transient key-value pairs that are subject to eviction when resources are low."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/collections"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/foundation/nscache",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1418212,
  "kind": "symbol",
  "metadata": {
    "title": "NSCache",
    "role": "symbol",
    "roleHeading": "Class",
    "modules": [
      {
        "name": "Foundation"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "4.0",
        "current": "14.3"
      },
      {
        "name": "macOS",
        "introducedAt": "10.6",
        "current": "11.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "14.3"
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "current": "14.3"
      },
      {
        "name": "watchOS",
        "introducedAt": "2.0",
        "current": "7.2"
      }
    ],
    "externalID": "c:objc(cs)NSCache",
    "symbolKind": "cl"
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/foundation/nscache"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/foundation/nscache"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/foundation": {
      "title": "Foundation",
      "identifier": "doc://com.apple.documentation/documentation/foundation",
      "url": "/documentation/foundation",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/foundation/collections": {
      "title": "Collections",
      "identifier": "doc://com.apple.documentation/documentation/foundation/collections",
      "url": "/documentation/foundation/collections",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/foundation/nscache": {
      "title": "NSCache",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscache",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscache",
      "abstract": [
        {
          "type": "text",
          "text": "A mutable collection you use to temporarily store transient key-value pairs that are subject to eviction when resources are low."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsmutabledictionary": {
      "title": "NSMutableDictionary",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsmutabledictionary",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsmutabledictionary"
    },
    "doc://com.apple.documentation/documentation/foundation/nsdiscardablecontent": {
      "title": "NSDiscardableContent",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsdiscardablecontent",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsdiscardablecontent",
      "abstract": [
        {
          "type": "text",
          "text": "You implement this protocol when a class’s objects have subcomponents that can be discarded when not being used, thereby giving an application a smaller memory footprint."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsdiscardablecontent/1408998-discardcontentifpossible": {
      "title": "discardContentIfPossible",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsdiscardablecontent/1408998-discardcontentifpossible",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsdiscardablecontent/1408998-discardcontentifpossible",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "discardContentIfPossible"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/objectivec/nsobject": {
      "title": "NSObject",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/objectivec/nsobject",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/objectivec/nsobject"
    },
    "doc://com.apple.documentation/documentation/foundation/nscache/1409941-name": {
      "title": "name",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscache/1409941-name",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscache/1409941-name",
      "abstract": [
        {
          "type": "text",
          "text": "The name of the cache."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nscache/1416355-countlimit": {
      "title": "countLimit",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscache/1416355-countlimit",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscache/1416355-countlimit",
      "abstract": [
        {
          "type": "text",
          "text": "The maximum number of objects the cache should hold."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nscache/1407672-totalcostlimit": {
      "title": "totalCostLimit",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscache/1407672-totalcostlimit",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscache/1407672-totalcostlimit",
      "abstract": [
        {
          "type": "text",
          "text": "The maximum total cost that the cache can hold before it starts evicting objects."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nscache/1408469-evictsobjectswithdiscardedconten": {
      "title": "evictsObjectsWithDiscardedContent",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscache/1408469-evictsobjectswithdiscardedconten",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscache/1408469-evictsobjectswithdiscardedconten",
      "abstract": [
        {
          "type": "text",
          "text": "Whether the cache will automatically evict discardable-content objects whose content has been discarded."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nscache/1413061-delegate": {
      "title": "delegate",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscache/1413061-delegate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscache/1413061-delegate",
      "abstract": [
        {
          "type": "text",
          "text": "The cache’s delegate."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nscachedelegate": {
      "title": "NSCacheDelegate",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscachedelegate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscachedelegate",
      "abstract": [
        {
          "type": "text",
          "text": "The delegate of an "
        },
        {
          "type": "reference",
          "isActive": true,
          "identifier": "doc://com.apple.documentation/documentation/foundation/nscache"
        },
        {
          "type": "text",
          "text": " object implements this protocol to perform specialized actions when an object is about to be evicted or removed from the cache."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nscache/1415458-objectforkey": {
      "title": "objectForKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscache/1415458-objectforkey",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscache/1415458-objectforkey",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the value associated with a given key."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "objectForKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nscache/1408223-setobject": {
      "title": "setObject:forKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscache/1408223-setobject",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscache/1408223-setobject",
      "abstract": [
        {
          "type": "text",
          "text": "Sets the value of the specified key in the cache."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "setObject:forKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nscache/1416399-setobject": {
      "title": "setObject:forKey:cost:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscache/1416399-setobject",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscache/1416399-setobject",
      "abstract": [
        {
          "type": "text",
          "text": "Sets the value of the specified key in the cache, and associates the key-value pair with the specified cost."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "setObject:forKey:cost:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nscache/1409900-removeobjectforkey": {
      "title": "removeObjectForKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscache/1409900-removeobjectforkey",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscache/1409900-removeobjectforkey",
      "abstract": [
        {
          "type": "text",
          "text": "Removes the value of the specified key in the cache."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "removeObjectForKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nscache/1411382-removeallobjects": {
      "title": "removeAllObjects",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscache/1411382-removeallobjects",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscache/1411382-removeallobjects",
      "abstract": [
        {
          "type": "text",
          "text": "Empties the cache."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "removeAllObjects"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nspurgeabledata": {
      "title": "NSPurgeableData",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nspurgeabledata",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nspurgeabledata",
      "abstract": [
        {
          "type": "text",
          "text": "A mutable data object containing bytes that can be discarded when they're no longer needed."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "relationshipsSections": [
    {
      "kind": "relationships",
      "title": "Inherits From",
      "type": "inheritsFrom",
      "identifiers": [
        "doc://com.apple.documentation/documentation/objectivec/nsobject"
      ]
    }
  ],
  "topicSections": [
    {
      "kind": "taskGroup",
      "title": "Managing the Name",
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nscache/1409941-name"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Managing Cache Size",
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nscache/1416355-countlimit",
        "doc://com.apple.documentation/documentation/foundation/nscache/1407672-totalcostlimit"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Managing Discardable Content",
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nscache/1408469-evictsobjectswithdiscardedconten",
        "doc://com.apple.documentation/documentation/foundation/nsdiscardablecontent"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Managing the Delegate",
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nscache/1413061-delegate",
        "doc://com.apple.documentation/documentation/foundation/nscachedelegate"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Getting a Cached Value",
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nscache/1415458-objectforkey"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Adding and Removing Cached Values",
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nscache/1408223-setobject",
        "doc://com.apple.documentation/documentation/foundation/nscache/1416399-setobject",
        "doc://com.apple.documentation/documentation/foundation/nscache/1409900-removeobjectforkey",
        "doc://com.apple.documentation/documentation/foundation/nscache/1411382-removeallobjects"
      ]
    }
  ],
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nspurgeabledata"
      ],
      "title": "Purgeable Collections",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "@interface"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "NSCache"
            },
            {
              "kind": "text",
              "text": "<"
            },
            {
              "kind": "keyword",
              "text": "__covariant"
            },
            {
              "kind": "text",
              "text": " KeyType, "
            },
            {
              "kind": "keyword",
              "text": "__covariant"
            },
            {
              "kind": "text",
              "text": " ObjectType> : "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSObject",
              "identifier": "doc://com.apple.documentation/documentation/objectivec/nsobject",
              "text": "NSObject"
            }
          ],
          "platforms": [
            "iOS",
            "macOS",
            "Mac Catalyst",
            "tvOS",
            "watchOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Cache objects differ from other mutable collections in a few ways:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "The "
                    },
                    {
                      "type": "reference",
                      "isActive": false,
                      "identifier": "doc://com.apple.documentation/documentation/foundation/nscache"
                    },
                    {
                      "type": "text",
                      "text": " class incorporates various auto-eviction policies, which ensure that a cache doesn’t use too much of the system’s memory. If memory is needed by other applications, these policies remove some items from the cache, minimizing its memory footprint."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "You can add, remove, and query items in the cache from different threads without having to lock the cache yourself. "
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Unlike an "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/foundation/nsmutabledictionary"
                    },
                    {
                      "type": "text",
                      "text": " object, a cache does not copy the key objects that are put into it."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You typically use "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nscache"
            },
            {
              "type": "text",
              "text": " objects to temporarily store objects with transient data that are expensive to create. Reusing these objects can provide performance benefits, because their values do not have to be recalculated. However, the objects are not critical to the application and can be discarded if memory is tight. If discarded, their values will have to be recomputed again when needed."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Objects that have subcomponents that can be discarded when not being used can adopt the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsdiscardablecontent"
            },
            {
              "type": "text",
              "text": " protocol to improve cache eviction behavior. By default, "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsdiscardablecontent"
            },
            {
              "type": "text",
              "text": " objects in a cache are automatically removed if their content is discarded, although this automatic removal policy can be changed. If an "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsdiscardablecontent"
            },
            {
              "type": "text",
              "text": " object is put into the cache, the cache calls "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsdiscardablecontent/1408998-discardcontentifpossible"
            },
            {
              "type": "text",
              "text": " on it upon its removal."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}