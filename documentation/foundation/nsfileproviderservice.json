{
  "abstract": [
    {
      "type": "text",
      "text": "A service that provides a custom communication channel between your app and a File Provider extension."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/file_system",
        "doc://com.apple.documentation/documentation/foundation/nsfilemanager"
      ],
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/icloud",
        "doc://com.apple.documentation/documentation/foundation/nsfilemanager"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/foundation/nsfileproviderservice",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 2915261,
  "kind": "symbol",
  "metadata": {
    "title": "NSFileProviderService",
    "role": "symbol",
    "roleHeading": "Class",
    "modules": [
      {
        "name": "Foundation"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "11.0",
        "current": "15.2"
      },
      {
        "name": "iPadOS",
        "introducedAt": "11.0",
        "current": "15.2"
      },
      {
        "name": "macOS",
        "introducedAt": "10.13",
        "current": "12.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "15.2"
      }
    ],
    "externalID": "c:objc(cs)NSFileProviderService",
    "symbolKind": "cl"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/foundation/nsfileproviderservice"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/foundation/nsfileproviderservice"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/foundation": {
      "title": "Foundation",
      "identifier": "doc://com.apple.documentation/documentation/foundation",
      "url": "/documentation/foundation",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/foundation/file_system": {
      "title": "File System",
      "identifier": "doc://com.apple.documentation/documentation/foundation/file_system",
      "url": "/documentation/foundation/file_system",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/foundation/nsfilemanager": {
      "title": "NSFileManager",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsfilemanager",
      "url": "/documentation/foundation/nsfilemanager",
      "type": "topic",
      "kind": "symbol",
      "role": "symbol"
    },
    "doc://com.apple.documentation/documentation/foundation/icloud": {
      "title": "iCloud",
      "identifier": "doc://com.apple.documentation/documentation/foundation/icloud",
      "url": "/documentation/foundation/icloud",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/foundation/nssecurecoding": {
      "title": "NSSecureCoding",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nssecurecoding",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nssecurecoding"
    },
    "devLink-1737758": {
      "identifier": "devLink-1737758",
      "type": "link",
      "title": "Property List Types and Objects",
      "url": "https://developer.apple.com/library/archive/documentation/General/Conceptual/DevPedia-CocoaCore/PropertyList.html#//apple_ref/doc/uid/TP40008195-CH44-SW2"
    },
    "doc://com.apple.documentation/documentation/foundation/nsxpcinterface": {
      "title": "NSXPCInterface",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsxpcinterface",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsxpcinterface"
    },
    "doc://com.apple.documentation/documentation/foundation/nsxpcinterface/1418323-classesforselector": {
      "title": "classesForSelector:argumentIndex:ofReply:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsxpcinterface/1418323-classesforselector",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsxpcinterface/1418323-classesforselector",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "classesForSelector:argumentIndex:ofReply:"
        }
      ]
    },
    "devLink-1696401": {
      "identifier": "devLink-1696401",
      "type": "link",
      "title": "Creating XPC Services",
      "url": "https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/BPSystemStartup/Chapters/CreatingXPCServices.html#//apple_ref/doc/uid/10000172i-SW6"
    },
    "doc://com.apple.documentation/documentation/objectivec/nsobject": {
      "title": "NSObject",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/objectivec/nsobject",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/objectivec/nsobject"
    },
    "doc://com.apple.documentation/documentation/foundation/nsfileproviderservice/2915258-name": {
      "title": "name",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsfileproviderservice/2915258-name",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsfileproviderservice/2915258-name",
      "abstract": [
        {
          "type": "text",
          "text": "The File Provider service’s name."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsfileproviderservice/2915257-getfileproviderconnectionwithcom": {
      "title": "getFileProviderConnectionWithCompletionHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsfileproviderservice/2915257-getfileproviderconnectionwithcom",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsfileproviderservice/2915257-getfileproviderconnectionwithcom",
      "abstract": [
        {
          "type": "text",
          "text": "Asynchronously returns the service’s connection object."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "getFileProviderConnectionWithCompletionHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsfilemanager/2915262-getfileproviderservicesforitemat": {
      "title": "getFileProviderServicesForItemAtURL:completionHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsfilemanager/2915262-getfileproviderservicesforitemat",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsfilemanager/2915262-getfileproviderservicesforitemat",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the services provided by the File Provider extension that manages the item at the given URL."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "getFileProviderServicesForItemAtURL:completionHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsfileproviderservice": {
      "title": "NSFileProviderService",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsfileproviderservice",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsfileproviderservice",
      "abstract": [
        {
          "type": "text",
          "text": "A service that provides a custom communication channel between your app and a File Provider extension."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsfileproviderservicename": {
      "title": "NSFileProviderServiceName",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsfileproviderservicename",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsfileproviderservicename",
      "abstract": [
        {
          "type": "text",
          "text": "The name used to identify a File Provider service."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "relationshipsSections": [
    {
      "kind": "relationships",
      "title": "Inherits From",
      "type": "inheritsFrom",
      "identifiers": [
        "doc://com.apple.documentation/documentation/objectivec/nsobject"
      ]
    }
  ],
  "topicSections": [
    {
      "kind": "taskGroup",
      "title": "Accessing the Service",
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nsfileproviderservice/2915258-name",
        "doc://com.apple.documentation/documentation/foundation/nsfileproviderservice/2915257-getfileproviderconnectionwithcom"
      ],
      "anchor": "2934441"
    }
  ],
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nsfilemanager/2915262-getfileproviderservicesforitemat",
        "doc://com.apple.documentation/documentation/foundation/nsfileproviderservicename"
      ],
      "title": "Accessing File Provider Services",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "@interface"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "NSFileProviderService"
            },
            {
              "kind": "text",
              "text": " : "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSObject",
              "identifier": "doc://com.apple.documentation/documentation/objectivec/nsobject",
              "text": "NSObject"
            }
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "macOS",
            "Mac Catalyst"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To communicate, both your app and the File Provider extension must implement their part of the service:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Your app requests the proxy object, and calls its methods."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "The File Provider extension declares the supported services and vends a proxy object that implements the protocol for each service."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The app and File Provider extension communicate using an XPC service. This service performs actions only on items managed by the File Provider extension. For more information, see "
            },
            {
              "type": "link",
              "title": "Creating XPC Services",
              "destination": "https://developer.apple.com/library/archive/documentation/MacOSX/Conceptual/BPSystemStartup/Chapters/CreatingXPCServices.html#//apple_ref/doc/uid/10000172i-SW6"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Defining the Service’s Protocol",
          "anchor": "2934440"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Services let you define custom actions that are not provided by Apple’s APIs. Both the app and the File Provider extension must agree upon the service’s name and protocol.  Communicate the name and protocol through an outside source (for example, posting a header file that defines both the name and protocol, or publishing an library that includes them both)."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The service can be defined by either the app or the File Provider extension:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Apps can define a service for features they would like to use. File providers can then choose to support those features by implementing the service."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "File Provider extensions can provide a service for the features they support. Apps can then choose to use the specified service."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When defining a service’s protocol, the parameters for each method must adhere to the following rules:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "The parameter’s class must conform to "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/foundation/nssecurecoding"
                    },
                    {
                      "type": "text",
                      "text": "."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "The parameter’s class must be defined in both the app and the File Provider extension (for example, standard system types or classes defined in a library imported by both sides)."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "If a collection parameter contains types other than property list types (see "
                    },
                    {
                      "type": "link",
                      "title": "Property List Types and Objects",
                      "destination": "https://developer.apple.com/library/archive/documentation/General/Conceptual/DevPedia-CocoaCore/PropertyList.html#//apple_ref/doc/uid/TP40008195-CH44-SW2"
                    },
                    {
                      "type": "text",
                      "text": "), declare the valid types using the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/foundation/nsxpcinterface"
                    },
                    {
                      "type": "text",
                      "text": " class’s "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/foundation/nsxpcinterface/1418323-classesforselector"
                    },
                    {
                      "type": "text",
                      "text": " method."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": []
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}