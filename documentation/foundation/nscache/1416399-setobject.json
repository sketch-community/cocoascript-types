{
  "abstract": [
    {
      "type": "text",
      "text": "Sets the value of the specified key in the cache, and associates the key-value pair with the specified cost."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/collections",
        "doc://com.apple.documentation/documentation/foundation/nscache"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/foundation/nscache/1416399-setobject",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1416399,
  "kind": "symbol",
  "metadata": {
    "title": "setObject:forKey:cost:",
    "role": "symbol",
    "roleHeading": "Instance Method",
    "modules": [
      {
        "name": "Foundation"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "4.0",
        "current": "14.3"
      },
      {
        "name": "macOS",
        "introducedAt": "10.6",
        "current": "11.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "14.3"
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "current": "14.3"
      },
      {
        "name": "watchOS",
        "introducedAt": "2.0",
        "current": "7.2"
      }
    ],
    "externalID": "c:objc(cs)NSCache(im)setObject:forKey:cost:",
    "symbolKind": "instm"
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/foundation/nscache/1416399-setobject"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/foundation/nscache/1416399-setobject"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/foundation": {
      "title": "Foundation",
      "identifier": "doc://com.apple.documentation/documentation/foundation",
      "url": "/documentation/foundation",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/foundation/collections": {
      "title": "Collections",
      "identifier": "doc://com.apple.documentation/documentation/foundation/collections",
      "url": "/documentation/foundation/collections",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/foundation/nscache": {
      "title": "NSCache",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscache",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscache",
      "abstract": [
        {
          "type": "text",
          "text": "A mutable collection you use to temporarily store transient key-value pairs that are subject to eviction when resources are low."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nscache/1408223-setobject": {
      "title": "setObject:forKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscache/1408223-setobject",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscache/1408223-setobject",
      "abstract": [
        {
          "type": "text",
          "text": "Sets the value of the specified key in the cache."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "setObject:forKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nscache/1407672-totalcostlimit": {
      "title": "totalCostLimit",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscache/1407672-totalcostlimit",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscache/1407672-totalcostlimit",
      "abstract": [
        {
          "type": "text",
          "text": "The maximum total cost that the cache can hold before it starts evicting objects."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/objectivec/nsuinteger": {
      "title": "NSUInteger",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/objectivec/nsuinteger",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/objectivec/nsuinteger"
    },
    "doc://com.apple.documentation/documentation/foundation/nscache/1416399-setobject": {
      "title": "setObject:forKey:cost:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscache/1416399-setobject",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscache/1416399-setobject",
      "abstract": [
        {
          "type": "text",
          "text": "Sets the value of the specified key in the cache, and associates the key-value pair with the specified cost."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "setObject:forKey:cost:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nscache/1409900-removeobjectforkey": {
      "title": "removeObjectForKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscache/1409900-removeobjectforkey",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscache/1409900-removeobjectforkey",
      "abstract": [
        {
          "type": "text",
          "text": "Removes the value of the specified key in the cache."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "removeObjectForKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nscache/1411382-removeallobjects": {
      "title": "removeAllObjects",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscache/1411382-removeallobjects",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscache/1411382-removeallobjects",
      "abstract": [
        {
          "type": "text",
          "text": "Empties the cache."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "removeAllObjects"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nscache/1408223-setobject",
        "doc://com.apple.documentation/documentation/foundation/nscache/1409900-removeobjectforkey",
        "doc://com.apple.documentation/documentation/foundation/nscache/1411382-removeallobjects"
      ],
      "title": "Adding and Removing Cached Values",
      "generated": true
    },
    {
      "title": "Related Documentation",
      "generated": false,
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nscache/1407672-totalcostlimit"
      ]
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "text",
              "text": "- ("
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "identifier",
              "text": "setObject:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "text": "ObjectType"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "obj"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "forKey:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "text": "KeyType"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "key"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "cost:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@NSUInteger",
              "identifier": "doc://com.apple.documentation/documentation/objectivec/nsuinteger",
              "text": "NSUInteger"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "g"
            },
            {
              "kind": "text",
              "text": ";"
            }
          ],
          "platforms": [
            "iOS",
            "macOS",
            "Mac Catalyst",
            "tvOS",
            "watchOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "obj",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The object to store in the cache."
                }
              ]
            }
          ]
        },
        {
          "name": "key",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The key with which to associate the value."
                }
              ]
            }
          ]
        },
        {
          "name": "num",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The cost with which to associate the key-value pair."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The "
            },
            {
              "type": "codeVoice",
              "code": "cost"
            },
            {
              "type": "text",
              "text": " value is used to compute a sum encompassing the costs of all the objects in the cache. When memory is limited or when the total cost of the cache eclipses the maximum allowed total cost, the cache could begin an eviction process to remove some of its elements. However, this eviction process is not in a guaranteed order. As a consequence, if you try to manipulate the cost values to achieve some specific behavior, the consequences could be detrimental to your program. Typically, the obvious cost is the size of the value in bytes. If that information is not readily available, you should not go through the trouble of trying to compute it, as doing so will drive up the cost of using the cache. Pass in "
            },
            {
              "type": "codeVoice",
              "code": "0"
            },
            {
              "type": "text",
              "text": " for the cost value if you otherwise have nothing useful to pass, or simply use the "
            },
            {
              "type": "codeVoice",
              "code": "setObject:forKey:"
            },
            {
              "type": "text",
              "text": " method, which does not require a "
            },
            {
              "type": "codeVoice",
              "code": "cost"
            },
            {
              "type": "text",
              "text": " value to be passed in."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Unlike an "
            },
            {
              "type": "codeVoice",
              "code": "NSMutableDictionary"
            },
            {
              "type": "text",
              "text": " object, a cache does not copy the key objects that are put into it."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}