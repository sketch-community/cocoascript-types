{
  "abstract": [
    {
      "type": "text",
      "text": "Encode and decode JSON data, regardless of its structure, using Swift’s JSON support."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/foundation",
        "doc://com.apple.documentation/documentation/foundation/archives_and_serialization"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/foundation/archives_and_serialization/using_json_with_custom_types",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 2891433,
  "kind": "article",
  "metadata": {
    "title": "Using JSON with Custom Types",
    "role": "sampleCode",
    "roleHeading": "Sample Code",
    "modules": [
      {
        "name": "Foundation"
      }
    ],
    "platforms": [
      {
        "name": "Xcode",
        "introducedAt": "10.0",
        "current": "12.3"
      }
    ]
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/foundation/archives_and_serialization/using_json_with_custom_types"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/foundation/archives_and_serialization/using_json_with_custom_types"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/foundation": {
      "title": "Foundation",
      "identifier": "doc://com.apple.documentation/documentation/foundation",
      "url": "/documentation/foundation",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/foundation/archives_and_serialization": {
      "title": "Archives and Serialization",
      "identifier": "doc://com.apple.documentation/documentation/foundation/archives_and_serialization",
      "url": "/documentation/foundation/archives_and_serialization",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/foundation/archives_and_serialization/using_json_with_custom_types#3540670": {
      "title": "Listing 2",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/foundation/archives_and_serialization/using_json_with_custom_types#3540670",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/foundation/archives_and_serialization/using_json_with_custom_types#3540670"
    },
    "doc://com.apple.documentation/documentation/foundation/archives_and_serialization/using_json_with_custom_types#3540672": {
      "title": "Listing 3",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/foundation/archives_and_serialization/using_json_with_custom_types#3540672",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/foundation/archives_and_serialization/using_json_with_custom_types#3540672"
    },
    "link-2999961": {
      "title": "API Design Guidelines",
      "type": "topic",
      "identifier": "link-2999961",
      "kind": "article",
      "role": "link",
      "url": "https://swift.org/documentation/api-design-guidelines/"
    },
    "doc://com.apple.documentation/documentation/foundation/archives_and_serialization/using_json_with_custom_types#3540674": {
      "title": "Listing 4",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/foundation/archives_and_serialization/using_json_with_custom_types#3540674",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/foundation/archives_and_serialization/using_json_with_custom_types#3540674"
    },
    "doc://com.apple.documentation/documentation/foundation/archives_and_serialization/using_json_with_custom_types#3540676": {
      "title": "Listing 5",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/foundation/archives_and_serialization/using_json_with_custom_types#3540676",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/foundation/archives_and_serialization/using_json_with_custom_types#3540676"
    },
    "link-media-3540667": {
      "identifier": "link-media-3540667",
      "type": "link",
      "title": "Figure 1",
      "url": "/documentation/foundation/archives_and_serialization/using_json_with_custom_types#3540667"
    },
    "media-3540667": {
      "identifier": "media-3540667",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x"
          ],
          "size": {
            "width": 496,
            "height": 186
          },
          "url": "https://docs-assets.developer.apple.com/published/d7a01449d3/rendered2x-1581360204.png"
        }
      ],
      "alt": "Art",
      "title": "Figure 1"
    },
    "doc://com.apple.documentation/documentation/foundation/archives_and_serialization/using_json_with_custom_types#3540668": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/foundation/archives_and_serialization/using_json_with_custom_types#3540668",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/foundation/archives_and_serialization/using_json_with_custom_types#3540668"
    },
    "doc://com.apple.documentation/documentation/foundation/archives_and_serialization/using_json_with_custom_types": {
      "title": "Using JSON with Custom Types",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/archives_and_serialization/using_json_with_custom_types",
      "kind": "article",
      "role": "sampleCode",
      "url": "/documentation/foundation/archives_and_serialization/using_json_with_custom_types",
      "abstract": [
        {
          "type": "text",
          "text": "Encode and decode JSON data, regardless of its structure, using Swift’s JSON support."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsjsonserialization": {
      "title": "NSJSONSerialization",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsjsonserialization",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsjsonserialization",
      "abstract": [
        {
          "type": "text",
          "text": "An object that converts between JSON and the equivalent Foundation objects."
        }
      ]
    },
    "https://docs-assets.developer.apple.com/published/83799f6e15/UsingJSONWithCustomTypes.zip": {
      "type": "download",
      "identifier": "https://docs-assets.developer.apple.com/published/83799f6e15/UsingJSONWithCustomTypes.zip",
      "checksum": "8c3476ea2e97f61b46ea7bec3da80446ca6a316bb41b72d6f106767504a032318d31ced4fa708f47910ed2b2bcbf867daafb3d7c6e76849150dc03df1603ec9d",
      "url": "https://docs-assets.developer.apple.com/published/83799f6e15/UsingJSONWithCustomTypes.zip"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "sampleCodeDownload": {
    "action": {
      "overridingTitle": "Download",
      "type": "reference",
      "isActive": true,
      "identifier": "https://docs-assets.developer.apple.com/published/83799f6e15/UsingJSONWithCustomTypes.zip"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nsjsonserialization"
      ],
      "title": "JSON",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "JSON data you send or receive from other apps, services, and files can come in many different shapes and structures. Use the techniques described in this sample to handle the differences between external JSON data and your app’s model types."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "image",
              "identifier": "media-3540667",
              "metadata": {
                "anchor": "3540667",
                "title": "Figure 1"
              }
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This sample defines a simple data type, "
            },
            {
              "type": "codeVoice",
              "code": "GroceryProduct"
            },
            {
              "type": "text",
              "text": ", and demonstrates how to construct instances of that type from several different JSON formats."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "struct GroceryProduct: Codable {",
            "    var name: String",
            "    var points: Int",
            "    var description: String?",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3540668",
            "title": "Listing 1"
          }
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Read Data from Arrays",
          "anchor": "3540679"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Use Swift’s expressive type system to avoid manually looping over collections of identically structured objects. This playground uses array types as values to see how to work with JSON that’s structured like this:"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "[",
            "    {",
            "        \"name\": \"Banana\",",
            "        \"points\": 200,",
            "        \"description\": \"A banana grown in Ecuador.\"",
            "    }",
            "]"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3540670",
            "title": "Listing 2"
          }
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Change Key Names",
          "anchor": "3540680"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Learn how to map data from JSON keys into properties on your custom types, regardless of their names. For example, this playground shows how to map the "
            },
            {
              "type": "codeVoice",
              "code": "\"product_name\""
            },
            {
              "type": "text",
              "text": " key in the JSON below to the "
            },
            {
              "type": "codeVoice",
              "code": "name"
            },
            {
              "type": "text",
              "text": " property on "
            },
            {
              "type": "codeVoice",
              "code": "GroceryProduct"
            },
            {
              "type": "text",
              "text": ":"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "{",
            "    \"product_name\": \"Banana\",",
            "    \"product_cost\": 200,",
            "    \"description\": \"A banana grown in Ecuador.\"",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3540672",
            "title": "Listing 3"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Custom mappings let you to apply the Swift "
            },
            {
              "type": "link",
              "title": "API Design Guidelines",
              "destination": "https://swift.org/documentation/api-design-guidelines/"
            },
            {
              "type": "text",
              "text": " to the names of properties in your Swift model, even if the names of the JSON keys are different."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Access Nested Data",
          "anchor": "3540681"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Learn how to ignore structure and data in JSON that you don’t need in your code. This playground uses an intermediate type to see how to extract grocery products from JSON that looks like this to skip over unwanted data and structure:"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "[",
            "    {",
            "        \"name\": \"Home Town Market\",",
            "        \"aisles\": [",
            "            {",
            "                \"name\": \"Produce\",",
            "                \"shelves\": [",
            "                    {",
            "                        \"name\": \"Discount Produce\",",
            "                        \"product\": {",
            "                            \"name\": \"Banana\",",
            "                            \"points\": 200,",
            "                            \"description\": \"A banana that's perfectly ripe.\"",
            "                        }",
            "                    }",
            "                ]",
            "            }",
            "        ]",
            "    }",
            "]"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3540674",
            "title": "Listing 4"
          }
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Merge Data at Different Depths",
          "anchor": "3540682"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Combine or separate data from different depths of a JSON structure by writing custom implementations of protocol requirements from "
            },
            {
              "type": "codeVoice",
              "code": "Encodable"
            },
            {
              "type": "text",
              "text": " and "
            },
            {
              "type": "codeVoice",
              "code": "Decodable"
            },
            {
              "type": "text",
              "text": ". This playground shows how to construct a "
            },
            {
              "type": "codeVoice",
              "code": "GroceryProduct"
            },
            {
              "type": "text",
              "text": " instance from JSON that looks like this:"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "{",
            "    \"Banana\": {",
            "        \"points\": 200,",
            "        \"description\": \"A banana grown in Ecuador.\"",
            "    }",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3540676",
            "title": "Listing 5"
          }
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}