{
  "abstract": [
    {
      "type": "text",
      "text": "A flag that uses only the part of the kernel that overlaps the image."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/accelerate",
        "doc://com.apple.documentation/documentation/accelerate/vimage",
        "doc://com.apple.documentation/documentation/accelerate/vimage/data_types_and_constants",
        "doc://com.apple.documentation/documentation/accelerate/vimage/data_types_and_constants/1578976-processing_flags"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/accelerate/kvimagetruncatekernel",
    "interfaceLanguage": "swift"
  },
  "legacy_identifier": 1546600,
  "kind": "symbol",
  "metadata": {
    "title": "kvImageTruncateKernel",
    "role": "symbol",
    "roleHeading": "Global Variable",
    "modules": [
      {
        "name": "Accelerate"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "5.0",
        "current": "15.2"
      },
      {
        "name": "iPadOS",
        "introducedAt": "5.0",
        "current": "15.2"
      },
      {
        "name": "macOS",
        "introducedAt": "10.4",
        "current": "12.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "15.2"
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "current": "15.2"
      },
      {
        "name": "watchOS",
        "introducedAt": "2.0",
        "current": "8.3"
      }
    ],
    "externalID": "c:@Ea@kvImageNoFlags@kvImageTruncateKernel",
    "symbolKind": "data",
    "fragments": [
      {
        "kind": "text",
        "text": "var "
      },
      {
        "kind": "identifier",
        "text": "kvImageTruncateKernel"
      },
      {
        "kind": "text",
        "text": ": Int"
      }
    ]
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/accelerate/1578976-processing_flags/kvimagetruncatekernel"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/accelerate/kvimagetruncatekernel"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/accelerate": {
      "title": "Accelerate",
      "identifier": "doc://com.apple.documentation/documentation/accelerate",
      "url": "/documentation/accelerate",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/accelerate/vimage": {
      "title": "vImage",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage",
      "url": "/documentation/accelerate/vimage",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/accelerate/vimage/data_types_and_constants": {
      "title": "Data Types and Constants",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage/data_types_and_constants",
      "url": "/documentation/accelerate/vimage/data_types_and_constants",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/accelerate/vimage/data_types_and_constants/1578976-processing_flags": {
      "title": "Processing Flags",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage/data_types_and_constants/1578976-processing_flags",
      "url": "/documentation/accelerate/vimage/data_types_and_constants/1578976-processing_flags",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/accelerate/kvimagetruncatekernel#2557519": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/kvimagetruncatekernel#2557519",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/accelerate/kvimagetruncatekernel#2557519"
    },
    "doc://com.apple.documentation/documentation/accelerate/kvimageedgeextend": {
      "title": "kvImageEdgeExtend",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/kvimageedgeextend",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/kvimageedgeextend",
      "abstract": [
        {
          "type": "text",
          "text": "A flag that extends the edges of the image infinitely."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "var "
        },
        {
          "kind": "identifier",
          "text": "kvImageEdgeExtend"
        },
        {
          "kind": "text",
          "text": ": Int"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/swift/int": {
      "title": "Int",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/swift/int",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/swift/int"
    },
    "doc://com.apple.documentation/documentation/accelerate/kvimagecopyinplace": {
      "title": "kvImageCopyInPlace",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/kvimagecopyinplace",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/kvimagecopyinplace",
      "abstract": [
        {
          "type": "text",
          "text": "A flag that copies the value of the edge pixel in the source to the destination. "
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "var "
        },
        {
          "kind": "identifier",
          "text": "kvImageCopyInPlace"
        },
        {
          "kind": "text",
          "text": ": Int"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/accelerate/kvimagebackgroundcolorfill": {
      "title": "kvImageBackgroundColorFill",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/kvimagebackgroundcolorfill",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/kvimagebackgroundcolorfill",
      "abstract": [
        {
          "type": "text",
          "text": "A flag that uses the background color for missing pixels. "
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "var "
        },
        {
          "kind": "identifier",
          "text": "kvImageBackgroundColorFill"
        },
        {
          "kind": "text",
          "text": ": Int"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/accelerate/kvimagetruncatekernel": {
      "title": "kvImageTruncateKernel",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/kvimagetruncatekernel",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/kvimagetruncatekernel",
      "abstract": [
        {
          "type": "text",
          "text": "A flag that uses only the part of the kernel that overlaps the image."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "var "
        },
        {
          "kind": "identifier",
          "text": "kvImageTruncateKernel"
        },
        {
          "kind": "text",
          "text": ": Int"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/accelerate/kvimagecopyinplace",
        "doc://com.apple.documentation/documentation/accelerate/kvimagebackgroundcolorfill",
        "doc://com.apple.documentation/documentation/accelerate/kvimageedgeextend"
      ],
      "title": "Edging Modes",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "swift"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "var"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "kvImageTruncateKernel"
            },
            {
              "kind": "text",
              "text": ": "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "s:Si",
              "identifier": "doc://com.apple.documentation/documentation/swift/int",
              "text": "Int"
            },
            {
              "kind": "text",
              "text": " { "
            },
            {
              "kind": "keyword",
              "text": "get"
            },
            {
              "kind": "text",
              "text": " }"
            }
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "macOS",
            "Mac Catalyst",
            "tvOS",
            "watchOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This flag is valid only for convolution operations. When you set this flag, vImage restricts calculations to the portion of the kernel overlapping the image. It corrects the calculated pixel by first multiplying by the sum of all the kernel elements, then dividing by the sum of the kernel elements that are actually used. This preserves image brightness at the edges."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For integer kernels:"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "real_divisor = divisor * (sum of used kernel elements) / (sum of kernel elements)"
          ],
          "syntax": "occ",
          "metadata": {
            "anchor": "2557519",
            "title": "Listing 1"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The morphology functions do not use this flag because they do not use pixels outside the image in any of their calculations."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Kernel truncation is not robust for certain kernels. It can fail when any rectangular segment of the kernel that includes the center, and at least one of the corners, sums to zero. You typically see this with emboss or edge detection filters, or other filters that are designed to find the slope of a signal. For those kinds of filters, you should use the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/accelerate/kvimageedgeextend"
            },
            {
              "type": "text",
              "text": " option instead."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}