{
  "abstract": [
    {
      "type": "text",
      "text": "Returns a symbolic factorization of the requested type for a single-precision matrix with the specified structure."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/accelerate",
        "doc://com.apple.documentation/documentation/accelerate/sparse_solvers",
        "doc://com.apple.documentation/documentation/accelerate/sparse_solvers/sparse_symbolic_factorization_functions"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/accelerate/2879301-sparsefactor",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 2879301,
  "kind": "symbol",
  "metadata": {
    "title": "SparseFactor",
    "role": "symbol",
    "roleHeading": "Function",
    "modules": [
      {
        "name": "Accelerate"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "11.0",
        "current": "15.2"
      },
      {
        "name": "iPadOS",
        "introducedAt": "11.0",
        "current": "15.2"
      },
      {
        "name": "macOS",
        "introducedAt": "10.13",
        "current": "12.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "15.2"
      },
      {
        "name": "tvOS",
        "introducedAt": "11.0",
        "current": "15.2"
      },
      {
        "name": "watchOS",
        "introducedAt": "4.0",
        "current": "8.3"
      }
    ],
    "externalID": "c:@F@SparseFactor#$@EA@SparseFactorization_t#$@SA@SparseMatrixStructure#$@SA@SparseSymbolicFactorOptions#",
    "symbolKind": "func"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/accelerate/2879301-sparsefactor"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/accelerate/2879301-sparsefactor"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/accelerate": {
      "title": "Accelerate",
      "identifier": "doc://com.apple.documentation/documentation/accelerate",
      "url": "/documentation/accelerate",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/accelerate/sparse_solvers": {
      "title": "Sparse Solvers",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/sparse_solvers",
      "url": "/documentation/accelerate/sparse_solvers",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/accelerate/sparse_solvers/sparse_symbolic_factorization_functions": {
      "title": "Sparse Symbolic Factorization Functions",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/sparse_solvers/sparse_symbolic_factorization_functions",
      "url": "/documentation/accelerate/sparse_solvers/sparse_symbolic_factorization_functions",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "link-media-3703899": {
      "identifier": "link-media-3703899",
      "type": "link",
      "title": "Figure 1",
      "url": "/documentation/accelerate/2879301-sparsefactor#3703899"
    },
    "media-3703899": {
      "identifier": "media-3703899",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x"
          ],
          "size": {
            "width": 403,
            "height": 171
          },
          "url": "https://docs-assets.developer.apple.com/published/fccc35fb2c/rendered2x-1606992651.png"
        }
      ],
      "alt": "A mathematical equation that has two stacked sets of three simultaneous equations on the left. Each equation has three unknowns. The same sets of simultaneous equations appear on the right as two matrix equations, A x equals B. Each matrix equation consists of a three-by-three matrix multiplied by a three-element column matrix that equals a three-element column matrix.",
      "title": "Figure 1"
    },
    "doc://com.apple.documentation/documentation/accelerate/2879301-sparsefactor#3702790": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/2879301-sparsefactor#3702790",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/accelerate/2879301-sparsefactor#3702790"
    },
    "doc://com.apple.documentation/documentation/accelerate/sparseopaquesymbolicfactorization": {
      "title": "SparseOpaqueSymbolicFactorization",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/sparseopaquesymbolicfactorization",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/sparseopaquesymbolicfactorization"
    },
    "doc://com.apple.documentation/documentation/accelerate/2879298-sparsefactor": {
      "title": "SparseFactor",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/2879298-sparsefactor",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/2879298-sparsefactor",
      "abstract": [
        {
          "type": "text",
          "text": "Returns a symbolic factorization of the requested type for a specified sparsity structure."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/accelerate/sparsefactorization_t": {
      "title": "SparseFactorization_t",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/sparsefactorization_t",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/sparsefactorization_t"
    },
    "doc://com.apple.documentation/documentation/accelerate/sparsematrixstructure": {
      "title": "SparseMatrixStructure",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/sparsematrixstructure",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/sparsematrixstructure"
    },
    "doc://com.apple.documentation/documentation/accelerate/sparsesymbolicfactoroptions": {
      "title": "SparseSymbolicFactorOptions",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/sparsesymbolicfactoroptions",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/sparsesymbolicfactoroptions"
    },
    "doc://com.apple.documentation/documentation/accelerate/2879301-sparsefactor": {
      "title": "SparseFactor",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/2879301-sparsefactor",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/2879301-sparsefactor",
      "abstract": [
        {
          "type": "text",
          "text": "Returns a symbolic factorization of the requested type for a single-precision matrix with the specified structure."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/accelerate/2879298-sparsefactor"
      ],
      "title": "Matrix Symbolic Factorization Functions",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@SparseOpaqueSymbolicFactorization",
              "identifier": "doc://com.apple.documentation/documentation/accelerate/sparseopaquesymbolicfactorization",
              "text": "SparseOpaqueSymbolicFactorization"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "SparseFactor"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@SparseFactorization_t",
              "identifier": "doc://com.apple.documentation/documentation/accelerate/sparsefactorization_t",
              "text": "SparseFactorization_t"
            },
            {
              "kind": "text",
              "text": " type, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@SparseMatrixStructure",
              "identifier": "doc://com.apple.documentation/documentation/accelerate/sparsematrixstructure",
              "text": "SparseMatrixStructure"
            },
            {
              "kind": "text",
              "text": " Matrix, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@SparseSymbolicFactorOptions",
              "identifier": "doc://com.apple.documentation/documentation/accelerate/sparsesymbolicfactoroptions",
              "text": "SparseSymbolicFactorOptions"
            },
            {
              "kind": "text",
              "text": " options);"
            }
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "macOS",
            "Mac Catalyst",
            "tvOS",
            "watchOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "type",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The factorization type."
                }
              ]
            }
          ]
        },
        {
          "name": "Matrix",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The matrix to factorize."
                }
              ]
            }
          ]
        },
        {
          "name": "options",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The symbolic factor options, such as the ordering algorithm to use."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/accelerate/sparseopaquesymbolicfactorization"
            },
            {
              "type": "text",
              "text": " structure that represents the symbolic factorization."
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Use this function to calculate the symbolic factorization of a sparse matrix’s structure to pass to the direct solve functions. You can use the symbolic factorization that this function returns for multiple numerical factorizations with different numerical values and different precisions, but the same nonzero structure."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": " The following figure shows two systems of equations where the coefficient matrix is sparse:"
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "image",
              "identifier": "media-3703899",
              "metadata": {
                "anchor": "3703899",
                "title": "Figure 1"
              }
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The following code solves these two systems by creating a symbolic factorization that’s common to both coefficient matrices. Note that the two coefficient matrices contain different numeric values with different precisions."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "/// Define the sparsity pattern of matrices `A0` and `A1`.",
            "let rowIndices: [Int32] =    [ 0, 1, 1, 2]",
            "let columnIndices: [Int32] = [ 2, 0, 2, 1]",
            "",
            "/// Create the single-precision coefficient matrix _A0_.",
            "let a0Values: [Float] = [10, 20, 5, 50]",
            "let A0 = SparseConvertFromCoordinate(3, 3,",
            "                                     4, 1,",
            "                                     SparseAttributes_t(),",
            "                                     rowIndices, columnIndices,",
            "                                     a0Values)",
            "",
            "/// Create the double-precision coefficient matrix _A1_.",
            "let a1Values: [Double] = [5, 10, 2.5, 25]",
            "let A1 = SparseConvertFromCoordinate(3, 3,",
            "                                     4, 1,",
            "                                     SparseAttributes_t(),",
            "                                     rowIndices, columnIndices,",
            "                                     a1Values)",
            "",
            "/// Compute the symbolic factorization from the structure of either coefficient matrix.",
            "let structure = A0.structure",
            "let symbolicFactorization = SparseFactor(SparseFactorizationQR,",
            "                                         structure)",
            "",
            "/// Factorize _A0_ using the symbolic factorization.",
            "let factorization0 = SparseFactor(symbolicFactorization, A0)",
            "",
            "/// Solve _A0 · x = b0_ in place.",
            "var b0Values: [Float] = [30, 35, 100]",
            "b0Values.withUnsafeMutableBufferPointer { bPtr in",
            "    let xb = DenseVector_Float(count: 3,",
            "                               data: bPtr.baseAddress!)",
            "    ",
            "    SparseSolve(factorization0, xb)",
            "}",
            "",
            "/// Factorize _A1_ using the symbolic factorization.",
            "let factorization1 = SparseFactor(symbolicFactorization, A1)",
            "",
            "/// Solve _A1 · x = b1_ in place.",
            "var b1Values: [Double] = [60, 70, 200]",
            "b1Values.withUnsafeMutableBufferPointer { bPtr in",
            "    let xb = DenseVector_Double(count: 3,",
            "                               data: bPtr.baseAddress!)",
            "    ",
            "    SparseSolve(factorization1, xb)",
            "}",
            "",
            "SparseCleanup(A0)",
            "SparseCleanup(A1)",
            "SparseCleanup(factorization0)",
            "SparseCleanup(factorization1)"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3702790",
            "title": "Listing 1"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "On return, "
            },
            {
              "type": "codeVoice",
              "code": "b0Values"
            },
            {
              "type": "text",
              "text": " contains the values "
            },
            {
              "type": "codeVoice",
              "code": "[1.0, 2.0, 3.0]"
            },
            {
              "type": "text",
              "text": ", and "
            },
            {
              "type": "codeVoice",
              "code": "b1Values"
            },
            {
              "type": "text",
              "text": " contains the values "
            },
            {
              "type": "codeVoice",
              "code": "[4.0, 8.0, 12.0]"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}