{
  "abstract": [
    {
      "type": "text",
      "text": "Creates a resampling filter object that encapsulates a resampling kernel function that you provide."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/accelerate",
        "doc://com.apple.documentation/documentation/accelerate/image_shearing"
      ],
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/accelerate",
        "doc://com.apple.documentation/documentation/accelerate/vimage",
        "doc://com.apple.documentation/documentation/accelerate/vimage/vimage_operations",
        "doc://com.apple.documentation/documentation/accelerate/image_shearing"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/accelerate/1509217-vimagenewresamplingfilterforfunc",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1509217,
  "kind": "symbol",
  "metadata": {
    "title": "vImageNewResamplingFilterForFunctionUsingBuffer",
    "role": "symbol",
    "roleHeading": "Function",
    "modules": [
      {
        "name": "Accelerate"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "5.0",
        "current": "14.3"
      },
      {
        "name": "macOS",
        "introducedAt": "10.3",
        "current": "11.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "14.3"
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "current": "14.3"
      },
      {
        "name": "watchOS",
        "introducedAt": "2.0",
        "current": "7.2"
      }
    ],
    "externalID": "c:@F@vImageNewResamplingFilterForFunctionUsingBuffer",
    "symbolKind": "func"
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/accelerate/1509217-vimagenewresamplingfilterforfunc"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/accelerate/1509217-vimagenewresamplingfilterforfunc"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/accelerate": {
      "title": "Accelerate",
      "identifier": "doc://com.apple.documentation/documentation/accelerate",
      "url": "/documentation/accelerate",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/accelerate/image_shearing": {
      "title": "Image Shearing",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/image_shearing",
      "url": "/documentation/accelerate/image_shearing",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/accelerate/vimage": {
      "title": "vImage",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage",
      "url": "/documentation/accelerate/vimage",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/accelerate/vimage/vimage_operations": {
      "title": "vImage Operations",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage/vimage_operations",
      "url": "/documentation/accelerate/vimage/vimage_operations",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/accelerate/1509252-vimagegetresamplingfiltersize": {
      "title": "vImageGetResamplingFilterSize",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/1509252-vimagegetresamplingfiltersize",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/1509252-vimagegetresamplingfiltersize",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the minimum size, in bytes, for the buffer needed by the function "
        },
        {
          "type": "codeVoice",
          "code": "vImageNewResamplingFilterForFunctionUsingBuffer"
        },
        {
          "type": "text",
          "text": "."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/accelerate/1509201-vimagedestroyresamplingfilter": {
      "title": "vImageDestroyResamplingFilter",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/1509201-vimagedestroyresamplingfilter",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/1509201-vimagedestroyresamplingfilter",
      "abstract": [
        {
          "type": "text",
          "text": "Disposes of a resampling filter object."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/accelerate/1509216-vimagenewresamplingfilter": {
      "title": "vImageNewResamplingFilter",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/1509216-vimagenewresamplingfilter",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/1509216-vimagenewresamplingfilter",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a resampling filter object that corresponds to the default kernel supplied by the vImage framework."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/accelerate/1578972-error_codes/kvimagenoerror": {
      "title": "kvImageNoError",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/1578972-error_codes/kvimagenoerror",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/1578972-error_codes/kvimagenoerror"
    },
    "doc://com.apple.documentation/documentation/accelerate/vimage/data_types_and_constants": {
      "title": "Data Types and Constants",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage/data_types_and_constants",
      "kind": "article",
      "role": "collectionGroup",
      "url": "/documentation/accelerate/vimage/data_types_and_constants"
    },
    "doc://com.apple.documentation/documentation/accelerate/1578976-processing_flags/kvimagebackgroundcolorfill": {
      "title": "kvImageBackgroundColorFill",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/1578976-processing_flags/kvimagebackgroundcolorfill",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/1578976-processing_flags/kvimagebackgroundcolorfill"
    },
    "doc://com.apple.documentation/documentation/accelerate/1578976-processing_flags/kvimageedgeextend": {
      "title": "kvImageEdgeExtend",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/1578976-processing_flags/kvimageedgeextend",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/1578976-processing_flags/kvimageedgeextend"
    },
    "doc://com.apple.documentation/documentation/accelerate/1578976-processing_flags/kvimagehighqualityresampling": {
      "title": "kvImageHighQualityResampling",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/1578976-processing_flags/kvimagehighqualityresampling",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/1578976-processing_flags/kvimagehighqualityresampling"
    },
    "doc://com.apple.documentation/documentation/accelerate/1578976-processing_flags/kvimagedonottile": {
      "title": "kvImageDoNotTile",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/1578976-processing_flags/kvimagedonottile",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/1578976-processing_flags/kvimagedonottile"
    },
    "doc://com.apple.documentation/documentation/accelerate/1578976-processing_flags/kvimageleavealphaunchanged": {
      "title": "kvImageLeaveAlphaUnchanged",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/1578976-processing_flags/kvimageleavealphaunchanged",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/1578976-processing_flags/kvimageleavealphaunchanged"
    },
    "doc://com.apple.documentation/documentation/accelerate/vimage_error": {
      "title": "vImage_Error",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage_error",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/vimage_error"
    },
    "doc://com.apple.documentation/documentation/accelerate/resamplingfilter": {
      "title": "ResamplingFilter",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/resamplingfilter",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/resamplingfilter"
    },
    "doc://com.apple.documentation/documentation/accelerate/vimage_flags": {
      "title": "vImage_Flags",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage_flags",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/vimage_flags"
    },
    "doc://com.apple.documentation/documentation/accelerate/1509217-vimagenewresamplingfilterforfunc": {
      "title": "vImageNewResamplingFilterForFunctionUsingBuffer",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/1509217-vimagenewresamplingfilterforfunc",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/1509217-vimagenewresamplingfilterforfunc",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a resampling filter object that encapsulates a resampling kernel function that you provide."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/accelerate/1509196-vimagegetresamplingfilterextent": {
      "title": "vImageGetResamplingFilterExtent",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/1509196-vimagegetresamplingfilterextent",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/1509196-vimagegetresamplingfilterextent",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the maximum sampling radius for a resampling filter."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/accelerate/1509216-vimagenewresamplingfilter",
        "doc://com.apple.documentation/documentation/accelerate/1509196-vimagegetresamplingfilterextent",
        "doc://com.apple.documentation/documentation/accelerate/1509252-vimagegetresamplingfiltersize",
        "doc://com.apple.documentation/documentation/accelerate/1509201-vimagedestroyresamplingfilter"
      ],
      "title": "Resampling Filters",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@vImage_Error",
              "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage_error",
              "text": "vImage_Error"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "vImageNewResamplingFilterForFunctionUsingBuffer"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@ResamplingFilter",
              "identifier": "doc://com.apple.documentation/documentation/accelerate/resamplingfilter",
              "text": "ResamplingFilter"
            },
            {
              "kind": "text",
              "text": " filter, "
            },
            {
              "kind": "keyword",
              "text": "float"
            },
            {
              "kind": "text",
              "text": " scale, "
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": " (*kernelFunc)("
            },
            {
              "kind": "keyword",
              "text": "const"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "keyword",
              "text": "float"
            },
            {
              "kind": "text",
              "text": " *xArray, "
            },
            {
              "kind": "keyword",
              "text": "float"
            },
            {
              "kind": "text",
              "text": " *yArray, "
            },
            {
              "kind": "keyword",
              "text": "unsigned"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "keyword",
              "text": "long"
            },
            {
              "kind": "text",
              "text": " count, "
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": " *userData), "
            },
            {
              "kind": "keyword",
              "text": "float"
            },
            {
              "kind": "text",
              "text": " kernelWidth, "
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": " *userData, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@vImage_Flags",
              "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage_flags",
              "text": "vImage_Flags"
            },
            {
              "kind": "text",
              "text": " flags);"
            }
          ],
          "platforms": [
            "iOS",
            "macOS",
            "Mac Catalyst",
            "tvOS",
            "watchOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "filter",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A pointer to a buffer. On return, the buffer contains a resampling filter object. You must allocate the memory for this buffer yourself. Call the function "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/accelerate/1509252-vimagegetresamplingfiltersize"
                },
                {
                  "type": "text",
                  "text": "  to obtain the size of this buffer. "
                }
              ]
            }
          ]
        },
        {
          "name": "scale",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A scale factor to associated with the resampling filter object. Shear functions to which you pass the resampling filter object use this factor when performing a shear operation. The shear function applies the scale factor  to the entire image, in a direction appropriate to the shear function, either horizontal or vertical. "
                }
              ]
            }
          ]
        },
        {
          "name": "kernelFunc",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A pointer to your custom resampling kernel function. If this pointer is "
                },
                {
                  "type": "codeVoice",
                  "code": "NULL"
                },
                {
                  "type": "text",
                  "text": ", vImage creates a resampling filter object that corresponds to its default kernel. The kernel function must remain valid for the life of the resampling filter object."
                }
              ]
            },
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "If you need precise control over the memory used for a resampling filter object  but want to use the default, pass "
                },
                {
                  "type": "codeVoice",
                  "code": "NULL"
                },
                {
                  "type": "text",
                  "text": " as the "
                },
                {
                  "type": "codeVoice",
                  "code": "kernelFunc"
                },
                {
                  "type": "text",
                  "text": " parameter. This causes vImage to create a resampling filter object that corresponds to its default kernel. You can then determine where in memory the resampling filter object is located. You can reuse the buffer to reduce memory allocation, and so on. Note that a resampling filter object created in this way is not necessarily the same as one created by the function "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/accelerate/1509216-vimagenewresamplingfilter"
                },
                {
                  "type": "text",
                  "text": ". You must still  deallocate the object yourself; you can not pass it to the function "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/accelerate/1509201-vimagedestroyresamplingfilter"
                },
                {
                  "type": "text",
                  "text": "."
                }
              ]
            }
          ]
        },
        {
          "name": "kernelWidth",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A bounding value for the domain of your resampling kernel function. When your function is called, the x-values it will be passed will lie between –"
                },
                {
                  "type": "codeVoice",
                  "code": "kernelWidth"
                },
                {
                  "type": "text",
                  "text": " and +"
                },
                {
                  "type": "codeVoice",
                  "code": "kernelWidth"
                },
                {
                  "type": "text",
                  "text": ", inclusive."
                }
              ]
            }
          ]
        },
        {
          "name": "userData",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A pointer to custom data that you want to use when calculating your resampling kernel function. When vImage invokes your resampling kernel function, this pointer is passed to the function. The data can be anything you want to use in calculating your resampling kernel function—a table, a list of pointers to related functions, or so on. The data must remain valid for the life of the resampling kernel object. "
                }
              ]
            },
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "If your resampling kernel function does nor require user data, pass "
                },
                {
                  "type": "codeVoice",
                  "code": "NULL"
                },
                {
                  "type": "text",
                  "text": "."
                }
              ]
            }
          ]
        },
        {
          "name": "flags",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The options to use when creating the resampling filter object. You must set exactly one of the following flags to specify how vImage handles pixel locations beyond the edge of the source image: "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/accelerate/1578976-processing_flags/kvimagebackgroundcolorfill"
                },
                {
                  "type": "text",
                  "text": " or "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/accelerate/1578976-processing_flags/kvimageedgeextend"
                },
                {
                  "type": "text",
                  "text": ". "
                }
              ]
            },
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "Set the "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/accelerate/1578976-processing_flags/kvimagehighqualityresampling"
                },
                {
                  "type": "text",
                  "text": " flag if you want vImage to use a higher quality, but slower, resampling filter. "
                }
              ]
            },
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "If your code implements its own tiling or its own multithreading, pass "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/accelerate/1578976-processing_flags/kvimagedonottile"
                },
                {
                  "type": "text",
                  "text": "."
                }
              ]
            },
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "This function ignores the "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/accelerate/1578976-processing_flags/kvimageleavealphaunchanged"
                },
                {
                  "type": "text",
                  "text": " flag."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/accelerate/1578972-error_codes/kvimagenoerror"
            },
            {
              "type": "text",
              "text": "; otherwise, one of the error codes described in "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage/data_types_and_constants"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This function creates a reusable resampling filter object  that you can pass to a shear function. Before calling this function, you must allocate a buffer to contain the resampling filter object returned by this function. You can get the necessary size by calling the function "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/accelerate/1509252-vimagegetresamplingfiltersize"
            },
            {
              "type": "text",
              "text": ". When you no longer need this object, you are responsible for deallocating its memory. (Do not use the function "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/accelerate/1509201-vimagedestroyresamplingfilter"
            },
            {
              "type": "text",
              "text": " to deallocate custom resampling filter objects; it is not designed to deallocate them.)"
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If you need precise control over the memory used for a resampling filter object  but want to use the default, pass "
            },
            {
              "type": "codeVoice",
              "code": "NULL"
            },
            {
              "type": "text",
              "text": " as the "
            },
            {
              "type": "codeVoice",
              "code": "kernelFunc"
            },
            {
              "type": "text",
              "text": " parameter. This causes vImage to create a resampling filter object that corresponds to its default kernel. You can then determine where in memory the resampling filter object is located. You can reuse the buffer to reduce memory allocation, and so on. Note that a resampling filter object created in this way is not necessarily the same as one created by the function "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/accelerate/1509216-vimagenewresamplingfilter"
            },
            {
              "type": "text",
              "text": ". You must still  deallocate the object yourself; you can not pass it to the function "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/accelerate/1509201-vimagedestroyresamplingfilter"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}