{
  "abstract": [
    {
      "type": "text",
      "text": "Performs nonpremultiplied alpha compositing of two Planar8 images, placing the result in a destination buffer."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/accelerate",
        "doc://com.apple.documentation/documentation/accelerate/vimage",
        "doc://com.apple.documentation/documentation/accelerate/vimage/vimage_operations",
        "doc://com.apple.documentation/documentation/accelerate/vimage/vimage_operations/alpha_compositing"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/accelerate/1410685-vimagealphablend_planar8",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1410685,
  "kind": "symbol",
  "metadata": {
    "title": "vImageAlphaBlend_Planar8",
    "role": "symbol",
    "roleHeading": "Function",
    "modules": [
      {
        "name": "Accelerate"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "5.0",
        "current": "15.2"
      },
      {
        "name": "iPadOS",
        "introducedAt": "5.0",
        "current": "15.2"
      },
      {
        "name": "macOS",
        "introducedAt": "10.3",
        "current": "12.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "15.2"
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "current": "15.2"
      },
      {
        "name": "watchOS",
        "introducedAt": "2.0",
        "current": "8.3"
      }
    ],
    "externalID": "c:@F@vImageAlphaBlend_Planar8",
    "symbolKind": "func"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/accelerate/1410685-vimagealphablend_planar8"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/accelerate/1410685-vimagealphablend_planar8"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/accelerate": {
      "title": "Accelerate",
      "identifier": "doc://com.apple.documentation/documentation/accelerate",
      "url": "/documentation/accelerate",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/accelerate/vimage": {
      "title": "vImage",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage",
      "url": "/documentation/accelerate/vimage",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/accelerate/vimage/vimage_operations": {
      "title": "vImage Operations",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage/vimage_operations",
      "url": "/documentation/accelerate/vimage/vimage_operations",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/accelerate/vimage/vimage_operations/alpha_compositing": {
      "title": "Alpha Compositing",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage/vimage_operations/alpha_compositing",
      "url": "/documentation/accelerate/vimage/vimage_operations/alpha_compositing",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/accelerate/1410685-vimagealphablend_planar8#2557499": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/1410685-vimagealphablend_planar8#2557499",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/accelerate/1410685-vimagealphablend_planar8#2557499"
    },
    "doc://com.apple.documentation/documentation/accelerate/1410685-vimagealphablend_planar8#2557504": {
      "title": "Listing 2",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/1410685-vimagealphablend_planar8#2557504",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/accelerate/1410685-vimagealphablend_planar8#2557504"
    },
    "doc://com.apple.documentation/documentation/accelerate/1578972-error_codes/kvimagenoerror": {
      "title": "kvImageNoError",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/1578972-error_codes/kvimagenoerror",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/1578972-error_codes/kvimagenoerror"
    },
    "doc://com.apple.documentation/documentation/accelerate/vimage/data_types_and_constants": {
      "title": "Data Types and Constants",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage/data_types_and_constants",
      "kind": "article",
      "role": "collectionGroup",
      "url": "/documentation/accelerate/vimage/data_types_and_constants"
    },
    "doc://com.apple.documentation/documentation/accelerate/1578976-processing_flags/kvimagedonottile": {
      "title": "kvImageDoNotTile",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/1578976-processing_flags/kvimagedonottile",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/1578976-processing_flags/kvimagedonottile"
    },
    "doc://com.apple.documentation/documentation/accelerate/vimage_error": {
      "title": "vImage_Error",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage_error",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/vimage_error"
    },
    "doc://com.apple.documentation/documentation/accelerate/vimage_buffer": {
      "title": "vImage_Buffer",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage_buffer",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/vimage_buffer"
    },
    "doc://com.apple.documentation/documentation/accelerate/vimage_flags": {
      "title": "vImage_Flags",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage_flags",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/vimage_flags"
    },
    "doc://com.apple.documentation/documentation/accelerate/1410632-vimagealphablend_argbffff": {
      "title": "vImageAlphaBlend_ARGBFFFF",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/1410632-vimagealphablend_argbffff",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/1410632-vimagealphablend_argbffff",
      "abstract": [
        {
          "type": "text",
          "text": "Performs nonpremultiplied alpha compositing of two ARGBFFFF images, placing the result in a destination buffer."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/accelerate/1410655-vimagealphablend_argb8888": {
      "title": "vImageAlphaBlend_ARGB8888",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/1410655-vimagealphablend_argb8888",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/1410655-vimagealphablend_argb8888",
      "abstract": [
        {
          "type": "text",
          "text": "Performs nonpremultiplied alpha compositing of two ARGB8888 images, placing the result in a destination buffer."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/accelerate/1410723-vimagealphablend_planarf": {
      "title": "vImageAlphaBlend_PlanarF",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/1410723-vimagealphablend_planarf",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/1410723-vimagealphablend_planarf",
      "abstract": [
        {
          "type": "text",
          "text": "Performs nonpremultiplied alpha compositing of two PlanarF images, placing the result in a destination buffer."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/accelerate/1410685-vimagealphablend_planar8": {
      "title": "vImageAlphaBlend_Planar8",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/accelerate/1410685-vimagealphablend_planar8",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/accelerate/1410685-vimagealphablend_planar8",
      "abstract": [
        {
          "type": "text",
          "text": "Performs nonpremultiplied alpha compositing of two Planar8 images, placing the result in a destination buffer."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/accelerate/1410632-vimagealphablend_argbffff",
        "doc://com.apple.documentation/documentation/accelerate/1410655-vimagealphablend_argb8888",
        "doc://com.apple.documentation/documentation/accelerate/1410723-vimagealphablend_planarf"
      ],
      "title": "Performing Nonpremultiplied Alpha Compositing",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@vImage_Error",
              "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage_error",
              "text": "vImage_Error"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "vImageAlphaBlend_Planar8"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "keyword",
              "text": "const"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@vImage_Buffer",
              "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage_buffer",
              "text": "vImage_Buffer"
            },
            {
              "kind": "text",
              "text": " *srcTop, "
            },
            {
              "kind": "keyword",
              "text": "const"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@vImage_Buffer",
              "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage_buffer",
              "text": "vImage_Buffer"
            },
            {
              "kind": "text",
              "text": " *srcTopAlpha, "
            },
            {
              "kind": "keyword",
              "text": "const"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@vImage_Buffer",
              "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage_buffer",
              "text": "vImage_Buffer"
            },
            {
              "kind": "text",
              "text": " *srcBottom, "
            },
            {
              "kind": "keyword",
              "text": "const"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@vImage_Buffer",
              "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage_buffer",
              "text": "vImage_Buffer"
            },
            {
              "kind": "text",
              "text": " *srcBottomAlpha, "
            },
            {
              "kind": "keyword",
              "text": "const"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@vImage_Buffer",
              "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage_buffer",
              "text": "vImage_Buffer"
            },
            {
              "kind": "text",
              "text": " *alpha, "
            },
            {
              "kind": "keyword",
              "text": "const"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@vImage_Buffer",
              "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage_buffer",
              "text": "vImage_Buffer"
            },
            {
              "kind": "text",
              "text": " *dest, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@vImage_Flags",
              "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage_flags",
              "text": "vImage_Flags"
            },
            {
              "kind": "text",
              "text": " flags);"
            }
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "macOS",
            "Mac Catalyst",
            "tvOS",
            "watchOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "srcTop",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A pointer to a vImage buffer structure that contains data for the top source image."
                }
              ]
            }
          ]
        },
        {
          "name": "srcTopAlpha",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A pointer to a vImage buffer structure that contains data for the alpha values of the top source image."
                }
              ]
            }
          ]
        },
        {
          "name": "srcBottom",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A pointer to a vImage buffer structure that contains data for the bottom source image."
                }
              ]
            }
          ]
        },
        {
          "name": "srcBottomAlpha",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A pointer to a vImage buffer structure that contains data for the alpha values of the bottom source image."
                }
              ]
            }
          ]
        },
        {
          "name": "alpha",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A pointer to a vImage buffer structure that contains data for the precalculated alpha values of the composite image. You must precalculate these values by calling the function "
                },
                {
                  "type": "codeVoice",
                  "code": "vPremultipliedAlphaBlend_PlanarF"
                },
                {
                  "type": "text",
                  "text": ". See the Discussion for details on using this function."
                }
              ]
            }
          ]
        },
        {
          "name": "dest",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A pointer to a vImage buffer data structure. You're responsible for filling out the "
                },
                {
                  "type": "codeVoice",
                  "code": "height"
                },
                {
                  "type": "text",
                  "text": ", "
                },
                {
                  "type": "codeVoice",
                  "code": "width"
                },
                {
                  "type": "text",
                  "text": ", and "
                },
                {
                  "type": "codeVoice",
                  "code": "rowBytes"
                },
                {
                  "type": "text",
                  "text": " fields of this structure, and for allocating a data buffer of the appropriate size. On return, the data buffer this structure points to contains the destination image data. When you no longer need the data buffer, you must deallocate the memory."
                }
              ]
            }
          ]
        },
        {
          "name": "flags",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The options to use when performing the operation. If your code implements its own tiling or its own multithreading, pass "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/accelerate/1578976-processing_flags/kvimagedonottile"
                },
                {
                  "type": "text",
                  "text": "."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/accelerate/1578972-error_codes/kvimagenoerror"
            },
            {
              "type": "text",
              "text": "; otherwise, one of the error codes described in "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/accelerate/vimage/data_types_and_constants"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The vImage buffer structures for the source, alpha values, destination, and composite alpha values must contain the same height and width."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For performance reasons, this function does not calculate alpha values for the composite image; you must provide them. Youâ€™ll typically call this function three times, once for each color channel (red, green, blue). Because each call uses the same alpha value, it is much more efficient for you to precalculate the alpha values using the function "
            },
            {
              "type": "codeVoice",
              "code": "vImagePremultipliedAlphaBlend_Planar8"
            },
            {
              "type": "text",
              "text": ", rather than have the calculation repeated three times by the"
            },
            {
              "type": "codeVoice",
              "code": "vImageAlphaBlend_Planar8"
            },
            {
              "type": "text",
              "text": " function. Call the function "
            },
            {
              "type": "codeVoice",
              "code": "vPremultipliedAlphaBlend_Planar8"
            },
            {
              "type": "text",
              "text": " using the parameters shown: "
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "vImagePremultipliedAlphaBlend_Planar8(srcTopAlpha,",
            "              srcTopAlpha, // Yes, use this twice",
            "              srcBottomAlpha,",
            "              alpha, //On return, contains the composite alpha values",
            "              kvImageNoFlags );"
          ],
          "syntax": "occ",
          "metadata": {
            "anchor": "2557499",
            "title": "Listing 1"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "After calling the "
            },
            {
              "type": "codeVoice",
              "code": "vPremultipliedAlphaBlend_Planar8"
            },
            {
              "type": "text",
              "text": " function, the resulting values for each color channel are:"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "resultAlpha = topAlpha + (1.0f - topAlpha) * bottomAlpha",
            "resultColor = (topAlpha * topColor + (1.0f - topAlpha)",
            "                   * bottomAlpha * bottomColor) / resultAlpha"
          ],
          "syntax": "occ",
          "metadata": {
            "anchor": "2557504",
            "title": "Listing 2"
          }
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}