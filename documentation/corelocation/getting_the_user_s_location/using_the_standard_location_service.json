{
  "abstract": [
    {
      "type": "text",
      "text": "Get regular location updates based on the parameters you specify."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/corelocation",
        "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location/using_the_standard_location_service",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 2854941,
  "kind": "article",
  "metadata": {
    "title": "Using the Standard Location Service",
    "role": "article",
    "roleHeading": "Article",
    "modules": [
      {
        "name": "Core Location"
      }
    ]
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/corelocation/getting_the_user_s_location/using_the_standard_location_service"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/corelocation/getting_the_user_s_location/using_the_standard_location_service"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/corelocation": {
      "title": "Core Location",
      "identifier": "doc://com.apple.documentation/documentation/corelocation",
      "url": "/documentation/corelocation",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location": {
      "title": "Getting the User's Location",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location",
      "url": "/documentation/corelocation/getting_the_user_s_location",
      "type": "topic",
      "kind": "article",
      "role": "article"
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanagerdelegate/1423615-locationmanager": {
      "title": "locationManager:didUpdateLocations:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanagerdelegate/1423615-locationmanager",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationmanagerdelegate/1423615-locationmanager",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "locationManager:didUpdateLocations:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location/using_the_standard_location_service#2854953": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location/using_the_standard_location_service#2854953",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/corelocation/getting_the_user_s_location/using_the_standard_location_service#2854953",
      "abstract": [
        {
          "type": "text",
          "text": "Processing the most recent location update"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocation": {
      "title": "CLLocation",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocation",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocation"
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanagerdelegate/1423786-locationmanager": {
      "title": "locationManager:didFailWithError:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanagerdelegate/1423786-locationmanager",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationmanagerdelegate/1423786-locationmanager",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "locationManager:didFailWithError:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location/using_the_standard_location_service#2854954": {
      "title": "Listing 2",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location/using_the_standard_location_service#2854954",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/corelocation/getting_the_user_s_location/using_the_standard_location_service#2854954",
      "abstract": [
        {
          "type": "text",
          "text": "Stopping location services when authorization is denied"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/requesting_authorization_for_location_services": {
      "title": "Requesting Authorization for Location Services",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/requesting_authorization_for_location_services",
      "kind": "article",
      "role": "article",
      "url": "/documentation/corelocation/requesting_authorization_for_location_services"
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanager": {
      "title": "CLLocationManager",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationmanager"
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1423750-startupdatinglocation": {
      "title": "startUpdatingLocation",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1423750-startupdatinglocation",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationmanager/1423750-startupdatinglocation",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "startUpdatingLocation"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1423836-desiredaccuracy": {
      "title": "desiredAccuracy",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1423836-desiredaccuracy",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationmanager/1423836-desiredaccuracy"
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1423500-distancefilter": {
      "title": "distanceFilter",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1423500-distancefilter",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationmanager/1423500-distancefilter"
    },
    "doc://com.apple.documentation/documentation/corelocation/kcllocationaccuracykilometer": {
      "title": "kCLLocationAccuracyKilometer",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/kcllocationaccuracykilometer",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/kcllocationaccuracykilometer"
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1620553-pauseslocationupdatesautomatical": {
      "title": "pausesLocationUpdatesAutomatically",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1620553-pauseslocationupdatesautomatical",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationmanager/1620553-pauseslocationupdatesautomatical"
    },
    "doc://com.apple.documentation/documentation/objectivec/yes": {
      "title": "YES",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/objectivec/yes",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/objectivec/yes"
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1620567-activitytype": {
      "title": "activityType",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1620567-activitytype",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationmanager/1620567-activitytype"
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1423695-stopupdatinglocation": {
      "title": "stopUpdatingLocation",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1423695-stopupdatinglocation",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationmanager/1423695-stopupdatinglocation",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "stopUpdatingLocation"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location/using_the_visits_location_service": {
      "title": "Using the Visits Location Service",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location/using_the_visits_location_service",
      "kind": "article",
      "role": "article",
      "url": "/documentation/corelocation/getting_the_user_s_location/using_the_visits_location_service",
      "abstract": [
        {
          "type": "text",
          "text": "Get location updates in the most power-efficient way, but less frequently than with other services. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location/using_the_significant-change_location_service": {
      "title": "Using the Significant-Change Location Service",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location/using_the_significant-change_location_service",
      "kind": "article",
      "role": "article",
      "url": "/documentation/corelocation/getting_the_user_s_location/using_the_significant-change_location_service",
      "abstract": [
        {
          "type": "text",
          "text": "Get location updates in a power-friendly way, but less frequently than with the standard location service."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location/using_the_standard_location_service": {
      "title": "Using the Standard Location Service",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location/using_the_standard_location_service",
      "kind": "article",
      "role": "article",
      "url": "/documentation/corelocation/getting_the_user_s_location/using_the_standard_location_service",
      "abstract": [
        {
          "type": "text",
          "text": "Get regular location updates based on the parameters you specify."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location/handling_location_events_in_the_background": {
      "title": "Handling Location Events in the Background",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location/handling_location_events_in_the_background",
      "kind": "article",
      "role": "article",
      "url": "/documentation/corelocation/getting_the_user_s_location/handling_location_events_in_the_background",
      "abstract": [
        {
          "type": "text",
          "text": "Take advantage of background execution modes to respond to location-related events."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/converting_between_coordinates_and_user-friendly_place_names": {
      "title": "Converting Between Coordinates and User-Friendly Place Names",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/converting_between_coordinates_and_user-friendly_place_names",
      "kind": "article",
      "role": "article",
      "url": "/documentation/corelocation/converting_between_coordinates_and_user-friendly_place_names",
      "abstract": [
        {
          "type": "text",
          "text": "Convert between a latitude/longitude pair and a more user-friendly description of that location."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/mapkit/mkmapview/converting_a_user_s_location_to_a_descriptive_placemark": {
      "title": "Converting a User's Location to a Descriptive Placemark",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/mapkit/mkmapview/converting_a_user_s_location_to_a_descriptive_placemark",
      "kind": "article",
      "role": "article",
      "url": "/documentation/mapkit/mkmapview/converting_a_user_s_location_to_a_descriptive_placemark",
      "abstract": [
        {
          "type": "text",
          "text": "Transform the user’s location displayed on a map into an informative textual description by reverse geocoding."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location/using_the_visits_location_service",
        "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location/using_the_significant-change_location_service",
        "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location/handling_location_events_in_the_background",
        "doc://com.apple.documentation/documentation/corelocation/converting_between_coordinates_and_user-friendly_place_names",
        "doc://com.apple.documentation/documentation/mapkit/mkmapview/converting_a_user_s_location_to_a_descriptive_placemark"
      ],
      "title": "Related Topics",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When you need the most control over location updates, use the standard location service. This service is highly configurable, letting you specify the preferred accuracy for locations and the distance that the user must travel before new updates are delivered. This service is most commonly used by apps that require high precision locations or frequent updates, such as navigation apps. Because it offers higher accuracy, the service typically consumes more power than the other location services. "
            }
          ]
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The standard location service requires authorization. For more information, see "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/corelocation/requesting_authorization_for_location_services"
                },
                {
                  "type": "text",
                  "text": "."
                }
              ]
            }
          ],
          "style": "note",
          "name": "Note"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To start the standard location service, configure your "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager"
            },
            {
              "type": "text",
              "text": " object and call its "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1423750-startupdatinglocation"
            },
            {
              "type": "text",
              "text": " method. The location manager delivers updates to the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanagerdelegate/1423615-locationmanager"
            },
            {
              "type": "text",
              "text": " manager of its delegate. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To minimize power consumption, never set the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1423836-desiredaccuracy"
            },
            {
              "type": "text",
              "text": " property to a higher accuracy than what you actually need. Similarly, always set the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1423500-distancefilter"
            },
            {
              "type": "text",
              "text": " property to the greatest value that meets the needs of your app. The system always tries to give you the best location data that is available, but these properties give the system the flexibility to turn off hardware elements when they are not needed. For example, if you set the desired accuracy to "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/kcllocationaccuracykilometer"
            },
            {
              "type": "text",
              "text": ", the system might disable GPS and use only the Wi-Fi hardware, which would save power and still give you a greater accuracy than you requested. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Another way to save power is to set the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1620553-pauseslocationupdatesautomatical"
            },
            {
              "type": "text",
              "text": " property of your location manager object to "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/objectivec/yes"
            },
            {
              "type": "text",
              "text": ". Enabling this property lets the system reduce power consumption by disabling location hardware when the user is unlikely to be moving. For example, if the user stops for food while using a navigation app, the system might turn off GPS hardware until the user starts moving again. Pausing updates does not diminish the quality of those updates, but can improve battery life significantly. To help the system determine when to pause updates, you must also assign an appropriate value to the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1620567-activitytype"
            },
            {
              "type": "text",
              "text": " property of your location manager. "
            }
          ]
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "When you no longer need location data, always call your location manager object's "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1423695-stopupdatinglocation"
                },
                {
                  "type": "text",
                  "text": " method. If you do not stop location updates, the system continues delivering location data to your app, which could cause significant battery drain for the user's device. "
                }
              ]
            }
          ],
          "style": "note",
          "name": "Note"
        },
        {
          "type": "paragraph",
          "inlineContent": []
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Receiving Location Updates",
          "anchor": "2854952"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When you start the standard location service, a recently cached value may be reported to your delegate immediately. As new location data is obtained, the location manager calls your delegate's "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanagerdelegate/1423615-locationmanager"
            },
            {
              "type": "text",
              "text": " method with the updated values. The locations parameter always contains at least one location and may contain more than one. Locations are always reported in the order in which they were determined, so the most recent location is always the last item in the array, as shown in "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location/using_the_standard_location_service#2854953"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "func locationManager(_ manager: CLLocationManager,  didUpdateLocations locations: [CLLocation]) {",
            "    let lastLocation = locations.last!",
            "               ",
            "    // Do something with the location.",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "2854953",
            "title": "Listing 1",
            "abstract": [
              {
                "type": "text",
                "text": "Processing the most recent location update"
              }
            ]
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Before using a location value, check the time stamp of the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocation"
            },
            {
              "type": "text",
              "text": " object. Because the system may return cached locations, checking the time stamp lets you know whether to update your interface right away or perhaps wait for a new location."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Handling Location-Related Errors",
          "anchor": "2854955"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When the location manager is unable to deliver location updates, it calls the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanagerdelegate/1423786-locationmanager"
            },
            {
              "type": "text",
              "text": " method of its delegate object. You should always implement this delegate method to handle any errors that might occur. For example, this method is called when the user denies authorization for your app to use location services. In such a scenario, you might want to disable location-related features and notify the user which features are unavailable. You should also stop whatever service you previously started, as demonstrated in "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location/using_the_standard_location_service#2854954"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "func locationManager(_ manager: CLLocationManager, didFailWithError error: Error) {",
            "   if let error = error as? CLError, error.code == .denied {",
            "      // Location updates are not authorized.",
            "      manager.stopUpdatingLocation()",
            "      return",
            "   }       ",
            "   // Notify the user of any errors.",
            "}",
            ""
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "2854954",
            "title": "Listing 2",
            "abstract": [
              {
                "type": "text",
                "text": "Stopping location services when authorization is denied"
              }
            ]
          }
        },
        {
          "type": "paragraph",
          "inlineContent": []
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}