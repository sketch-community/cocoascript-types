{
  "abstract": [
    {
      "type": "text",
      "text": "Starts monitoring for the delivery of Apple Push Notification service (APNs) location pushes, and provides a device-specific token for sending pushes."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/corelocation",
        "doc://com.apple.documentation/documentation/corelocation/cllocationmanager"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/3746837-startmonitoringlocationpusheswit",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 3746837,
  "kind": "symbol",
  "metadata": {
    "title": "startMonitoringLocationPushesWithCompletion:",
    "role": "symbol",
    "roleHeading": "Instance Method",
    "modules": [
      {
        "name": "Core Location"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "15.0",
        "current": "15.2"
      },
      {
        "name": "iPadOS",
        "introducedAt": "15.0",
        "current": "15.2"
      }
    ],
    "externalID": "c:objc(cs)CLLocationManager(im)startMonitoringLocationPushesWithCompletion:",
    "parent": {
      "title": "CLLocationManager"
    },
    "symbolKind": "instm"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/corelocation/cllocationmanager/3746837-startmonitoringlocationpusheswit"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/corelocation/cllocationmanager/3746837-startmonitoringlocationpushes"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/corelocation": {
      "title": "Core Location",
      "identifier": "doc://com.apple.documentation/documentation/corelocation",
      "url": "/documentation/corelocation",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanager": {
      "title": "CLLocationManager",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationmanager",
      "abstract": [
        {
          "type": "text",
          "text": "The object that you use to start and stop the delivery of location-related events to your app."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationpushserviceerror": {
      "title": "CLLocationPushServiceError",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationpushserviceerror",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationpushserviceerror",
      "abstract": [
        {
          "type": "text",
          "text": "Error codes the location manager returns if starting to monitor for location push notifications fails."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/creating_a_location_push_service_extension": {
      "title": "Creating a Location Push Service Extension",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/creating_a_location_push_service_extension",
      "kind": "article",
      "role": "article",
      "url": "/documentation/corelocation/cllocationmanager/creating_a_location_push_service_extension",
      "abstract": [
        {
          "type": "text",
          "text": "Add and configure an extension to enable your location sharing app to access a user’s location in response to a request from another user."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsdata": {
      "title": "NSData",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsdata",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsdata"
    },
    "doc://com.apple.documentation/documentation/foundation/nserror": {
      "title": "NSError",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nserror",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nserror"
    },
    "doc://com.apple.documentation/documentation/bundleresources/entitlements/com_apple_developer_location_push": {
      "title": "com.apple.developer.location.push",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/bundleresources/entitlements/com_apple_developer_location_push",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/bundleresources/entitlements/com_apple_developer_location_push",
      "abstract": [
        {
          "type": "text",
          "text": "Enables a location sharing app, with a user’s authorization, to query a user’s location in response to a location push from Apple Push Notification service (APNs)."
        }
      ],
      "titleStyle": "title",
      "name": "com.apple.developer.location.push"
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/3746837-startmonitoringlocationpusheswit": {
      "title": "startMonitoringLocationPushesWithCompletion:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/3746837-startmonitoringlocationpusheswit",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationmanager/3746837-startmonitoringlocationpusheswit",
      "abstract": [
        {
          "type": "text",
          "text": "Starts monitoring for the delivery of Apple Push Notification service (APNs) location pushes, and provides a device-specific token for sending pushes."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "startMonitoringLocationPushesWithCompletion:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/3746838-stopmonitoringlocationpushes": {
      "title": "stopMonitoringLocationPushes",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/3746838-stopmonitoringlocationpushes",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationmanager/3746838-stopmonitoringlocationpushes",
      "abstract": [
        {
          "type": "text",
          "text": "Stop monitoring for Apple Push Notification service (APNs) location pushes."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "stopMonitoringLocationPushes"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationpushserviceextension": {
      "title": "CLLocationPushServiceExtension",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationpushserviceextension",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationpushserviceextension",
      "abstract": [
        {
          "type": "text",
          "text": "A protocol that provides the entry point for the Location Push Service Extension."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationpushserviceerrordomain": {
      "title": "CLLocationPushServiceErrorDomain",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationpushserviceerrordomain",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationpushserviceerrordomain",
      "abstract": [
        {
          "type": "text",
          "text": "The domain for Location Push Service Extension errors. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/creating_a_location_push_service_extension",
        "doc://com.apple.documentation/documentation/bundleresources/entitlements/com_apple_developer_location_push",
        "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/3746838-stopmonitoringlocationpushes",
        "doc://com.apple.documentation/documentation/corelocation/cllocationpushserviceextension",
        "doc://com.apple.documentation/documentation/corelocation/cllocationpushserviceerrordomain",
        "doc://com.apple.documentation/documentation/corelocation/cllocationpushserviceerror"
      ],
      "title": "Monitoring Location Pushes",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "text",
              "text": "- ("
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "identifier",
              "text": "startMonitoringLocationPushesWithCompletion:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": " (^)("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSData",
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsdata",
              "text": "NSData"
            },
            {
              "kind": "text",
              "text": " *token, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSError",
              "identifier": "doc://com.apple.documentation/documentation/foundation/nserror",
              "text": "NSError"
            },
            {
              "kind": "text",
              "text": " *)"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "completion"
            },
            {
              "kind": "text",
              "text": ";"
            }
          ],
          "platforms": [
            "iOS",
            "iPadOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "completion",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The completion handler to call after you start monitoring location pushes. The completion handler takes the following parameters:"
                }
              ]
            },
            {
              "type": "termList",
              "items": [
                {
                  "term": {
                    "inlineContent": [
                      {
                        "type": "codeVoice",
                        "code": "token"
                      }
                    ]
                  },
                  "definition": {
                    "content": [
                      {
                        "type": "paragraph",
                        "inlineContent": [
                          {
                            "type": "text",
                            "text": "A globally unique token that identifies this device to APNs. Send this "
                          },
                          {
                            "type": "codeVoice",
                            "code": "token"
                          },
                          {
                            "type": "text",
                            "text": " to the server that you use to generate location pushes. Your server passes this "
                          },
                          {
                            "type": "codeVoice",
                            "code": "token"
                          },
                          {
                            "type": "text",
                            "text": " — unmodified — back to APNs when sending pushes. APNs device tokens are of variable length. Don't hard-code their size."
                          }
                        ]
                      },
                      {
                        "type": "paragraph",
                        "inlineContent": [
                          {
                            "type": "text",
                            "text": "If an error occurs, "
                          },
                          {
                            "type": "codeVoice",
                            "code": "token"
                          },
                          {
                            "type": "text",
                            "text": " is "
                          },
                          {
                            "type": "codeVoice",
                            "code": "nil"
                          },
                          {
                            "type": "text",
                            "text": "."
                          }
                        ]
                      }
                    ]
                  }
                },
                {
                  "term": {
                    "inlineContent": [
                      {
                        "type": "codeVoice",
                        "code": "error"
                      }
                    ]
                  },
                  "definition": {
                    "content": [
                      {
                        "type": "paragraph",
                        "inlineContent": [
                          {
                            "type": "text",
                            "text": "If your app is unable to register for location pushes, the system sets this parameter to an error object that contains information about why it failed; otherwise it’s "
                          },
                          {
                            "type": "codeVoice",
                            "code": "nil"
                          },
                          {
                            "type": "text",
                            "text": ". The error type is "
                          },
                          {
                            "type": "reference",
                            "isActive": true,
                            "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationpushserviceerror"
                          },
                          {
                            "type": "text",
                            "text": "."
                          }
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This function requests an Apple Push Notification service (APNs) token that the system uses to launch your Location Push Service Extension and deliver pushes. Devices need an Internet connection to receive the token. Your completion block receives the token if the call succeeds, otherwise it receives error information."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To use location push notifications, your app must have the "
            },
            {
              "type": "codeVoice",
              "code": "com.apple.developer.location.push"
            },
            {
              "type": "text",
              "text": " entitlement. For more information about implementing location pushes in your app, see "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/creating_a_location_push_service_extension"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "This method is only available in iOS and iPadOS 15 and later."
                }
              ]
            }
          ],
          "style": "important"
        },
        {
          "type": "paragraph",
          "inlineContent": []
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}