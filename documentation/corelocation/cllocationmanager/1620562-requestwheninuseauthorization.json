{
  "abstract": [
    {
      "type": "text",
      "text": "Requests the user’s permission to use location services while the app is in use."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/corelocation",
        "doc://com.apple.documentation/documentation/corelocation/cllocationmanager"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1620562-requestwheninuseauthorization",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1620562,
  "kind": "symbol",
  "metadata": {
    "title": "requestWhenInUseAuthorization",
    "role": "symbol",
    "roleHeading": "Instance Method",
    "modules": [
      {
        "name": "Core Location"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "8.0",
        "current": "15.2"
      },
      {
        "name": "iPadOS",
        "introducedAt": "8.0",
        "current": "15.2"
      },
      {
        "name": "macOS",
        "introducedAt": "10.15",
        "current": "12.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "15.2"
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "current": "15.2"
      },
      {
        "name": "watchOS",
        "introducedAt": "2.0",
        "current": "8.3"
      }
    ],
    "externalID": "c:objc(cs)CLLocationManager(im)requestWhenInUseAuthorization",
    "parent": {
      "title": "CLLocationManager"
    },
    "symbolKind": "instm"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/corelocation/cllocationmanager/1620562-requestwheninuseauthorization"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/corelocation/cllocationmanager/1620562-requestwheninuseauthorization"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/corelocation": {
      "title": "Core Location",
      "identifier": "doc://com.apple.documentation/documentation/corelocation",
      "url": "/documentation/corelocation",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanager": {
      "title": "CLLocationManager",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationmanager",
      "abstract": [
        {
          "type": "text",
          "text": "The object that you use to start and stop the delivery of location-related events to your app."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1620551-requestalwaysauthorization": {
      "title": "requestAlwaysAuthorization",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1620551-requestalwaysauthorization",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationmanager/1620551-requestalwaysauthorization",
      "abstract": [
        {
          "type": "text",
          "text": "Requests the user’s permission to use location services regardless of whether the app is in use."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "requestAlwaysAuthorization"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1620562-requestwheninuseauthorization": {
      "title": "requestWhenInUseAuthorization",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1620562-requestwheninuseauthorization",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationmanager/1620562-requestwheninuseauthorization",
      "abstract": [
        {
          "type": "text",
          "text": "Requests the user’s permission to use location services while the app is in use."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "requestWhenInUseAuthorization"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/clauthorizationstatus/kclauthorizationstatusnotdetermined": {
      "title": "kCLAuthorizationStatusNotDetermined",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/clauthorizationstatus/kclauthorizationstatusnotdetermined",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/clauthorizationstatus/kclauthorizationstatusnotdetermined"
    },
    "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nslocationwheninuseusagedescription": {
      "title": "NSLocationWhenInUseUsageDescription",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nslocationwheninuseusagedescription",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/bundleresources/information_property_list/nslocationwheninuseusagedescription",
      "abstract": [
        {
          "type": "text",
          "text": "A message that tells the user why the app is requesting access to the user’s location information while the app is running in the foreground."
        }
      ],
      "fragments": [
        {
          "kind": "label",
          "text": "property list key "
        },
        {
          "kind": "identifier",
          "text": "NSLocationWhenInUseUsageDescription"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1620562-requestwheninuseauthorization#3383243": {
      "title": "Table 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1620562-requestwheninuseauthorization#3383243",
      "kind": "article",
      "role": "table",
      "url": "/documentation/corelocation/cllocationmanager/1620562-requestwheninuseauthorization#3383243"
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanagerdelegate/1423701-locationmanager": {
      "title": "locationManager:didChangeAuthorizationStatus:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanagerdelegate/1423701-locationmanager",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationmanagerdelegate/1423701-locationmanager",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "locationManager:didChangeAuthorizationStatus:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/choosing_the_location_services_authorization_to_request": {
      "title": "Choosing the  Location Services Authorization to Request",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/choosing_the_location_services_authorization_to_request",
      "kind": "article",
      "role": "article",
      "url": "/documentation/corelocation/choosing_the_location_services_authorization_to_request"
    },
    "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location/handling_location_events_in_the_background": {
      "title": "Handling Location Events in the Background",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location/handling_location_events_in_the_background",
      "kind": "article",
      "role": "article",
      "url": "/documentation/corelocation/getting_the_user_s_location/handling_location_events_in_the_background",
      "abstract": [
        {
          "type": "text",
          "text": "Take advantage of background execution modes to respond to location-related events."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nslocationalwaysandwheninuseusagedescription": {
      "title": "NSLocationAlwaysAndWhenInUseUsageDescription",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nslocationalwaysandwheninuseusagedescription",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/bundleresources/information_property_list/nslocationalwaysandwheninuseusagedescription",
      "abstract": [
        {
          "type": "text",
          "text": "A message that tells the user why the app is requesting access to the user’s location information at all times."
        }
      ],
      "titleStyle": "symbol",
      "name": "NSLocationAlwaysAndWhenInUseUsageDescription",
      "ideTitle": "Privacy - Location Always and When In Use Usage Description",
      "fragments": [
        {
          "kind": "label",
          "text": "property list key "
        },
        {
          "kind": "identifier",
          "text": "NSLocationAlwaysAndWhenInUseUsageDescription"
        }
      ]
    },
    "devLink-1741961": {
      "identifier": "devLink-1741961",
      "type": "link",
      "title": "Location and Maps Programming Guide",
      "url": "https://developer.apple.com/library/archive/documentation/UserExperience/Conceptual/LocationAwarenessPG/Introduction/Introduction.html#//apple_ref/doc/uid/TP40009497"
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/3600217-requesttemporaryfullaccuracyauth": {
      "title": "requestTemporaryFullAccuracyAuthorizationWithPurposeKey:completion:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/3600217-requesttemporaryfullaccuracyauth",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationmanager/3600217-requesttemporaryfullaccuracyauth",
      "abstract": [
        {
          "type": "text",
          "text": " Requests the user’s permission to temporarily use location services with full accuracy."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "requestTemporaryFullAccuracyAuthorizationWithPurposeKey:completion:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/3600216-requesttemporaryfullaccuracyauth": {
      "title": "requestTemporaryFullAccuracyAuthorizationWithPurposeKey:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/3600216-requesttemporaryfullaccuracyauth",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationmanager/3600216-requesttemporaryfullaccuracyauth",
      "abstract": [
        {
          "type": "text",
          "text": "Requests the user’s permission to temporarily use location services with full accuracy."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "requestTemporaryFullAccuracyAuthorizationWithPurposeKey:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/3563952-authorizationstatus": {
      "title": "authorizationStatus",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/3563952-authorizationstatus",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationmanager/3563952-authorizationstatus",
      "abstract": [
        {
          "type": "text",
          "text": "The current authorization status for the app."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/clauthorizationstatus": {
      "title": "CLAuthorizationStatus",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/clauthorizationstatus",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/clauthorizationstatus",
      "abstract": [
        {
          "type": "text",
          "text": "Constants indicating the app's authorization to use location services."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nslocationdefaultaccuracyreduced": {
      "title": "NSLocationDefaultAccuracyReduced",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nslocationdefaultaccuracyreduced",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/bundleresources/information_property_list/nslocationdefaultaccuracyreduced",
      "abstract": [
        {
          "type": "text",
          "text": "A Boolean value that indicates whether the app requests reduced location accuracy by default."
        }
      ],
      "titleStyle": "symbol",
      "name": "NSLocationDefaultAccuracyReduced",
      "ideTitle": "Privacy - Location Default Accuracy Reduced",
      "fragments": [
        {
          "kind": "label",
          "text": "property list key "
        },
        {
          "kind": "identifier",
          "text": "NSLocationDefaultAccuracyReduced"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1423523-authorizationstatus": {
      "title": "authorizationStatus",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1423523-authorizationstatus",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationmanager/1423523-authorizationstatus",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the app’s authorization status for using location services."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "+ "
        },
        {
          "kind": "identifier",
          "text": "authorizationStatus"
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1423742-purpose": {
      "title": "purpose",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1423742-purpose",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corelocation/cllocationmanager/1423742-purpose",
      "abstract": [
        {
          "type": "text",
          "text": "An app-provided string that describes the reason for using location services."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1620551-requestalwaysauthorization",
        "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/3600217-requesttemporaryfullaccuracyauth",
        "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/3600216-requesttemporaryfullaccuracyauth",
        "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/3563952-authorizationstatus",
        "doc://com.apple.documentation/documentation/corelocation/clauthorizationstatus",
        "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nslocationdefaultaccuracyreduced",
        "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1423523-authorizationstatus",
        "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1423742-purpose",
        "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nslocationalwaysandwheninuseusagedescription"
      ],
      "title": "Requesting Authorization for Location Services",
      "generated": true
    },
    {
      "title": "Related Documentation",
      "generated": false,
      "identifiers": [
        "doc://com.apple.documentation/documentation/corelocation/getting_the_user_s_location/handling_location_events_in_the_background",
        "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nslocationwheninuseusagedescription",
        "devLink-1741961"
      ]
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "text",
              "text": "- ("
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "identifier",
              "text": "requestWhenInUseAuthorization"
            },
            {
              "kind": "text",
              "text": ";"
            }
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "macOS",
            "Mac Catalyst",
            "tvOS",
            "watchOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You must call this method or "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1620551-requestalwaysauthorization"
            },
            {
              "type": "text",
              "text": " before you can receive location-related information. You may call "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanager/1620562-requestwheninuseauthorization"
            },
            {
              "type": "text",
              "text": " whenever the current authorization status is not determined ("
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/clauthorizationstatus/kclauthorizationstatusnotdetermined"
            },
            {
              "type": "text",
              "text": ")."
            }
          ]
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "Your app must be in the foreground to show a location authorization prompt."
                }
              ]
            }
          ],
          "style": "important"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This method runs asynchronously and prompts the user to grant permission to the app to use location services. The user prompt contains the text from the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nslocationwheninuseusagedescription"
            },
            {
              "type": "text",
              "text": " key in your app "
            },
            {
              "type": "codeVoice",
              "code": "Info.plist"
            },
            {
              "type": "text",
              "text": " file, and the presence of that key is required when calling this method. The user prompt displays the following options, which determine the authorization your app can receive."
            }
          ]
        },
        {
          "type": "table",
          "header": "row",
          "rows": [
            [
              [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Option"
                    }
                  ]
                }
              ],
              [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Authorization"
                    }
                  ]
                }
              ]
            ],
            [
              [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Allow While Using App"
                    }
                  ]
                }
              ],
              [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "When In Use authorization that does not expire."
                    }
                  ]
                }
              ]
            ],
            [
              [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Allow Once"
                    }
                  ]
                }
              ],
              [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Temporary When In Use authorization that expires when the app is no longer in use."
                    }
                  ]
                }
              ]
            ],
            [
              [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Don't Allow"
                    }
                  ]
                }
              ],
              [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Denied; no further authorization requests are allowed."
                    }
                  ]
                }
              ]
            ]
          ],
          "metadata": {
            "anchor": "3383243",
            "title": "Table 1"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "After the user makes a selection and determines the status, the location manager delivers the results to the delegate's "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanagerdelegate/1423701-locationmanager"
            },
            {
              "type": "text",
              "text": " method. If the initial authorization status is anything other than "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/clauthorizationstatus/kclauthorizationstatusnotdetermined"
            },
            {
              "type": "text",
              "text": ", this method does nothing and doesn't call the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/cllocationmanagerdelegate/1423701-locationmanager"
            },
            {
              "type": "text",
              "text": " method."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If the user's choice grants When In Use authorization to your app, your app can start any location service and is eligible to receive the results while it's in use. If the user's choice grants temporary When In Use authorization, the authorization expires when the app is no longer in use, reverting to Not Determined status ("
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/clauthorizationstatus/kclauthorizationstatusnotdetermined"
            },
            {
              "type": "text",
              "text": "). For information about when an app is considered to be in use, see "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/corelocation/choosing_the_location_services_authorization_to_request"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When your app starts standard location services in the foreground, they continue to run in the background if your app has enabled background location updates in the Capabilities tab of your Xcode project. Attempts to start location updates while your app runs in the background will fail. The system displays a location services indicator in the status bar when your app moves to the background with active location services."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}