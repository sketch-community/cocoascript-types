{
  "abstract": [
    {
      "type": "text",
      "text": "Add code to respond to invocations and offer a focused launch experience."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/app_clips"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/app_clips/responding_to_invocations",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 3586896,
  "kind": "article",
  "metadata": {
    "title": "Responding to Invocations",
    "role": "article",
    "roleHeading": "Article"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/app_clips/responding_to_invocations"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/app_clips/responding_to_invocations"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/app_clips": {
      "title": "App Clips",
      "identifier": "doc://com.apple.documentation/documentation/app_clips",
      "url": "/documentation/app_clips",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/bundleresources/entitlements/com_apple_developer_associated-domains": {
      "title": "Associated Domains Entitlement",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/bundleresources/entitlements/com_apple_developer_associated-domains",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/bundleresources/entitlements/com_apple_developer_associated-domains"
    },
    "doc://com.apple.documentation/documentation/app_clips/associating_your_app_clip_with_your_website": {
      "title": "Associating Your App Clip with Your Website",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/app_clips/associating_your_app_clip_with_your_website",
      "kind": "article",
      "role": "article",
      "url": "/documentation/app_clips/associating_your_app_clip_with_your_website"
    },
    "doc://com.apple.documentation/documentation/app_clips/configuring_the_launch_experience_of_your_app_clip": {
      "title": "Configuring the Launch Experience of Your App Clip",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/app_clips/configuring_the_launch_experience_of_your_app_clip",
      "kind": "article",
      "role": "article",
      "url": "/documentation/app_clips/configuring_the_launch_experience_of_your_app_clip",
      "abstract": [
        {
          "type": "text",
          "text": "Review how users launch your App Clip, identify invocation URLs, and configure experiences in App Store Connect."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsuseractivity": {
      "title": "NSUserActivity",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsuseractivity"
    },
    "doc://com.apple.documentation/documentation/swiftui/view/oncontinueuseractivity(_:perform:)": {
      "title": "onContinueUserActivity(_:perform:)",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/swiftui/view/oncontinueuseractivity(_:perform:)",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/swiftui/view/oncontinueuseractivity(_:perform:)"
    },
    "doc://com.apple.documentation/documentation/uikit/view_controllers/restoring_your_app_s_state_with_swiftui": {
      "title": "Restoring Your App’s State with SwiftUI",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/view_controllers/restoring_your_app_s_state_with_swiftui",
      "kind": "article",
      "role": "sampleCode",
      "url": "/documentation/uikit/view_controllers/restoring_your_app_s_state_with_swiftui"
    },
    "doc://com.apple.documentation/documentation/uikit/uiscenedelegate/3197914-scene": {
      "title": "scene:willConnectToSession:options:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiscenedelegate/3197914-scene",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiscenedelegate/3197914-scene",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "scene:willConnectToSession:options:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uiscenedelegate/3238060-scene": {
      "title": "scene:willContinueUserActivityWithType:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiscenedelegate/3238060-scene",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiscenedelegate/3238060-scene",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "scene:willContinueUserActivityWithType:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uiapplicationdelegate": {
      "title": "UIApplicationDelegate",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiapplicationdelegate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiapplicationdelegate"
    },
    "doc://com.apple.documentation/documentation/uikit/uiapplicationdelegate/1623072-application": {
      "title": "application:continueUserActivity:restorationHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiapplicationdelegate/1623072-application",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiapplicationdelegate/1623072-application",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "application:continueUserActivity:restorationHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uiapplicationdelegate/1622921-application": {
      "title": "application:didFinishLaunchingWithOptions:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiapplicationdelegate/1622921-application",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiapplicationdelegate/1622921-application",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "application:didFinishLaunchingWithOptions:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsuseractivitytypebrowsingweb": {
      "title": "NSUserActivityTypeBrowsingWeb",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivitytypebrowsingweb",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsuseractivitytypebrowsingweb"
    },
    "doc://com.apple.documentation/documentation/app_clips/responding_to_invocations#3604123": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/app_clips/responding_to_invocations#3604123",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/app_clips/responding_to_invocations#3604123"
    },
    "doc://com.apple.documentation/documentation/uikit/app_and_environment/managing_your_app_s_life_cycle": {
      "title": "Managing Your App's Life Cycle",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/app_and_environment/managing_your_app_s_life_cycle",
      "kind": "article",
      "role": "article",
      "url": "/documentation/uikit/app_and_environment/managing_your_app_s_life_cycle"
    },
    "doc://com.apple.documentation/documentation/xcode/supporting-universal-links-in-your-app": {
      "title": "Supporting Universal Links in Your App",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/xcode/supporting-universal-links-in-your-app",
      "kind": "article",
      "role": "article",
      "url": "/documentation/xcode/supporting-universal-links-in-your-app"
    },
    "doc://com.apple.documentation/documentation/app_clips/sharing_data_between_your_app_clip_and_your_full_app": {
      "title": "Sharing Data Between Your App Clip and Your Full App",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/app_clips/sharing_data_between_your_app_clip_and_your_full_app",
      "kind": "article",
      "role": "article",
      "url": "/documentation/app_clips/sharing_data_between_your_app_clip_and_your_full_app"
    },
    "doc://com.apple.documentation/documentation/app_clips/supporting_invocations_from_your_website_and_the_messages_app": {
      "title": "Supporting Invocations from Your Website and the Messages App",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/app_clips/supporting_invocations_from_your_website_and_the_messages_app",
      "kind": "article",
      "role": "article",
      "url": "/documentation/app_clips/supporting_invocations_from_your_website_and_the_messages_app",
      "abstract": [
        {
          "type": "text",
          "text": "Display a Smart App Banner and the App Clip card on your website that users tap to launch your App Clip, and add support for invocations from the Messages app."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/app_clips/responding_to_invocations": {
      "title": "Responding to Invocations",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/app_clips/responding_to_invocations",
      "kind": "article",
      "role": "article",
      "url": "/documentation/app_clips/responding_to_invocations",
      "abstract": [
        {
          "type": "text",
          "text": "Add code to respond to invocations and offer a focused launch experience."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/app_clips/confirming_the_user_s_physical_location": {
      "title": "Confirming the User’s Physical Location",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/app_clips/confirming_the_user_s_physical_location",
      "kind": "article",
      "role": "article",
      "url": "/documentation/app_clips/confirming_the_user_s_physical_location",
      "abstract": [
        {
          "type": "text",
          "text": "Add code to quickly confirm the user’s physical location while respecting their privacy."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/app_clips/apactivationpayload": {
      "title": "APActivationPayload",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/app_clips/apactivationpayload",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/app_clips/apactivationpayload",
      "abstract": [
        {
          "type": "text",
          "text": "Information that’s passed to an App Clip on launch."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nsappclip": {
      "title": "NSAppClip",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nsappclip",
      "kind": "symbol",
      "role": "dictionarySymbol",
      "url": "/documentation/bundleresources/information_property_list/nsappclip",
      "abstract": [
        {
          "type": "text",
          "text": "A collection of keys that an App Clip uses to get additional capabilities."
        }
      ],
      "titleStyle": "symbol",
      "name": "NSAppClip",
      "ideTitle": "App Clip",
      "fragments": [
        {
          "kind": "label",
          "text": "property list key "
        },
        {
          "kind": "identifier",
          "text": "NSAppClip"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/app_clips/configuring_the_launch_experience_of_your_app_clip",
        "doc://com.apple.documentation/documentation/app_clips/supporting_invocations_from_your_website_and_the_messages_app",
        "doc://com.apple.documentation/documentation/app_clips/confirming_the_user_s_physical_location",
        "doc://com.apple.documentation/documentation/app_clips/apactivationpayload",
        "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nsappclip"
      ],
      "title": "Launch",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A great launch experience that helps the user complete a task as quickly as possible is key to your App Clip. Upon launch, your App Clip needs to be aware of the user’s context and update its UI accordingly. For example, say an App Clip provides functionality to order a drink from a local coffee shop that has multiple physical locations. Instead of making the user select a location before displaying the drink menu, the App Clip recognizes the user’s context and updates its UI accordingly. The user doesn’t have to select a location, and can complete their task — ordering coffee to go — with fewer taps. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To enable the App Clip to respond to the user’s context upon launch, the system makes the "
            },
            {
              "type": "emphasis",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "invocation URL"
                }
              ]
            },
            {
              "type": "text",
              "text": " available to the App Clip. Configuring the launch experience of your App Clip and choosing invocation URLs are key tasks when creating an App Clip. However, configuring invocation URLs in App Store Connect isn’t enough to provide a streamlined launch experience. You also need to add code to your App Clip that handles the invocation URL and updates its UI."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Leveraging the Invocation URL",
          "anchor": "3629997"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Both the App Clip and the full app need to respond to the invocation URL and update their UI to help the user quickly complete their task at hand. Consider the example of the coffee shop with multiple physical locations. The user shouldn’t have to select the location that matches their context before they can order a drink. Instead, the App Clip can make use of the invocation URL to update its UI to display the shop’s drink menu right away. For example, use an invocation URL with additional URL parameters that help the App Clip recognize the user’s context and update its UI:"
            }
          ]
        },
        {
          "type": "orderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Add entries for each domain that launches the App Clip to the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/bundleresources/entitlements/com_apple_developer_associated-domains"
                    },
                    {
                      "type": "text",
                      "text": ". For the example described above, you add "
                    },
                    {
                      "type": "codeVoice",
                      "code": "example.com"
                    },
                    {
                      "type": "text",
                      "text": ". You typically do this when you add an App Clip target to your Xcode project."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Use invocation URLs that contain additional parameters; for example, "
                    },
                    {
                      "type": "codeVoice",
                      "code": "https://example.com/location1"
                    },
                    {
                      "type": "text",
                      "text": ", "
                    },
                    {
                      "type": "codeVoice",
                      "code": "https://example.com/location2"
                    },
                    {
                      "type": "text",
                      "text": ", and so on."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "On launch, respond to the URLs by persisting any unsaved data in case the user switches from one location to another. Then, update the UI to match the new location."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If you configure a generic URL, both your App Clip and your full app must always be able to handle the URL, even if you only intend to use it as a prefix for your actual invocation URLs. For example, you can register "
            },
            {
              "type": "codeVoice",
              "code": "https://example.com/"
            },
            {
              "type": "text",
              "text": " as part of an advanced App Store experience. For the actual invocations — such as in your App Clip Codes — you can use URLs like "
            },
            {
              "type": "codeVoice",
              "code": "https://example.com/location1"
            },
            {
              "type": "text",
              "text": " or "
            },
            {
              "type": "codeVoice",
              "code": "https://example.com/location2"
            },
            {
              "type": "text",
              "text": ". However, your App Clip and full app must also be able to handle "
            },
            {
              "type": "codeVoice",
              "code": "https://example.com"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For additional information on associating your App Clip with your website and configuring experiences, see "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/app_clips/associating_your_app_clip_with_your_website"
            },
            {
              "type": "text",
              "text": " and "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/app_clips/configuring_the_launch_experience_of_your_app_clip"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Access the Invocation URL",
          "anchor": "3599725"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To respond to an invocation, you need to access the invocation URL so your App Clip can tailor itself to the experience. To access the URL, query the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity"
            },
            {
              "type": "text",
              "text": " object the system passes to the App Clip upon launch. If a user installs the full app, it replaces the App Clip, and the system launches it with each invocation. To offer the same functionality and provide an equivalent user experience as the App Clip, the full app also needs to handle all invocation URLs. In most cases, it makes sense to share the code that handles your URL between full app and App Clip, and also have the App Clip store state information in a shared container. This way, the full app can access any data stored by the App Clip, and, upon launch, take the user to the part of the app that best matches their context. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To access the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity"
            },
            {
              "type": "text",
              "text": " object on launch:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "If you use the SwiftUI lifecycle, apply the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/swiftui/view/oncontinueuseractivity(_:perform:)"
                    },
                    {
                      "type": "text",
                      "text": " modifier. For additional information on implementing lifecycle callbacks for your SwiftUI app, see "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/uikit/view_controllers/restoring_your_app_s_state_with_swiftui"
                    },
                    {
                      "type": "text",
                      "text": "."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "If you use a scene-based lifecycle, implement the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/uikit/uiscenedelegate/3197914-scene"
                    },
                    {
                      "type": "text",
                      "text": " and "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/uikit/uiscenedelegate/3238060-scene"
                    },
                    {
                      "type": "text",
                      "text": " callbacks. On the first launch, the system calls the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/uikit/uiscenedelegate/3197914-scene"
                    },
                    {
                      "type": "text",
                      "text": " callback. If the app or App Clip is suspended in memory and the user launches it, the system calls "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/uikit/uiscenedelegate/3238060-scene"
                    },
                    {
                      "type": "text",
                      "text": "."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "If you use the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/uikit/uiapplicationdelegate"
                    },
                    {
                      "type": "text",
                      "text": " object to respond to lifecycle events, be sure to implement the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/uikit/uiapplicationdelegate/1623072-application"
                    },
                    {
                      "type": "text",
                      "text": " callback. Note that you don’t have access to the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity"
                    },
                    {
                      "type": "text",
                      "text": " object in "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/uikit/uiapplicationdelegate/1622921-application"
                    },
                    {
                      "type": "text",
                      "text": "."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "On launch, confirm that the invocation is of type "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivitytypebrowsingweb"
            },
            {
              "type": "text",
              "text": ", then access the URL that the system passes to the App Clip. The following code shows a function that extracts components from the invocation URL:"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "func respondTo(_ activity: NSUserActivity?) {",
            "        ",
            "    // Guard against faulty data.",
            "    guard let activity, activity.activityType == NSUserActivityTypeBrowsingWeb else { return }",
            "    let incomingURL = activity.webpageURL",
            "    guard let components = NSURLComponents(url: incomingURL, resolvingAgainstBaseURL: true) else { return }",
            "",
            "    // Update the user interface based on URL components passed to the App Clip or full app.",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3604123",
            "title": "Listing 1"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For more information about responding to lifecycle events, see "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/app_and_environment/managing_your_app_s_life_cycle"
            },
            {
              "type": "text",
              "text": ". For general information on handling links, see "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/xcode/supporting-universal-links-in-your-app"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To learn more about sharing data between the App Clip and the full app, see "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/app_clips/sharing_data_between_your_app_clip_and_your_full_app"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Ensure Your Code Handles All Invocations",
          "anchor": "3730260"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A fast, consistent user experience that fits the user’s context is key to the App Clip user experience, and it’s why designing and configuring your App Clip experiences is so important. As a result, spending time to write resilient code, handling all possible invocation URLs, and testing the code is very important. Make sure you guard against faulty data and handle the following scenarios:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Invocations from the Maps app and location-based suggestions from Siri Suggestions use the URL you register for an App Clip experience as the invocation URL."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Invocations from Messages app or your website use the site’s URL as the invocation URL."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "If a user returns to a previously launched App Clip from the App Library or Spotlight, the App Clip uses the invocation URL that it previously used to launch the App Clip."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "If a user returns to a previously launched App Clip from a notification or the App Switcher, the App Clip launches without an invocation URL. To address this case, save the state of your App Clip before the user leaves it, and restore the saved state if the invocation URL isn’t available upon launch."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": []
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}