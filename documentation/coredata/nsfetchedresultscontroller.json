{
  "abstract": [
    {
      "type": "text",
      "text": "A controller that you use to  manage the results of a Core Data fetch request and to display data to the user."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/coredata"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1622294,
  "kind": "symbol",
  "metadata": {
    "title": "NSFetchedResultsController",
    "role": "symbol",
    "roleHeading": "Class",
    "modules": [
      {
        "name": "Core Data"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "3.0",
        "current": "15.2"
      },
      {
        "name": "iPadOS",
        "introducedAt": "3.0",
        "current": "15.2"
      },
      {
        "name": "macOS",
        "introducedAt": "10.12",
        "current": "12.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "15.2"
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "current": "15.2"
      },
      {
        "name": "watchOS",
        "introducedAt": "2.0",
        "current": "8.3"
      }
    ],
    "externalID": "c:objc(cs)NSFetchedResultsController",
    "symbolKind": "cl"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/coredata/nsfetchedresultscontroller"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/coredata/nsfetchedresultscontroller"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/coredata": {
      "title": "Core Data",
      "identifier": "doc://com.apple.documentation/documentation/coredata",
      "url": "/documentation/coredata",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622305-performfetch": {
      "title": "performFetch:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622305-performfetch",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchedresultscontroller/1622305-performfetch",
      "abstract": [
        {
          "type": "text",
          "text": "Executes the controller’s fetch request."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "performFetch:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller#2556969": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller#2556969",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/coredata/nsfetchedresultscontroller#2556969"
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622283-deletecachewithname": {
      "title": "deleteCacheWithName:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622283-deletecachewithname",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchedresultscontroller/1622283-deletecachewithname",
      "abstract": [
        {
          "type": "text",
          "text": "Deletes the cached section information with the given name."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "+ "
        },
        {
          "kind": "identifier",
          "text": "deleteCacheWithName:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontrollerdelegate": {
      "title": "NSFetchedResultsControllerDelegate",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontrollerdelegate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchedresultscontrollerdelegate",
      "abstract": [
        {
          "type": "text",
          "text": "A delegate protocol that describes the methods that will be called by the associated fetched results controller when the fetch results have changed."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller#2556972": {
      "title": "Listing 2",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller#2556972",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/coredata/nsfetchedresultscontroller#2556972"
    },
    "doc://com.apple.documentation/documentation/coredata/nsmanagedobjectcontext/1506661-processpendingchanges": {
      "title": "processPendingChanges",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsmanagedobjectcontext/1506661-processpendingchanges",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsmanagedobjectcontext/1506661-processpendingchanges",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "processPendingChanges"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller#2556976": {
      "title": "Listing 3",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller#2556976",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/coredata/nsfetchedresultscontroller#2556976"
    },
    "doc://com.apple.documentation/documentation/coredata/nsmanagedobjectcontext/1506807-reset": {
      "title": "reset",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsmanagedobjectcontext/1506807-reset",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsmanagedobjectcontext/1506807-reset",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "reset"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uitableview/1614862-reloaddata": {
      "title": "reloadData",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uitableview/1614862-reloaddata",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uitableview/1614862-reloaddata",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "reloadData"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622308-sectionindextitleforsectionname": {
      "title": "sectionIndexTitleForSectionName:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622308-sectionindextitleforsectionname",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchedresultscontroller/1622308-sectionindextitleforsectionname",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the corresponding section index entry for a given section name."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "sectionIndexTitleForSectionName:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622299-sectionindextitles": {
      "title": "sectionIndexTitles",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622299-sectionindextitles",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchedresultscontroller/1622299-sectionindextitles",
      "abstract": [
        {
          "type": "text",
          "text": "The array of section index titles."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller#1661441": {
      "title": "The Controller’s Delegate",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller#1661441",
      "kind": "article",
      "role": "subsection",
      "url": "/documentation/coredata/nsfetchedresultscontroller#1661441"
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller#1661453": {
      "title": "The Cache",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller#1661453",
      "kind": "article",
      "role": "subsection",
      "url": "/documentation/coredata/nsfetchedresultscontroller#1661453"
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontrollerdelegate/1622290-controllerdidchangecontent": {
      "title": "controllerDidChangeContent:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontrollerdelegate/1622290-controllerdidchangecontent",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchedresultscontrollerdelegate/1622290-controllerdidchangecontent",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "controllerDidChangeContent:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/objectivec/nsobject": {
      "title": "NSObject",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/objectivec/nsobject",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/objectivec/nsobject"
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622282-initwithfetchrequest": {
      "title": "initWithFetchRequest:managedObjectContext:sectionNameKeyPath:cacheName:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622282-initwithfetchrequest",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchedresultscontroller/1622282-initwithfetchrequest",
      "abstract": [
        {
          "type": "text",
          "text": "Returns a fetch request controller initialized using the given arguments."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "initWithFetchRequest:managedObjectContext:sectionNameKeyPath:cacheName:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622287-fetchrequest": {
      "title": "fetchRequest",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622287-fetchrequest",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchedresultscontroller/1622287-fetchrequest",
      "abstract": [
        {
          "type": "text",
          "text": "The fetch request used to do the fetching."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622304-managedobjectcontext": {
      "title": "managedObjectContext",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622304-managedobjectcontext",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchedresultscontroller/1622304-managedobjectcontext",
      "abstract": [
        {
          "type": "text",
          "text": "The managed object context used to fetch objects."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622285-sectionnamekeypath": {
      "title": "sectionNameKeyPath",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622285-sectionnamekeypath",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchedresultscontroller/1622285-sectionnamekeypath",
      "abstract": [
        {
          "type": "text",
          "text": "The key path of the attribute that determines which section the fetched entity belongs to."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622280-cachename": {
      "title": "cacheName",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622280-cachename",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchedresultscontroller/1622280-cachename",
      "abstract": [
        {
          "type": "text",
          "text": "The name of the file used to cache section information."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622291-delegate": {
      "title": "delegate",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622291-delegate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchedresultscontroller/1622291-delegate",
      "abstract": [
        {
          "type": "text",
          "text": "The object that is notified when the fetched results changed."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622278-fetchedobjects": {
      "title": "fetchedObjects",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622278-fetchedobjects",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchedresultscontroller/1622278-fetchedobjects",
      "abstract": [
        {
          "type": "text",
          "text": "The results of the fetch."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622281-objectatindexpath": {
      "title": "objectAtIndexPath:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622281-objectatindexpath",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchedresultscontroller/1622281-objectatindexpath",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the object at the given index path in the fetch results."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "objectAtIndexPath:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622306-indexpathforobject": {
      "title": "indexPathForObject:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622306-indexpathforobject",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchedresultscontroller/1622306-indexpathforobject",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the index path of a given object."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "indexPathForObject:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622303-sections": {
      "title": "sections",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622303-sections",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchedresultscontroller/1622303-sections",
      "abstract": [
        {
          "type": "text",
          "text": "The sections for the fetch results."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622284-sectionforsectionindextitle": {
      "title": "sectionForSectionIndexTitle:atIndex:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622284-sectionforsectionindextitle",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchedresultscontroller/1622284-sectionforsectionindextitle",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the section number for a given section title and index in the section index."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "sectionForSectionIndexTitle:atIndex:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultssectioninfo": {
      "title": "NSFetchedResultsSectionInfo",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultssectioninfo",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchedresultssectioninfo",
      "abstract": [
        {
          "type": "text",
          "text": "A protocol that defines the interface for section objects vended by a fetched results controller."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchrequestresulttype": {
      "title": "NSFetchRequestResultType",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchrequestresulttype",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchrequestresulttype",
      "abstract": [
        {
          "type": "text",
          "text": "Constants that specify the possible result types a fetch request can return."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultschangetype": {
      "title": "NSFetchedResultsChangeType",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultschangetype",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchedresultschangetype",
      "abstract": [
        {
          "type": "text",
          "text": "Constants that specify the possible types of changes that are reported."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchrequest": {
      "title": "NSFetchRequest",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchrequest",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchrequest",
      "abstract": [
        {
          "type": "text",
          "text": "A description of search criteria used to retrieve data from a persistent store."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsasynchronousfetchrequest": {
      "title": "NSAsynchronousFetchRequest",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsasynchronousfetchrequest",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsasynchronousfetchrequest",
      "abstract": [
        {
          "type": "text",
          "text": "A fetch request that retrieves results asynchronously and supports progress notification."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsasynchronousfetchresult": {
      "title": "NSAsynchronousFetchResult",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsasynchronousfetchresult",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsasynchronousfetchresult",
      "abstract": [
        {
          "type": "text",
          "text": "A fetch result object that encompasses the response from an executed asynchronous fetch request."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller": {
      "title": "NSFetchedResultsController",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coredata/nsfetchedresultscontroller",
      "abstract": [
        {
          "type": "text",
          "text": "A controller that you use to  manage the results of a Core Data fetch request and to display data to the user."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "relationshipsSections": [
    {
      "kind": "relationships",
      "title": "Inherits From",
      "type": "inheritsFrom",
      "identifiers": [
        "doc://com.apple.documentation/documentation/objectivec/nsobject"
      ]
    }
  ],
  "topicSections": [
    {
      "kind": "taskGroup",
      "title": "Initializing a Fetched Results Controller",
      "identifiers": [
        "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622282-initwithfetchrequest",
        "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622305-performfetch"
      ],
      "anchor": "1661562"
    },
    {
      "kind": "taskGroup",
      "title": "Getting Configuration Information",
      "identifiers": [
        "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622287-fetchrequest",
        "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622304-managedobjectcontext",
        "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622285-sectionnamekeypath",
        "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622280-cachename",
        "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622291-delegate",
        "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622283-deletecachewithname"
      ],
      "anchor": "1661588"
    },
    {
      "kind": "taskGroup",
      "title": "Accessing Results",
      "identifiers": [
        "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622278-fetchedobjects",
        "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622281-objectatindexpath",
        "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622306-indexpathforobject"
      ],
      "anchor": "1661638"
    },
    {
      "kind": "taskGroup",
      "title": "Querying Section Information",
      "identifiers": [
        "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622303-sections",
        "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622284-sectionforsectionindextitle"
      ],
      "anchor": "1661668"
    },
    {
      "kind": "taskGroup",
      "title": "Configuring Section Information",
      "identifiers": [
        "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622308-sectionindextitleforsectionname",
        "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622299-sectionindextitles"
      ],
      "anchor": "1661684"
    },
    {
      "kind": "taskGroup",
      "title": "Responding to Changes",
      "identifiers": [
        "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontrollerdelegate",
        "doc://com.apple.documentation/documentation/coredata/nsfetchedresultssectioninfo",
        "doc://com.apple.documentation/documentation/coredata/nsfetchrequestresulttype",
        "doc://com.apple.documentation/documentation/coredata/nsfetchedresultschangetype"
      ],
      "anchor": "2877846"
    }
  ],
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/coredata/nsfetchrequest",
        "doc://com.apple.documentation/documentation/coredata/nsasynchronousfetchrequest",
        "doc://com.apple.documentation/documentation/coredata/nsasynchronousfetchresult"
      ],
      "title": "Fetch Requests",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "@interface"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "NSFetchedResultsController"
            },
            {
              "kind": "text",
              "text": "<"
            },
            {
              "kind": "keyword",
              "text": "__covariant"
            },
            {
              "kind": "text",
              "text": " ResultType> : "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSObject",
              "identifier": "doc://com.apple.documentation/documentation/objectivec/nsobject",
              "text": "NSObject"
            }
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "macOS",
            "Mac Catalyst",
            "tvOS",
            "watchOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "While table views can be used in several ways, fetched results controllers primarily assist you with a primary list view. "
            },
            {
              "type": "codeVoice",
              "code": "UITableView"
            },
            {
              "type": "text",
              "text": " expects its data source to provide cells as an array of sections made up of rows. You configure a fetched results controller using a "
            },
            {
              "type": "emphasis",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "fetch request"
                }
              ]
            },
            {
              "type": "text",
              "text": " — an object that specifies what type of entity to fetch and how to sort the results. You can also add criteria for when to include  a specific instance of the entity."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The fetched results controller efficiently analyzes the result of the fetch request and computes all the information about sections in the result set. It also computes all the information for the index based on the result set. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "In addition, fetched results controllers:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Optionally monitor changes to objects in the associated managed object context, and report changes in the results set to its delegate (see "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller#1661441"
                    },
                    {
                      "type": "text",
                      "text": ")."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Optionally cache the results of its computation so that if the same data is subsequently re-displayed, the work does not have to be repeated (see "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller#1661453"
                    },
                    {
                      "type": "text",
                      "text": ")."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A controller thus effectively has three modes of operation, determined by whether it has a delegate and whether the cache file name is set."
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "No tracking: The delegate is set to "
                    },
                    {
                      "type": "codeVoice",
                      "code": "nil"
                    },
                    {
                      "type": "text",
                      "text": ". The controller simply provides access to the data as it was when the fetch was executed."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Memory-only tracking: the delegate is non-"
                    },
                    {
                      "type": "codeVoice",
                      "code": "nil"
                    },
                    {
                      "type": "text",
                      "text": " and the file cache name is set to "
                    },
                    {
                      "type": "codeVoice",
                      "code": "nil"
                    },
                    {
                      "type": "text",
                      "text": ". The controller monitors objects in its result set and updates section and ordering information in response to relevant changes."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Full persistent tracking: the delegate and the file cache name are non-"
                    },
                    {
                      "type": "codeVoice",
                      "code": "nil"
                    },
                    {
                      "type": "text",
                      "text": ". The controller monitors objects in its result set and updates section and ordering information in response to relevant changes. The controller maintains a persistent cache of the results of its computation."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A delegate must implement at least one of the change tracking delegate methods in order for change tracking to be enabled. Providing an empty implementation of "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontrollerdelegate/1622290-controllerdidchangecontent"
                },
                {
                  "type": "text",
                  "text": " is sufficient."
                }
              ]
            }
          ],
          "style": "important"
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Using NSFetchedResultsController",
          "anchor": "1661423"
        },
        {
          "level": 4,
          "type": "heading",
          "text": "Creating the Fetched Results Controller",
          "anchor": "1661431"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You typically create an instance of "
            },
            {
              "type": "codeVoice",
              "code": "NSFetchedResultsController"
            },
            {
              "type": "text",
              "text": " as an instance variable of a table view controller. When you initialize the fetch results controller, you provide four parameters:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "A fetch request. This must contain at least one sort descriptor to order the results."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "A managed object context. The controller uses this context to execute the fetch request."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Optionally, a key path on result objects that returns the section name. The controller uses the key path to split the results into sections (passing "
                    },
                    {
                      "type": "codeVoice",
                      "code": "nil"
                    },
                    {
                      "type": "text",
                      "text": " indicates that the controller should generate a single section)."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Optionally, the name of the cache file the controller should use (passing "
                    },
                    {
                      "type": "codeVoice",
                      "code": "nil"
                    },
                    {
                      "type": "text",
                      "text": " prevents caching). Using a cache can avoid the overhead of computing the section and index information."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "After creating an instance, you invoke "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622305-performfetch"
            },
            {
              "type": "text",
              "text": " to actually execute the fetch."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "NSManagedObjectContext *context = <#Managed object context#>;",
            "NSFetchRequest *fetchRequest = [[NSFetchRequest alloc] init];",
            "// Configure the request's entity, and optionally its predicate.",
            "NSSortDescriptor *sortDescriptor = [[NSSortDescriptor alloc] initWithKey:@\"<#Sort key#>\" ascending:YES];",
            "NSArray *sortDescriptors = [[NSArray alloc] initWithObjects:sortDescriptor, nil];",
            "[fetchRequest setSortDescriptors:sortDescriptors];",
            "[sortDescriptors release];",
            "[sortDescriptor release];",
            " ",
            "NSFetchedResultsController *controller = [[NSFetchedResultsController alloc]",
            "        initWithFetchRequest:fetchRequest",
            "        managedObjectContext:context",
            "        sectionNameKeyPath:nil",
            "        cacheName:@\"<#Cache name#>\"];",
            "[fetchRequest release];",
            " ",
            "NSError *error;",
            "BOOL success = [controller performFetch:&error];"
          ],
          "syntax": "occ",
          "metadata": {
            "anchor": "2556969",
            "title": "Listing 1"
          }
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "If you are using a cache, you must call "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622283-deletecachewithname"
                },
                {
                  "type": "text",
                  "text": " before changing any of the fetch request, its predicate, or its sort descriptors. You must not reuse the same fetched results controller for multiple queries unless you set the "
                },
                {
                  "type": "codeVoice",
                  "code": "cacheName"
                },
                {
                  "type": "text",
                  "text": " to "
                },
                {
                  "type": "codeVoice",
                  "code": "nil"
                },
                {
                  "type": "text",
                  "text": "."
                }
              ]
            }
          ],
          "style": "important"
        },
        {
          "level": 4,
          "type": "heading",
          "text": "The Controller’s Delegate",
          "anchor": "1661441"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If you set a delegate for a fetched results controller, the controller registers to receive change notifications from its managed object context. Any change in the context that affects the result set or section information is processed and the results are updated accordingly. The controller notifies the delegate when result objects change location or when sections are modified (see "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontrollerdelegate"
            },
            {
              "type": "text",
              "text": "). You typically use these methods to update the display of the table view."
            }
          ]
        },
        {
          "level": 4,
          "type": "heading",
          "text": "The Cache",
          "anchor": "1661453"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Where possible, a controller uses a cache to avoid the need to repeat work performed in setting up any sections and ordering the contents. The cache is maintained across launches of your application. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When you initialize an instance of "
            },
            {
              "type": "codeVoice",
              "code": "NSFetchedResultsController"
            },
            {
              "type": "text",
              "text": ", you typically specify a cache name. (If you do not specify a cache name, the controller does not cache data.) When you create a controller, it looks for an existing cache with the given name:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "If the controller can’t find an appropriate cache, it calculates the required sections and the order of objects within sections. It then writes this information to disk."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "If it finds a cache with the same name, the controller tests the cache to determine whether its contents are still valid. The controller compares the current entity name, entity version hash, sort descriptors, and section key-path with those stored in the cache, as well as the modification date of the cached information file and the persistent store file."
                    }
                  ]
                },
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "If the cache is consistent with the current information, the controller reuses the previously-computed information. "
                    }
                  ]
                },
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "If the cache is not consistent with the current information, then the required information is recomputed, and the cache updated."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Any time the section and ordering information change, the cache is updated."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If you have multiple fetched results controllers with different configurations (different sort descriptors and so on), you must give each a different cache name."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You can purge a cache using "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622283-deletecachewithname"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "level": 4,
          "type": "heading",
          "text": "Implementing the Table View Datasource Methods",
          "anchor": "1661467"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You ask the object to provide relevant information in your implementation of the table view data source methods:"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView {",
            "    return [[<#Fetched results controller#> sections] count];",
            "}",
            " ",
            "- (NSInteger)tableView:(UITableView *)table numberOfRowsInSection:(NSInteger)section {",
            "    if ([[<#Fetched results controller#> sections] count] > 0) {",
            "        id <NSFetchedResultsSectionInfo> sectionInfo = [[<#Fetched results controller#> sections] objectAtIndex:section];",
            "        return [sectionInfo numberOfObjects];",
            "    } else",
            "        return 0;",
            "}",
            " ",
            "- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {",
            " ",
            "    UITableViewCell *cell = <#Get the cell#>;",
            "    NSManagedObject *managedObject = [<#Fetched results controller#> objectAtIndexPath:indexPath];",
            "    // Configure the cell with data from the managed object.",
            "    return cell;",
            "}",
            " ",
            "- (NSString *)tableView:(UITableView *)tableView titleForHeaderInSection:(NSInteger)section {",
            "    if ([[<#Fetched results controller#> sections] count] > 0) {",
            "        id <NSFetchedResultsSectionInfo> sectionInfo = [[<#Fetched results controller#> sections] objectAtIndex:section];",
            "        return [sectionInfo name];",
            "    } else",
            "        return nil;",
            "}",
            " ",
            "- (NSArray *)sectionIndexTitlesForTableView:(UITableView *)tableView {",
            "    return [<#Fetched results controller#> sectionIndexTitles];",
            "}",
            " ",
            "- (NSInteger)tableView:(UITableView *)tableView sectionForSectionIndexTitle:(NSString *)title atIndex:(NSInteger)index {",
            "    return [<#Fetched results controller#> sectionForSectionIndexTitle:title atIndex:index];",
            "}"
          ],
          "syntax": "occ",
          "metadata": {
            "anchor": "2556972",
            "title": "Listing 2"
          }
        },
        {
          "level": 4,
          "type": "heading",
          "text": "Responding to Changes",
          "anchor": "1661480"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "In general, "
            },
            {
              "type": "codeVoice",
              "code": "NSFetchedResultsController"
            },
            {
              "type": "text",
              "text": " is designed to respond to changes at the model layer, by informing its delegate when result objects change location or when sections are modified. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If you allow a user to reorder table rows, then your implementation of the delegate methods must take this into account—see "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontrollerdelegate"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Changes are not reflected until after the controller’s managed object context has received a "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coredata/nsmanagedobjectcontext/1506661-processpendingchanges"
            },
            {
              "type": "text",
              "text": " message. Therefore, if you change the value of a managed object’s attribute so that its location in a fetched results controller’s results set would change, its index as reported by the controller would typically not change until the end of the current event cycle (when "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coredata/nsmanagedobjectcontext/1506661-processpendingchanges"
            },
            {
              "type": "text",
              "text": " is invoked). For example, the following code fragment would log “same”:"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "NSFetchedResultsController *frc = <#A fetched results controller#>;",
            "NSManagedObject *managedObject = <#A managed object in frc's fetchedObjects array#>;",
            "NSIndexPath *beforeIndexPath = [frc indexPathForObject:managedObject];",
            "[managedObject setValue:<#New Value#> forKey:<#Existing key#>];",
            "NSIndexPath *afterIndexPath = [frc indexPathForObject:managedObject];",
            "if ([beforeIndexPath compare:afterIndexPath] == NSOrderedSame) {",
            "    NSLog(@\"same\");",
            "}"
          ],
          "syntax": "occ",
          "metadata": {
            "anchor": "2556976",
            "title": "Listing 3"
          }
        },
        {
          "level": 4,
          "type": "heading",
          "text": "Modifying the Fetch Request",
          "anchor": "1661490"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You cannot simply change the fetch request to modify the results. If you want to change the fetch request, you must: "
            }
          ]
        },
        {
          "type": "orderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "If you are using a cache, delete it (using "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622283-deletecachewithname"
                    },
                    {
                      "type": "text",
                      "text": ")."
                    }
                  ]
                },
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Typically you should not use a cache if you are changing the fetch request."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Change the fetch request."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Invoke "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622305-performfetch"
                    },
                    {
                      "type": "text",
                      "text": "."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "level": 4,
          "type": "heading",
          "text": "Handling Object Invalidation",
          "anchor": "1661503"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When a managed object context notifies the fetched results controller that "
            },
            {
              "type": "emphasis",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "individual"
                }
              ]
            },
            {
              "type": "text",
              "text": " objects are invalidated, the controller treats these as deleted objects and sends the proper delegate calls."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "It’s possible for "
            },
            {
              "type": "emphasis",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "all"
                }
              ]
            },
            {
              "type": "text",
              "text": " the objects in a managed object context to be invalidated simultaneously. (For example, as a result of calling "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coredata/nsmanagedobjectcontext/1506807-reset"
            },
            {
              "type": "text",
              "text": ", or if a store is removed from the persistent store coordinator.) When this happens, "
            },
            {
              "type": "codeVoice",
              "code": "NSFetchedResultsController"
            },
            {
              "type": "text",
              "text": " does not invalidate all objects, nor does it send individual notifications for object deletions. Instead, you must call "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622305-performfetch"
            },
            {
              "type": "text",
              "text": " to reset the state of the controller then reload the data in the table view ("
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uitableview/1614862-reloaddata"
            },
            {
              "type": "text",
              "text": ")."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Subclassing Notes",
          "anchor": "1673922"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You create a subclass of this class if you want to customize the creation of sections and index titles. You override "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622308-sectionindextitleforsectionname"
            },
            {
              "type": "text",
              "text": " if you want the section index title to be something other than the capitalized first letter of the section name. You override "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622299-sectionindextitles"
            },
            {
              "type": "text",
              "text": " if you want the index titles to be something other than the array created by calling "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coredata/nsfetchedresultscontroller/1622308-sectionindextitleforsectionname"
            },
            {
              "type": "text",
              "text": " on all the known sections."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}