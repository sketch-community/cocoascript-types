{
  "abstract": [
    {
      "type": "text",
      "text": "Draws the contents of the overlay view."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/mapkit",
        "doc://com.apple.documentation/documentation/mapkit/deprecated_symbols",
        "doc://com.apple.documentation/documentation/mapkit/mkoverlayview"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/mapkit/mkoverlayview/1613868-drawmaprect",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1613868,
  "kind": "symbol",
  "metadata": {
    "title": "drawMapRect:zoomScale:inContext:",
    "role": "symbol",
    "roleHeading": "Instance Method",
    "modules": [
      {
        "name": "MapKit"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "4.0",
        "deprecatedAt": "7.0",
        "current": "15.2",
        "deprecated": true
      },
      {
        "name": "iPadOS",
        "introducedAt": "4.0",
        "deprecatedAt": "7.0",
        "current": "15.2",
        "deprecated": true
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "deprecatedAt": "13.0",
        "current": "15.2",
        "deprecated": true
      }
    ],
    "externalID": "c:objc(cs)MKOverlayView(im)drawMapRect:zoomScale:inContext:",
    "parent": {
      "title": "MKOverlayView"
    },
    "symbolKind": "instm"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/mapkit/mkoverlayview/1613868-drawmaprect"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/mapkit": {
      "title": "MapKit",
      "identifier": "doc://com.apple.documentation/documentation/mapkit",
      "url": "/documentation/mapkit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/mapkit/deprecated_symbols": {
      "title": "Deprecated Symbols",
      "identifier": "doc://com.apple.documentation/documentation/mapkit/deprecated_symbols",
      "url": "/documentation/mapkit/deprecated_symbols",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/mapkit/mkoverlayview": {
      "title": "MKOverlayView",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/mapkit/mkoverlayview",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/mapkit/mkoverlayview",
      "abstract": [
        {
          "type": "text",
          "text": "Defines the basic behavior associated with all overlay views. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/mapkit/mkoverlayrenderer": {
      "title": "MKOverlayRenderer",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/mapkit/mkoverlayrenderer",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/mapkit/mkoverlayrenderer"
    },
    "doc://com.apple.documentation/documentation/uikit/uiview/1622529-drawrect": {
      "title": "drawRect:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiview/1622529-drawrect",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiview/1622529-drawrect",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "drawRect:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coregraphics/cgpoint": {
      "title": "CGPoint",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coregraphics/cgpoint",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coregraphics/cgpoint"
    },
    "doc://com.apple.documentation/documentation/coregraphics/cgrect": {
      "title": "CGRect",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coregraphics/cgrect",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coregraphics/cgrect"
    },
    "doc://com.apple.documentation/documentation/uikit/1623921-uigraphicspushcontext": {
      "title": "UIGraphicsPushContext",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/1623921-uigraphicspushcontext",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/1623921-uigraphicspushcontext"
    },
    "doc://com.apple.documentation/documentation/uikit/1623914-uigraphicspopcontext": {
      "title": "UIGraphicsPopContext",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/1623914-uigraphicspopcontext",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/1623914-uigraphicspopcontext"
    },
    "doc://com.apple.documentation/documentation/mapkit/mkoverlayview/1613874-pointformappoint": {
      "title": "pointForMapPoint:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/mapkit/mkoverlayview/1613874-pointformappoint",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/mapkit/mkoverlayview/1613874-pointformappoint",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the point in the overlay view that corresponds to specified point on the map."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "pointForMapPoint:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/mapkit/mkoverlayview/1613870-rectformaprect": {
      "title": "rectForMapRect:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/mapkit/mkoverlayview/1613870-rectformaprect",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/mapkit/mkoverlayview/1613870-rectformaprect",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the rectangle in the overlay view that corresponds to the specified rectangle on the map."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "rectForMapRect:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/mapkit/mkoverlayview/1613864-candrawmaprect": {
      "title": "canDrawMapRect:zoomScale:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/mapkit/mkoverlayview/1613864-candrawmaprect",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/mapkit/mkoverlayview/1613864-candrawmaprect",
      "abstract": [
        {
          "type": "text",
          "text": "Returns a Boolean value indicating whether the overlay view is ready to draw its content."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "canDrawMapRect:zoomScale:"
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/mapkit/mkmaprect": {
      "title": "MKMapRect",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/mapkit/mkmaprect",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/mapkit/mkmaprect"
    },
    "doc://com.apple.documentation/documentation/mapkit/mkzoomscale": {
      "title": "MKZoomScale",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/mapkit/mkzoomscale",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/mapkit/mkzoomscale"
    },
    "doc://com.apple.documentation/documentation/coregraphics/cgcontextref": {
      "title": "CGContextRef",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coregraphics/cgcontextref",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coregraphics/cgcontextref"
    },
    "doc://com.apple.documentation/documentation/mapkit/mkoverlayview/1613868-drawmaprect": {
      "title": "drawMapRect:zoomScale:inContext:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/mapkit/mkoverlayview/1613868-drawmaprect",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/mapkit/mkoverlayview/1613868-drawmaprect",
      "abstract": [
        {
          "type": "text",
          "text": "Draws the contents of the overlay view."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "drawMapRect:zoomScale:inContext:"
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/mapkit/mkoverlayview/1613866-setneedsdisplayinmaprect": {
      "title": "setNeedsDisplayInMapRect:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/mapkit/mkoverlayview/1613866-setneedsdisplayinmaprect",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/mapkit/mkoverlayview/1613866-setneedsdisplayinmaprect",
      "abstract": [
        {
          "type": "text",
          "text": "Invalidates the view in the given map rectangle at all zoom scales."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "setNeedsDisplayInMapRect:"
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/mapkit/mkoverlayview/1613876-setneedsdisplayinmaprect": {
      "title": "setNeedsDisplayInMapRect:zoomScale:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/mapkit/mkoverlayview/1613876-setneedsdisplayinmaprect",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/mapkit/mkoverlayview/1613876-setneedsdisplayinmaprect",
      "abstract": [
        {
          "type": "text",
          "text": "Invalidates the view in the given map rectangle but only at the specified zoom scale."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "setNeedsDisplayInMapRect:zoomScale:"
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "deprecationSummary": [
    {
      "type": "paragraph",
      "inlineContent": [
        {
          "type": "text",
          "text": "Use an "
        },
        {
          "type": "reference",
          "isActive": true,
          "identifier": "doc://com.apple.documentation/documentation/mapkit/mkoverlayrenderer"
        },
        {
          "type": "text",
          "text": " object instead."
        }
      ]
    }
  ],
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/mapkit/mkoverlayview/1613864-candrawmaprect",
        "doc://com.apple.documentation/documentation/mapkit/mkoverlayview/1613866-setneedsdisplayinmaprect",
        "doc://com.apple.documentation/documentation/mapkit/mkoverlayview/1613876-setneedsdisplayinmaprect"
      ],
      "title": "Drawing the Overlay",
      "generated": true
    },
    {
      "title": "Related Documentation",
      "generated": false,
      "identifiers": [
        "doc://com.apple.documentation/documentation/mapkit/mkoverlayview/1613874-pointformappoint",
        "doc://com.apple.documentation/documentation/mapkit/mkoverlayview/1613870-rectformaprect"
      ]
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "text",
              "text": "- ("
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "identifier",
              "text": "drawMapRect:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@MKMapRect",
              "identifier": "doc://com.apple.documentation/documentation/mapkit/mkmaprect",
              "text": "MKMapRect"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "mapRect"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "zoomScale:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@MKZoomScale",
              "identifier": "doc://com.apple.documentation/documentation/mapkit/mkzoomscale",
              "text": "MKZoomScale"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "zoomScale"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "inContext:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CGContextRef",
              "identifier": "doc://com.apple.documentation/documentation/coregraphics/cgcontextref",
              "text": "CGContextRef"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "context"
            },
            {
              "kind": "text",
              "text": ";"
            }
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "Mac Catalyst"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "mapRect",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The map rectangle that needs to be updated. You can use this rectangle to limit drawing to only the portion of the view that changed.  "
                }
              ]
            }
          ]
        },
        {
          "name": "zoomScale",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The current scale factor applied to the map content. You can use this value for configuring the stroke width of lines or other attributes that might be affected by the scale of the view’s content. "
                }
              ]
            }
          ]
        },
        {
          "name": "context",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The graphics context to use for drawing the view’s content."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The default implementation of this method does nothing. Subclasses are expected to override this method (instead of the "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uiview/1622529-drawrect"
            },
            {
              "type": "text",
              "text": " method) and use it to draw the contents of the view. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "In your drawing code, you should specify the position of any rendered content relative to the map itself and not relative to the view’s bounds or frame. In other words, compute the position and size of any overlay content using map points and map rectangles, convert those values to "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coregraphics/cgpoint"
            },
            {
              "type": "text",
              "text": " and "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coregraphics/cgrect"
            },
            {
              "type": "text",
              "text": " types (using the methods of this class), and then use the converted points to build paths or specify the rendering location for items. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You should also not make assumptions that the view’s frame matches the bounding rectangle of the overlay. The view’s frame is actually bigger than the bounding rectangle to allow you to draw lines for things like roads that might be located directly on the border of that rectangle. For some types of content, such as gradients, this also means that you might need to apply a clipping rectangle to "
            },
            {
              "type": "codeVoice",
              "code": "context"
            },
            {
              "type": "text",
              "text": " to ensure drawing is contained to the correct area.  "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "It is recommended that you use Core Graphics to draw any content for your overlays. If you choose to use UIKit classes and methods for drawing instead, you must push the specified graphics context onto the context stack (using the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/1623921-uigraphicspushcontext"
            },
            {
              "type": "text",
              "text": " function) before making any drawing calls. When you are done drawing, you must similarly pop the graphics context off the stack using the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/1623914-uigraphicspopcontext"
            },
            {
              "type": "text",
              "text": ". During drawing, you may draw content normally but should avoid manipulating views and other classes that are safe to use only from the application’s main thread."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To improve drawing performance, the map view may tile overlays that become large enough and render the tiles from separate threads. Your implementation of this method must therefore be capable of safely running from multiple threads simultaneously. In addition, you should avoid drawing the entire contents of the overlay each time this method is called. Instead, your implementation should always take the "
            },
            {
              "type": "codeVoice",
              "code": "mapRect"
            },
            {
              "type": "text",
              "text": " parameter into consideration and avoid drawing content outside that rectangle. Failure to do so could lead to performance problems."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}