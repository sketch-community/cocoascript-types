{
  "abstract": [
    {
      "type": "text",
      "text": "A client-supplied callback function that’s invoked whenever the configuration of a local display is changed."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/coregraphics",
        "doc://com.apple.documentation/documentation/coregraphics/quartz_display_services"
      ],
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/coregraphics",
        "doc://com.apple.documentation/documentation/coregraphics/core_graphics_data_types"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/coregraphics/cgdisplayreconfigurationcallback",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1456504,
  "kind": "symbol",
  "metadata": {
    "title": "CGDisplayReconfigurationCallBack",
    "role": "symbol",
    "roleHeading": "Type Alias",
    "modules": [
      {
        "name": "Core Graphics"
      }
    ],
    "platforms": [
      {
        "name": "macOS",
        "introducedAt": "10.3",
        "current": "12.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "15.2"
      }
    ],
    "externalID": "c:@T@CGDisplayReconfigurationCallBack",
    "symbolKind": "tdef"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/coregraphics/cgdisplayreconfigurationcallback"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/coregraphics/cgdisplayreconfigurationcallback"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/coregraphics": {
      "title": "Core Graphics",
      "identifier": "doc://com.apple.documentation/documentation/coregraphics",
      "url": "/documentation/coregraphics",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/coregraphics/quartz_display_services": {
      "title": "Quartz Display Services",
      "identifier": "doc://com.apple.documentation/documentation/coregraphics/quartz_display_services",
      "url": "/documentation/coregraphics/quartz_display_services",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/coregraphics/core_graphics_data_types": {
      "title": "Core Graphics Data Types",
      "identifier": "doc://com.apple.documentation/documentation/coregraphics/core_graphics_data_types",
      "url": "/documentation/coregraphics/core_graphics_data_types",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/coregraphics/1455336-cgdisplayregisterreconfiguration": {
      "title": "CGDisplayRegisterReconfigurationCallback",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coregraphics/1455336-cgdisplayregisterreconfiguration",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coregraphics/1455336-cgdisplayregisterreconfiguration"
    },
    "doc://com.apple.documentation/documentation/coregraphics/cgdisplayreconfigurationcallback#1967906": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/coregraphics/cgdisplayreconfigurationcallback#1967906",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/coregraphics/cgdisplayreconfigurationcallback#1967906"
    },
    "doc://com.apple.documentation/documentation/coregraphics/1455407-cgdisplayremovereconfigurationca": {
      "title": "CGDisplayRemoveReconfigurationCallback",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coregraphics/1455407-cgdisplayremovereconfigurationca",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coregraphics/1455407-cgdisplayremovereconfigurationca"
    },
    "doc://com.apple.documentation/documentation/coregraphics/cgdirectdisplayid": {
      "title": "CGDirectDisplayID",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coregraphics/cgdirectdisplayid",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coregraphics/cgdirectdisplayid"
    },
    "doc://com.apple.documentation/documentation/coregraphics/cgdisplaychangesummaryflags": {
      "title": "CGDisplayChangeSummaryFlags",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coregraphics/cgdisplaychangesummaryflags",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coregraphics/cgdisplaychangesummaryflags"
    },
    "doc://com.apple.documentation/documentation/coregraphics/cgdisplayreconfigurationcallback": {
      "title": "CGDisplayReconfigurationCallBack",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coregraphics/cgdisplayreconfigurationcallback",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coregraphics/cgdisplayreconfigurationcallback",
      "abstract": [
        {
          "type": "text",
          "text": "A client-supplied callback function that’s invoked whenever the configuration of a local display is changed."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coregraphics/cgscreenrefreshcallback": {
      "title": "CGScreenRefreshCallback",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coregraphics/cgscreenrefreshcallback",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coregraphics/cgscreenrefreshcallback",
      "abstract": [
        {
          "type": "text",
          "text": "A client-supplied callback function that’s invoked when an area of the display is modified or refreshed."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coregraphics/cgscreenupdatemovecallback": {
      "title": "CGScreenUpdateMoveCallback",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coregraphics/cgscreenupdatemovecallback",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coregraphics/cgscreenupdatemovecallback",
      "abstract": [
        {
          "type": "text",
          "text": "A client-supplied callback function invoked when an area of the display is moved."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/coregraphics/cgscreenrefreshcallback",
        "doc://com.apple.documentation/documentation/coregraphics/cgscreenupdatemovecallback"
      ],
      "title": "Callbacks",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "typedef"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": " (*"
            },
            {
              "kind": "identifier",
              "text": "CGDisplayReconfigurationCallBack"
            },
            {
              "kind": "text",
              "text": ")("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CGDirectDisplayID",
              "identifier": "doc://com.apple.documentation/documentation/coregraphics/cgdirectdisplayid",
              "text": "CGDirectDisplayID"
            },
            {
              "kind": "text",
              "text": " display, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CGDisplayChangeSummaryFlags",
              "identifier": "doc://com.apple.documentation/documentation/coregraphics/cgdisplaychangesummaryflags",
              "text": "CGDisplayChangeSummaryFlags"
            },
            {
              "kind": "text",
              "text": " flags, "
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": " *userInfo);"
            }
          ],
          "platforms": [
            "macOS",
            "Mac Catalyst"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "display",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The display being reconfigured."
                }
              ]
            }
          ]
        },
        {
          "name": "flags",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "Flags that indicate which display configuration parameters are changing."
                }
              ]
            }
          ]
        },
        {
          "name": "userInfo",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The "
                },
                {
                  "type": "codeVoice",
                  "code": "userInfo"
                },
                {
                  "type": "text",
                  "text": " argument passed to the function "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/coregraphics/1455336-cgdisplayregisterreconfiguration"
                },
                {
                  "type": "text",
                  "text": " when the callback function is registered. "
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If you named your function "
            },
            {
              "type": "codeVoice",
              "code": "MyDisplayReconfigurationCallBack"
            },
            {
              "type": "text",
              "text": ", you would declare it like this:"
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Discussion",
          "anchor": "1679883"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To register a display reconfiguration callback function, you call the function "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coregraphics/1455336-cgdisplayregisterreconfiguration"
            },
            {
              "type": "text",
              "text": ". Quartz invokes your callback function when: "
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Your application calls a function to reconfigure a local display."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Your application is listening for events in the event-processing thread, and another application calls a function to reconfigure a local display."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "The user changes the display hardware configuration—for example, by disconnecting a display or changing a system preferences setting."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Before display reconfiguration, Quartz invokes your callback function once for each online display to indicate a pending configuration change.  The "
            },
            {
              "type": "codeVoice",
              "code": "flags"
            },
            {
              "type": "text",
              "text": " argument is always set to "
            },
            {
              "type": "codeVoice",
              "code": "kCGDisplayBeginConfigurationFlag"
            },
            {
              "type": "text",
              "text": ". The only display-specific information contained by this callback is the display ID number.The reason is that details of how a reconfiguration affects a particular device rely on device-specific behaviors which may not be available to a device driver."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "After display reconfiguration, Quartz  invokes your callback function once for each added, removed, and online display. At this time, all display state reported by Core Graphics and QuickDraw will be up to date. The "
            },
            {
              "type": "codeVoice",
              "code": "flags"
            },
            {
              "type": "text",
              "text": " argument indicates how the display configuration has changed. Note that in the case of removed displays, calls into Quartz with the removed display ID will fail."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The following code example illustrates how to test for specific conditions:"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "void MyDisplayReconfigurationCallBack (",
            "   CGDirectDisplayID display,",
            "   CGDisplayChangeSummaryFlags flags,",
            "   void *userInfo)",
            "{",
            "    if (flags & kCGDisplayAddFlag) {",
            "        // display has been added",
            "    }",
            "    else if (flags & kCGDisplayRemoveFlag) {",
            "        // display has been removed",
            "    }",
            "}"
          ],
          "syntax": "occ",
          "metadata": {
            "anchor": "1967906",
            "title": "Listing 1"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Your callback function should avoid attempting to change display configurations and should not raise exceptions or perform a nonlocal return such as calling "
            },
            {
              "type": "codeVoice",
              "code": "longjmp"
            },
            {
              "type": "text",
              "text": ". When you are finished using a callback registration, you should call the function "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coregraphics/1455407-cgdisplayremovereconfigurationca"
            },
            {
              "type": "text",
              "text": " to remove it."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}