{
  "abstract": [
    {
      "type": "text",
      "text": "A timer object that allows your app to synchronize its drawing to the refresh rate of the display."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/quartzcore"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1621240,
  "kind": "symbol",
  "metadata": {
    "title": "CADisplayLink",
    "role": "symbol",
    "roleHeading": "Class",
    "modules": [
      {
        "name": "Core Animation"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "3.1",
        "current": "15.2"
      },
      {
        "name": "iPadOS",
        "introducedAt": "3.1",
        "current": "15.2"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "15.2"
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "current": "15.2"
      }
    ],
    "externalID": "c:objc(cs)CADisplayLink",
    "symbolKind": "cl"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/quartzcore/cadisplaylink"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/quartzcore/cadisplaylink"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/quartzcore": {
      "title": "Core Animation",
      "identifier": "doc://com.apple.documentation/documentation/quartzcore",
      "url": "/documentation/quartzcore",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1648421-preferredframespersecond": {
      "title": "preferredFramesPerSecond",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1648421-preferredframespersecond",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/quartzcore/cadisplaylink/1648421-preferredframespersecond",
      "abstract": [
        {
          "type": "text",
          "text": "The preferred frame rate for the display link callback."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/uikit/uiscreen/2806814-maximumframespersecond": {
      "title": "maximumFramesPerSecond",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiscreen/2806814-maximumframespersecond",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiscreen/2806814-maximumframespersecond"
    },
    "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621257-timestamp": {
      "title": "timestamp",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621257-timestamp",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/quartzcore/cadisplaylink/1621257-timestamp",
      "abstract": [
        {
          "type": "text",
          "text": "The time interval that represents when the last frame displayed."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1648422-targettimestamp": {
      "title": "targetTimestamp",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1648422-targettimestamp",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/quartzcore/cadisplaylink/1648422-targettimestamp",
      "abstract": [
        {
          "type": "text",
          "text": "The time interval that represents when the next frame displays."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink#3879914": {
      "title": "Listing 2",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink#3879914",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/quartzcore/cadisplaylink#3879914"
    },
    "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621323-addtorunloop": {
      "title": "addToRunLoop:forMode:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621323-addtorunloop",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/quartzcore/cadisplaylink/1621323-addtorunloop",
      "abstract": [
        {
          "type": "text",
          "text": "Registers the display link with a run loop."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "addToRunLoop:forMode:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621292-duration": {
      "title": "duration",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621292-duration",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/quartzcore/cadisplaylink/1621292-duration",
      "abstract": [
        {
          "type": "text",
          "text": "The time interval between screen refresh updates."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621229-paused": {
      "title": "paused",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621229-paused",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/quartzcore/cadisplaylink/1621229-paused",
      "abstract": [
        {
          "type": "text",
          "text": "A Boolean value that indicates whether the system suspends the display link’s notifications to the target."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621293-invalidate": {
      "title": "invalidate",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621293-invalidate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/quartzcore/cadisplaylink/1621293-invalidate",
      "abstract": [
        {
          "type": "text",
          "text": "Removes the display link from all run loop modes."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "invalidate"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink#3879913": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink#3879913",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/quartzcore/cadisplaylink#3879913"
    },
    "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink": {
      "title": "CADisplayLink",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/quartzcore/cadisplaylink",
      "abstract": [
        {
          "type": "text",
          "text": "A timer object that allows your app to synchronize its drawing to the refresh rate of the display."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/objectivec/nsobject": {
      "title": "NSObject",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/objectivec/nsobject",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/objectivec/nsobject"
    },
    "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621228-displaylinkwithtarget": {
      "title": "displayLinkWithTarget:selector:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621228-displaylinkwithtarget",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/quartzcore/cadisplaylink/1621228-displaylinkwithtarget",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a display link with the target and selector you specify."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "+ "
        },
        {
          "kind": "identifier",
          "text": "displayLinkWithTarget:selector:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621325-removefromrunloop": {
      "title": "removeFromRunLoop:forMode:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621325-removefromrunloop",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/quartzcore/cadisplaylink/1621325-removefromrunloop",
      "abstract": [
        {
          "type": "text",
          "text": "Removes the display link from the run loop for the given mode."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "removeFromRunLoop:forMode:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621231-frameinterval": {
      "title": "frameInterval",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621231-frameinterval",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/quartzcore/cadisplaylink/1621231-frameinterval",
      "abstract": [
        {
          "type": "text",
          "text": "The number of frames that must pass before the display link notifies the target again."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/3875343-preferredframeraterange": {
      "title": "preferredFrameRateRange",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/3875343-preferredframeraterange",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/quartzcore/cadisplaylink/3875343-preferredframeraterange"
    },
    "doc://com.apple.documentation/documentation/quartzcore/1395996-cacurrentmediatime": {
      "title": "CACurrentMediaTime",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/quartzcore/1395996-cacurrentmediatime",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/quartzcore/1395996-cacurrentmediatime",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the current absolute time, in seconds."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/quartzcore/camediatimingfunction": {
      "title": "CAMediaTimingFunction",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/quartzcore/camediatimingfunction",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/quartzcore/camediatimingfunction",
      "abstract": [
        {
          "type": "text",
          "text": "A function that defines the pacing of an animation as a timing curve. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/quartzcore/camediatiming": {
      "title": "CAMediaTiming",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/quartzcore/camediatiming",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/quartzcore/camediatiming",
      "abstract": [
        {
          "type": "text",
          "text": "Methods that model a hierarchical timing system, allowing objects to map time between their parent and local time. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "diffAvailability": {
    "major": {
      "change": "modified",
      "platform": "Xcode",
      "versions": [
        "13.0",
        "13.2 beta 1"
      ]
    }
  },
  "relationshipsSections": [
    {
      "kind": "relationships",
      "title": "Inherits From",
      "type": "inheritsFrom",
      "identifiers": [
        "doc://com.apple.documentation/documentation/objectivec/nsobject"
      ]
    }
  ],
  "topicSections": [
    {
      "kind": "taskGroup",
      "title": "Creating Instances",
      "identifiers": [
        "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621228-displaylinkwithtarget"
      ],
      "anchor": "1668412"
    },
    {
      "kind": "taskGroup",
      "title": "Scheduling the Display Link to Send Notifications",
      "identifiers": [
        "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621323-addtorunloop",
        "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621325-removefromrunloop",
        "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621293-invalidate"
      ],
      "anchor": "1668445"
    },
    {
      "kind": "taskGroup",
      "title": "Configuring the Display Link",
      "identifiers": [
        "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621292-duration",
        "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1648421-preferredframespersecond",
        "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621229-paused",
        "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621257-timestamp",
        "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1648422-targettimestamp",
        "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621231-frameinterval"
      ],
      "anchor": "1668504"
    },
    {
      "kind": "taskGroup",
      "title": "Instance Properties",
      "identifiers": [
        "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/3875343-preferredframeraterange"
      ],
      "anchor": "3875484"
    }
  ],
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/quartzcore/1395996-cacurrentmediatime",
        "doc://com.apple.documentation/documentation/quartzcore/camediatimingfunction",
        "doc://com.apple.documentation/documentation/quartzcore/camediatiming"
      ],
      "title": "Animation Timing",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "@interface"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "CADisplayLink"
            },
            {
              "kind": "text",
              "text": " : "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSObject",
              "identifier": "doc://com.apple.documentation/documentation/objectivec/nsobject",
              "text": "NSObject"
            }
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "Mac Catalyst",
            "tvOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Your app initializes a new display link, providing a target object and a selector to call when the system updates the screen. To synchronize your display loop with the display, your application adds it to a run loop using the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621323-addtorunloop"
            },
            {
              "type": "text",
              "text": " method."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Once you associate the display link with a run loop, the system calls the selector on the target when the screen’s contents need to update. The target can read the display link’s "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621257-timestamp"
            },
            {
              "type": "text",
              "text": " property to retrieve the time the system displayed the previous frame. For example, an app that displays movies might use "
            },
            {
              "type": "codeVoice",
              "code": "timestamp"
            },
            {
              "type": "text",
              "text": " to calculate which video frame to display next. An app that performs its own animations might use "
            },
            {
              "type": "codeVoice",
              "code": "timestamp"
            },
            {
              "type": "text",
              "text": " to determine where and how visible objects appear in the upcoming frame."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621292-duration"
            },
            {
              "type": "text",
              "text": " property provides the amount of time between frames at the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uiscreen/2806814-maximumframespersecond"
            },
            {
              "type": "text",
              "text": ". To calculate the actual frame duration, use "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1648422-targettimestamp"
            },
            {
              "type": "text",
              "text": " - "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621257-timestamp"
            },
            {
              "type": "text",
              "text": ". You can use this value in your app to calculate the frame rate of the display, the approximate time the system displays the next frame, and to adjust the drawing behavior so that the next frame is ready in time to display."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Your app can disable notifications by setting "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621229-paused"
            },
            {
              "type": "text",
              "text": " to "
            },
            {
              "type": "codeVoice",
              "code": "true"
            },
            {
              "type": "text",
              "text": ". Also, if your app can’t provide frames in the time the system provides, you may want to choose a slower frame rate. An app with a slower but consistent frame rate appears smoother to the user than an app that skips frames. You can define the number of frames per second by setting "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1648421-preferredframespersecond"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When your app finishes with a display link, call "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621293-invalidate"
            },
            {
              "type": "text",
              "text": " to remove it from all run loops and to disassociate it from the target."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The code listing below shows how to create a display link and add it to the current run loop. The display link invokes the step function, which prints the target timestamp with each screen update."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "- (void)createDisplayLink {",
            "    CADisplayLink *displayLink = [CADisplayLink displayLinkWithTarget:self",
            "                                                             selector:@selector(step:)];",
            "    [displayLink addToRunLoop:[NSRunLoop currentRunLoop]",
            "                      forMode:NSRunLoopCommonModes];",
            "}",
            "",
            "- (void)step:(CADisplayLink *)sender {",
            "    NSLog(@\"%f\", sender.targetTimestamp);",
            "}"
          ],
          "syntax": "occ",
          "metadata": {
            "anchor": "3879913",
            "title": "Listing 1"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You shouldn’t subclass "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Preferred and Actual Frame Rates",
          "anchor": "3879915"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You control a display link’s frame rate (the number of times the system calls the selector of its target, per second) by setting "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1648421-preferredframespersecond"
            },
            {
              "type": "text",
              "text": ". However, the actual frames per second may differ from the preferred value you set; actual frame rates are always a factor of the maximum refresh rate of the device. For example, if your device’s maximum refresh rate is 60 frames per second (defined by "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uiscreen/2806814-maximumframespersecond"
            },
            {
              "type": "text",
              "text": "), actual frame rates include 15, 20, 30, and 60 frames per second. If you set a display link’s preferred frame rate to a value higher than the maximum, the actual frame rate is the maximum. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "In iOS 15, frame rate availability can change due to the system factoring in the system policy and user preference — including low power mode, critical thermal state, and accessibility settings."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The system rounds, to the nearest factor, preferred frame rates that aren’t a divisor of the maximum frame rate. For example, setting a preferred frame rate to either 26 or 35 frames per second on a device with a maximum refresh rate of 60 frames per second, yields an actual frame rate of 30 times per second."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The code listing below shows how to calculate the actual frame rate by dividing 1 by your display link’s "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1621257-timestamp"
            },
            {
              "type": "text",
              "text": " subtracted from its "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/quartzcore/cadisplaylink/1648422-targettimestamp"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "// Calculate the actual frame rate.",
            "double actualFramesPerSecond = 1 / (displaylink.targetTimestamp - displaylink.timestamp);"
          ],
          "syntax": "occ",
          "metadata": {
            "anchor": "3879914",
            "title": "Listing 2"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": []
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}