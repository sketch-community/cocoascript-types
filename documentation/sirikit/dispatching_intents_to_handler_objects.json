{
  "abstract": [
    {
      "type": "text",
      "text": "Provide SiriKit with an object capable of handling a given intent."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/sirikit"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/sirikit/dispatching_intents_to_handler_objects",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 2864123,
  "kind": "article",
  "metadata": {
    "title": "Dispatching Intents to Handler Objects",
    "role": "article",
    "roleHeading": "Article",
    "modules": [
      {
        "name": "Intents"
      },
      {
        "name": "IntentsUI"
      }
    ]
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/sirikit/dispatching_intents_to_handler_objects"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/sirikit/dispatching_intents_to_handler_objects"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/sirikit": {
      "title": "SiriKit",
      "identifier": "doc://com.apple.documentation/documentation/sirikit",
      "url": "/documentation/sirikit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/sirikit/inextension": {
      "title": "INExtension",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/inextension",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/sirikit/inextension"
    },
    "doc://com.apple.documentation/documentation/sirikit/inintenthandlerproviding/1638898-handlerforintent": {
      "title": "handlerForIntent:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/inintenthandlerproviding/1638898-handlerforintent",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/sirikit/inintenthandlerproviding/1638898-handlerforintent",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "handlerForIntent:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/sirikit/dispatching_intents_to_handler_objects#2864137": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/dispatching_intents_to_handler_objects#2864137",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/sirikit/dispatching_intents_to_handler_objects#2864137",
      "abstract": [
        {
          "type": "text",
          "text": "Providing handler objects to SiriKit"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/sirikit/instartaudiocallintent": {
      "title": "INStartAudioCallIntent",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/instartaudiocallintent",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/sirikit/instartaudiocallintent"
    },
    "doc://com.apple.documentation/documentation/sirikit/instartaudiocallintenthandling": {
      "title": "INStartAudioCallIntentHandling",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/instartaudiocallintenthandling",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/sirikit/instartaudiocallintenthandling"
    },
    "doc://com.apple.documentation/documentation/sirikit/creating_an_intents_app_extension": {
      "title": "Creating an Intents App Extension",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/creating_an_intents_app_extension",
      "kind": "article",
      "role": "article",
      "url": "/documentation/sirikit/creating_an_intents_app_extension",
      "abstract": [
        {
          "type": "text",
          "text": "Add and configure an Intents app extension in your Xcode project."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/sirikit/structuring_your_code_to_support_app_extensions": {
      "title": "Structuring Your Code to Support App Extensions",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/structuring_your_code_to_support_app_extensions",
      "kind": "article",
      "role": "article",
      "url": "/documentation/sirikit/structuring_your_code_to_support_app_extensions",
      "abstract": [
        {
          "type": "text",
          "text": "Move your back-end services to a private framework so your app and app extensions can use them."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/sirikit/dispatching_intents_to_handler_objects": {
      "title": "Dispatching Intents to Handler Objects",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/dispatching_intents_to_handler_objects",
      "kind": "article",
      "role": "article",
      "url": "/documentation/sirikit/dispatching_intents_to_handler_objects",
      "abstract": [
        {
          "type": "text",
          "text": "Provide SiriKit with an object capable of handling a given intent."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/sirikit/resolving_and_handling_intents": {
      "title": "Resolving and Handling Intents",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/resolving_and_handling_intents",
      "kind": "article",
      "role": "article",
      "url": "/documentation/sirikit/resolving_and_handling_intents",
      "abstract": [
        {
          "type": "text",
          "text": "Resolve, confirm, and handle user requests for your appâ€™s services."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/sirikit/inintenthandlerproviding": {
      "title": "INIntentHandlerProviding",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/inintenthandlerproviding",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/sirikit/inintenthandlerproviding",
      "abstract": [
        {
          "type": "text",
          "text": "The interface for dispatching intents to the custom objects that handle those intents. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/sirikit/intents_and_related_classes": {
      "title": "Intents and Related Classes",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/intents_and_related_classes",
      "kind": "article",
      "role": "collectionGroup",
      "url": "/documentation/sirikit/intents_and_related_classes",
      "abstract": [
        {
          "type": "text",
          "text": "Learn about the classes you use to build your Intents extension."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/sirikit/providing_hands-free_app_control_with_intents": {
      "title": "Providing Hands-Free App Control with Intents",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/providing_hands-free_app_control_with_intents",
      "kind": "article",
      "role": "sampleCode",
      "url": "/documentation/sirikit/providing_hands-free_app_control_with_intents",
      "abstract": [
        {
          "type": "text",
          "text": "Resolve, confirm, and handle intents without an extension."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/sirikit/creating_an_intents_app_extension",
        "doc://com.apple.documentation/documentation/sirikit/structuring_your_code_to_support_app_extensions",
        "doc://com.apple.documentation/documentation/sirikit/resolving_and_handling_intents",
        "doc://com.apple.documentation/documentation/sirikit/inintenthandlerproviding",
        "doc://com.apple.documentation/documentation/sirikit/intents_and_related_classes",
        "doc://com.apple.documentation/documentation/sirikit/providing_hands-free_app_control_with_intents"
      ],
      "title": "Siri Intents",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When a user makes a request of your app using Siri or Maps, SiriKit loads your Intents app extension and creates an instance of its "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/sirikit/inextension"
            },
            {
              "type": "text",
              "text": " subclass. The job of your extension object is to provide SiriKit with the handler objects that you use to handle specific intents. You provide these objects from the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/sirikit/inintenthandlerproviding/1638898-handlerforintent"
            },
            {
              "type": "text",
              "text": " method of your extension object. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The structure of the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/sirikit/inintenthandlerproviding/1638898-handlerforintent"
            },
            {
              "type": "text",
              "text": " method is the same for all Intents app extensions, and that method must return a valid new object for all intents that your Intents app extension supports. "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/sirikit/dispatching_intents_to_handler_objects#2864137"
            },
            {
              "type": "text",
              "text": " shows a version of the method that supports intents in the messages and VoIP calling domains. After checking the type of the provided intent object, the method creates and returns an object capable of handling that intent."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "override func handler(for intent: INIntent) -> Any {",
            "   switch intent {",
            "   case is INSendMessageIntent,",
            "            is INSearchForMessagesIntent,",
            "            is INSetMessageAttributeIntent:",
            "      return MyMessageHandler()",
            "            ",
            "   case is INStartAudioCallIntent:",
            "      return MyAudioCallHandler()",
            "            ",
            "   case is INStartVideoCallIntent:",
            "      return MyVideoCallHandler()",
            "            ",
            "   default:",
            "      // The app extension should only be called for intents it knows about.",
            "      fatalError()",
            "   }",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "2864137",
            "title": "Listing 1",
            "abstract": [
              {
                "type": "text",
                "text": "Providing handler objects to SiriKit"
              }
            ]
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The object you return from the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/sirikit/inintenthandlerproviding/1638898-handlerforintent"
            },
            {
              "type": "text",
              "text": " method must implement the specific protocol needed to handle the corresponding intent. Each intent object has an associated protocol whose name is based on the name of the intent. For example, when handling an "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/sirikit/instartaudiocallintent"
            },
            {
              "type": "text",
              "text": " object, you provide an object that adopts the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/sirikit/instartaudiocallintenthandling"
            },
            {
              "type": "text",
              "text": " protocol. The protocol defines the methods that your object must implement to resolve any intent parameters and to let SiriKit know how you handled the intent."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "SiriKit typically creates multiple copies of your handler object when processing a single intent object and calls only one method on each object. Do not store cached state information in a handler object because that information will not be present during subsequent method calls. Instead, always make fresh requests for any needed data from each of your methods."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}