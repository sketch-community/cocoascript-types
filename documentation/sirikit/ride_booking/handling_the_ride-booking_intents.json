{
  "abstract": [
    {
      "type": "text",
      "text": "Understand how Siri and Maps generate ride-booking intents and learn tips about how to handle those intents."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/sirikit",
        "doc://com.apple.documentation/documentation/sirikit/ride_booking"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/sirikit/ride_booking/handling_the_ride-booking_intents",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 2865104,
  "kind": "article",
  "metadata": {
    "title": "Handling the Ride-Booking Intents",
    "role": "article",
    "roleHeading": "Article",
    "modules": [
      {
        "name": "Intents"
      },
      {
        "name": "IntentsUI"
      }
    ]
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/sirikit/ride_booking/handling_the_ride-booking_intents"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/sirikit/ride_booking/handling_the_ride-booking_intents"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/sirikit": {
      "title": "SiriKit",
      "identifier": "doc://com.apple.documentation/documentation/sirikit",
      "url": "/documentation/sirikit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/sirikit/ride_booking": {
      "title": "Ride Booking",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/ride_booking",
      "url": "/documentation/sirikit/ride_booking",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/sirikit/inrequestrideintent": {
      "title": "INRequestRideIntent",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/inrequestrideintent",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/sirikit/inrequestrideintent"
    },
    "doc://com.apple.documentation/documentation/sirikit/inlistrideoptionsintent": {
      "title": "INListRideOptionsIntent",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/inlistrideoptionsintent",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/sirikit/inlistrideoptionsintent"
    },
    "doc://com.apple.documentation/documentation/sirikit/ingetridestatusintent": {
      "title": "INGetRideStatusIntent",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/ingetridestatusintent",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/sirikit/ingetridestatusintent"
    },
    "doc://com.apple.documentation/documentation/sirikit/ingetridestatusintenthandling/1649845-startsendingupdatesforgetridesta": {
      "title": "startSendingUpdatesForGetRideStatus:toObserver:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/ingetridestatusintenthandling/1649845-startsendingupdatesforgetridesta",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/sirikit/ingetridestatusintenthandling/1649845-startsendingupdatesforgetridesta",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "startSendingUpdatesForGetRideStatus:toObserver:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/sirikit/ingetridestatusintentresponseobserver/providing_live_status_updates": {
      "title": "Providing Live Status Updates",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/ingetridestatusintentresponseobserver/providing_live_status_updates",
      "kind": "article",
      "role": "article",
      "url": "/documentation/sirikit/ingetridestatusintentresponseobserver/providing_live_status_updates",
      "abstract": [
        {
          "type": "text",
          "text": "Provide regular updates to Maps about the status of a booked ride."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/sirikit/ride_booking/generating_a_list_of_ride_options": {
      "title": "Generating a List of Ride Options",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/ride_booking/generating_a_list_of_ride_options",
      "kind": "article",
      "role": "article",
      "url": "/documentation/sirikit/ride_booking/generating_a_list_of_ride_options",
      "abstract": [
        {
          "type": "text",
          "text": "Generate ride options for Maps to display to the user."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/sirikit/ride_booking/handling_the_ride-booking_intents": {
      "title": "Handling the Ride-Booking Intents",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/ride_booking/handling_the_ride-booking_intents",
      "kind": "article",
      "role": "article",
      "url": "/documentation/sirikit/ride_booking/handling_the_ride-booking_intents",
      "abstract": [
        {
          "type": "text",
          "text": "Understand how Siri and Maps generate ride-booking intents and learn tips about how to handle those intents."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/sirikit/ride_booking/booking_rides_with_sirikit": {
      "title": "Booking Rides with SiriKit",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/ride_booking/booking_rides_with_sirikit",
      "kind": "article",
      "role": "sampleCode",
      "url": "/documentation/sirikit/ride_booking/booking_rides_with_sirikit",
      "abstract": [
        {
          "type": "text",
          "text": "Add Intents extensions to your app to handle requests to book rides using Siri and Maps."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "topicSections": [
    {
      "kind": "taskGroup",
      "title": "Related Articles",
      "identifiers": [
        "doc://com.apple.documentation/documentation/sirikit/ride_booking/generating_a_list_of_ride_options",
        "doc://com.apple.documentation/documentation/sirikit/ingetridestatusintentresponseobserver/providing_live_status_updates"
      ]
    }
  ],
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/sirikit/ride_booking/booking_rides_with_sirikit"
      ],
      "title": "First Steps",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A successful implementation of a ride-booking Intents app extension requires supporting all of the intents in the ride-booking domain. In fact, Maps on iOS expects your extension to handle all of the intents and doesn’t load it if it doesn’t. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A ride-booking Intents app extension must be able to provide a list of available vehicles, details about the cost of each ride, and status updates for any booked rides. It must also facilitate financial transactions associated with any rides and communicate any relevant information to your ride booking service."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Understanding the Ride-Booking Process",
          "anchor": "2865105"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Siri and Maps handle ride booking differently, and your extension must be able to support both flows. With Siri, users request a ride verbally, and expects your Intents app extension to fill in any required details that the user doesn’t provide. With Maps, users specify information such as the start and end points of their route directly using the Maps interface. Siri and Maps deliver different intents to your extension and call different methods due to these differences."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "In Siri, the ride-booking flow is as follows:"
            }
          ]
        },
        {
          "type": "orderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "The user asks Siri to book a ride."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Siri sends an "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/sirikit/inrequestrideintent"
                    },
                    {
                      "type": "text",
                      "text": " object to your Intents app extension."
                    }
                  ]
                },
                {
                  "type": "orderedList",
                  "items": [
                    {
                      "content": [
                        {
                          "type": "paragraph",
                          "inlineContent": [
                            {
                              "type": "text",
                              "text": "Siri asks your extension to resolve the intent parameters, prompting the user as needed to provide additional information."
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "content": [
                        {
                          "type": "paragraph",
                          "inlineContent": [
                            {
                              "type": "text",
                              "text": "Siri asks your extension to confirm the intent."
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "content": [
                        {
                          "type": "paragraph",
                          "inlineContent": [
                            {
                              "type": "text",
                              "text": "Upon successful confirmation, Siri asks you to book the ride."
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "In Maps, the ride-booking flow is as follows:"
            }
          ]
        },
        {
          "type": "orderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "The user enters a destination on the map."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "The user taps the Directions button to view the route, and optionally changes the starting point or destination."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "The user selects Ride from the list of transportation options. (If there’s an installed Intents app extension supporting ride booking but it’s not enabled, Maps prompts the user to enable it. Maps also displays a list of App store apps that support ride booking). "
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Maps sends an "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/sirikit/inlistrideoptionsintent"
                    },
                    {
                      "type": "text",
                      "text": " object to your Intents app extension. (Maps only asks you to handle the intent. You don’t have to resolve parameters or confirm the intent. On success, your response should include the appropriate ride options to display to the user)."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Maps displays your ride options to the user. "
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "When the user selects one of your rides, Maps sends an "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/sirikit/inrequestrideintent"
                    },
                    {
                      "type": "text",
                      "text": " object to your Intents app extension. "
                    }
                  ]
                },
                {
                  "type": "orderedList",
                  "items": [
                    {
                      "content": [
                        {
                          "type": "paragraph",
                          "inlineContent": [
                            {
                              "type": "text",
                              "text": "Maps may ask your extension to confirm the intent."
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "content": [
                        {
                          "type": "paragraph",
                          "inlineContent": [
                            {
                              "type": "text",
                              "text": "Upon successful confirmation, Maps asks your extension to book the ride. "
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When the user asks for the status of a ride using Siri, Siri sends a single "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/sirikit/ingetridestatusintent"
            },
            {
              "type": "text",
              "text": " object to your Intents app extension. Maps may send this same intent to your Intents app extension multiple times after booking is complete. Maps may also call the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/sirikit/ingetridestatusintenthandling/1649845-startsendingupdatesforgetridesta"
            },
            {
              "type": "text",
              "text": " method of your intent handler to ask for live status updates. Prepare your handler to push frequent status updates to the specified observer object. For information about how to handle live status updates, see "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/sirikit/ingetridestatusintentresponseobserver/providing_live_status_updates"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": []
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}