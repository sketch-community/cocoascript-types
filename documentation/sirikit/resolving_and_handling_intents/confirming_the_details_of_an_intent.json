{
  "abstract": [
    {
      "type": "text",
      "text": "Perform final validation of the intent parameters and verify that your services are ready to fulfill the intent."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/sirikit",
        "doc://com.apple.documentation/documentation/sirikit/resolving_and_handling_intents"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/sirikit/resolving_and_handling_intents/confirming_the_details_of_an_intent",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 2864162,
  "kind": "article",
  "metadata": {
    "title": "Confirming the Details of an Intent",
    "role": "article",
    "roleHeading": "Article",
    "modules": [
      {
        "name": "Intents"
      },
      {
        "name": "IntentsUI"
      }
    ]
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/sirikit/resolving_and_handling_intents/confirming_the_details_of_an_intent"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/sirikit/resolving_and_handling_intents/confirming_the_details_of_an_intent"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/sirikit": {
      "title": "SiriKit",
      "identifier": "doc://com.apple.documentation/documentation/sirikit",
      "url": "/documentation/sirikit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/sirikit/resolving_and_handling_intents": {
      "title": "Resolving and Handling Intents",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/resolving_and_handling_intents",
      "url": "/documentation/sirikit/resolving_and_handling_intents",
      "type": "topic",
      "kind": "article",
      "role": "article"
    },
    "doc://com.apple.documentation/documentation/sirikit/instartworkoutintent": {
      "title": "INStartWorkoutIntent",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/instartworkoutintent",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/sirikit/instartworkoutintent"
    },
    "doc://com.apple.documentation/documentation/sirikit/instartworkoutintentresponsecode/instartworkoutintentresponsecodeready": {
      "title": "INStartWorkoutIntentResponseCodeReady",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/instartworkoutintentresponsecode/instartworkoutintentresponsecodeready",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/sirikit/instartworkoutintentresponsecode/instartworkoutintentresponsecodeready"
    },
    "doc://com.apple.documentation/documentation/sirikit/resolving_and_handling_intents/confirming_the_details_of_an_intent#2864165": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/resolving_and_handling_intents/confirming_the_details_of_an_intent#2864165",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/sirikit/resolving_and_handling_intents/confirming_the_details_of_an_intent#2864165",
      "abstract": [
        {
          "type": "text",
          "text": "Confirming the start of a workout"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsuseractivity": {
      "title": "NSUserActivity",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsuseractivity"
    },
    "doc://com.apple.documentation/documentation/sirikit/resolving_and_handling_intents/resolving_the_parameters_of_an_intent": {
      "title": "Resolving the Parameters of an Intent",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/resolving_and_handling_intents/resolving_the_parameters_of_an_intent",
      "kind": "article",
      "role": "article",
      "url": "/documentation/sirikit/resolving_and_handling_intents/resolving_the_parameters_of_an_intent",
      "abstract": [
        {
          "type": "text",
          "text": "Validate the parameters of an intent and make sure that you have the information you need to continue."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/sirikit/resolving_and_handling_intents/handling_an_intent": {
      "title": "Handling an Intent",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/resolving_and_handling_intents/handling_an_intent",
      "kind": "article",
      "role": "article",
      "url": "/documentation/sirikit/resolving_and_handling_intents/handling_an_intent",
      "abstract": [
        {
          "type": "text",
          "text": "Fulfill the intent and provide feedback to SiriKit about what you did."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/sirikit/resolving_and_handling_intents/confirming_the_details_of_an_intent": {
      "title": "Confirming the Details of an Intent",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/sirikit/resolving_and_handling_intents/confirming_the_details_of_an_intent",
      "kind": "article",
      "role": "article",
      "url": "/documentation/sirikit/resolving_and_handling_intents/confirming_the_details_of_an_intent",
      "abstract": [
        {
          "type": "text",
          "text": "Perform final validation of the intent parameters and verify that your services are ready to fulfill the intent."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/sirikit/resolving_and_handling_intents/resolving_the_parameters_of_an_intent",
        "doc://com.apple.documentation/documentation/sirikit/resolving_and_handling_intents/handling_an_intent"
      ],
      "title": "Resolving and Handling Intents",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "After you resolve the parameters of an intent, but before you handle that intent, SiriKit may ask you to confirm the intent details. The confirmation phase is your chance to perform any final validation of the intent parameters and to verify that any needed services are available. For example, you might confirm that you can communicate with your company’s server. After performing your final validation, you provide SiriKit with a response object indicating how you plan to handle the request."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/sirikit/resolving_and_handling_intents/confirming_the_details_of_an_intent#2864165"
            },
            {
              "type": "text",
              "text": " shows a confirmation method used by a running app to validate an "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/sirikit/instartworkoutintent"
            },
            {
              "type": "text",
              "text": " object. Because the app uses Core Location to map the user’s run, the method verifies that the needed location services are available and returns a failure code if they are not. Otherwise, the response object contains the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/sirikit/instartworkoutintentresponsecode/instartworkoutintentresponsecodeready"
            },
            {
              "type": "text",
              "text": " code, which indicates that the app is ready to start the run."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "func confirm(startWorkout intent: INStartWorkoutIntent, ",
            "       completion: @escaping (INStartWorkoutIntentResponse) -> Void) {",
            "    var code : INStartWorkoutIntentResponseCode = .ready",
            "    var activity : NSUserActivity? = nil",
            "        ",
            "    // If location services are not available, the user",
            "    // might need to change the type of workout.",
            "    if !CLLocationManager.locationServicesEnabled() {",
            "        code = .failureRequiringAppLaunch",
            "        activity = NSUserActivity(activityType: ",
            "              \"com.example.myRunningApp.noLocationAvailable\")",
            "    }",
            "        ",
            "    // Deliver the response back to SiriKit.",
            "    let response = INStartWorkoutIntentResponse(code: code, ",
            "            userActivity: activity)",
            "    completion(response)",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "2864165",
            "title": "Listing 1",
            "abstract": [
              {
                "type": "text",
                "text": "Confirming the start of a workout"
              }
            ]
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Providing a custom "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsuseractivity"
            },
            {
              "type": "text",
              "text": " object with your response during confirmation is recommended but not required. If SiriKit needs to launch your app for any reason, it passes the provided activity object to your app. Your app can use any information in the object to take further actions. For example, you might include custom data in the user activity object that your app can then use to configure its interface."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}