{
  "abstract": [
    {
      "type": "text",
      "text": "Runs a given modal session, as defined in a previous invocation of "
    },
    {
      "type": "reference",
      "isActive": false,
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428418-beginmodalsessionforwindow"
    },
    {
      "type": "text",
      "text": "."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/appkit",
        "doc://com.apple.documentation/documentation/appkit/app_and_environment",
        "doc://com.apple.documentation/documentation/appkit/nsapplication",
        "doc://com.apple.documentation/documentation/appkit/nsapplication/modal_windows_and_panels"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428590-runmodalsession",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1428590,
  "kind": "symbol",
  "metadata": {
    "title": "runModalSession:",
    "role": "symbol",
    "roleHeading": "Instance Method",
    "modules": [
      {
        "name": "AppKit"
      }
    ],
    "platforms": [
      {
        "name": "macOS",
        "introducedAt": "10.0",
        "current": "12.1"
      }
    ],
    "externalID": "c:objc(cs)NSApplication(im)runModalSession:",
    "parent": {
      "title": "NSApplication"
    },
    "symbolKind": "instm"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/appkit/nsapplication/1428590-runmodalsession"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/appkit/nsapplication/1428590-runmodalsession"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/appkit": {
      "title": "AppKit",
      "identifier": "doc://com.apple.documentation/documentation/appkit",
      "url": "/documentation/appkit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/appkit/app_and_environment": {
      "title": "App and Environment",
      "identifier": "doc://com.apple.documentation/documentation/appkit/app_and_environment",
      "url": "/documentation/appkit/app_and_environment",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/appkit/nsapplication": {
      "title": "NSApplication",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsapplication",
      "abstract": [
        {
          "type": "text",
          "text": "An object that manages an app’s main event loop and resources used by all of that app’s objects."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsapplication/modal_windows_and_panels": {
      "title": "Modal Windows and Panels",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/modal_windows_and_panels",
      "url": "/documentation/appkit/nsapplication/modal_windows_and_panels",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/appkit/nsapplication/1428418-beginmodalsessionforwindow": {
      "title": "beginModalSessionForWindow:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428418-beginmodalsessionforwindow",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsapplication/1428418-beginmodalsessionforwindow",
      "abstract": [
        {
          "type": "text",
          "text": "Sets up a modal session with the given window and returns a pointer to the "
        },
        {
          "type": "codeVoice",
          "code": "NSModalSession"
        },
        {
          "type": "text",
          "text": " structure representing the session."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "beginModalSessionForWindow:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsapplication/1428436-runmodalforwindow": {
      "title": "runModalForWindow:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428436-runmodalforwindow",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsapplication/1428436-runmodalforwindow",
      "abstract": [
        {
          "type": "text",
          "text": "Starts a modal event loop for the specified window."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "runModalForWindow:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsapplication/1428590-runmodalsession#2555525": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428590-runmodalsession#2555525",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/appkit/nsapplication/1428590-runmodalsession#2555525"
    },
    "doc://com.apple.documentation/documentation/appkit/nsapplication/1428590-runmodalsession": {
      "title": "runModalSession:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428590-runmodalsession",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsapplication/1428590-runmodalsession",
      "abstract": [
        {
          "type": "text",
          "text": "Runs a given modal session, as defined in a previous invocation of "
        },
        {
          "type": "reference",
          "isActive": false,
          "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428418-beginmodalsessionforwindow"
        },
        {
          "type": "text",
          "text": "."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "runModalSession:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsapplication/1428489-stopmodal": {
      "title": "stopModal",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428489-stopmodal",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsapplication/1428489-stopmodal",
      "abstract": [
        {
          "type": "text",
          "text": "Stops a modal event loop."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "stopModal"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsapplication/1428748-stopmodalwithcode": {
      "title": "stopModalWithCode:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428748-stopmodalwithcode",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsapplication/1428748-stopmodalwithcode",
      "abstract": [
        {
          "type": "text",
          "text": "Stops a modal event loop, allowing you to return a custom result code. "
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "stopModalWithCode:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsapplication/1428753-abortmodal": {
      "title": "abortModal",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428753-abortmodal",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsapplication/1428753-abortmodal",
      "abstract": [
        {
          "type": "text",
          "text": "Aborts the event loop started by "
        },
        {
          "type": "reference",
          "isActive": true,
          "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428436-runmodalforwindow"
        },
        {
          "type": "text",
          "text": " or "
        },
        {
          "type": "reference",
          "isActive": true,
          "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428590-runmodalsession"
        },
        {
          "type": "text",
          "text": "."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "abortModal"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nswindow/1419208-makekeyandorderfront": {
      "title": "makeKeyAndOrderFront:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nswindow/1419208-makekeyandorderfront",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nswindow/1419208-makekeyandorderfront",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "makeKeyAndOrderFront:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsapplication/1428438-endmodalsession": {
      "title": "endModalSession:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428438-endmodalsession",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsapplication/1428438-endmodalsession",
      "abstract": [
        {
          "type": "text",
          "text": "Finishes a modal session."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "endModalSession:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsapplication/1428631-run": {
      "title": "run",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428631-run",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsapplication/1428631-run",
      "abstract": [
        {
          "type": "text",
          "text": "Starts the main event loop."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "run"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsmodalresponse": {
      "title": "NSModalResponse",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsmodalresponse",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsmodalresponse",
      "abstract": [
        {
          "type": "text",
          "text": "A set of button return values for modal dialogs."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsmodalsession": {
      "title": "NSModalSession",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsmodalsession",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsmodalsession",
      "abstract": [
        {
          "type": "text",
          "text": "Variables of type "
        },
        {
          "type": "codeVoice",
          "code": "NSModalSession"
        },
        {
          "type": "text",
          "text": " point to information used by the system between "
        },
        {
          "type": "codeVoice",
          "code": "NSApplication"
        },
        {
          "type": "text",
          "text": "’s "
        },
        {
          "type": "reference",
          "isActive": true,
          "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428418-beginmodalsessionforwindow"
        },
        {
          "type": "text",
          "text": " and "
        },
        {
          "type": "reference",
          "isActive": true,
          "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428438-endmodalsession"
        },
        {
          "type": "text",
          "text": " messages."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsapplication/1428610-modalwindow": {
      "title": "modalWindow",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428610-modalwindow",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsapplication/1428610-modalwindow",
      "abstract": [
        {
          "type": "text",
          "text": "The modal window displayed by the app."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsmodalpanelrunloopmode": {
      "title": "NSModalPanelRunLoopMode",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsmodalpanelrunloopmode",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsmodalpanelrunloopmode",
      "abstract": [
        {
          "type": "text",
          "text": "The mode set when waiting for input from a modal panel, such as a save or open panel."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/appkit/nsapplication/1428436-runmodalforwindow",
        "doc://com.apple.documentation/documentation/appkit/nsapplication/1428489-stopmodal",
        "doc://com.apple.documentation/documentation/appkit/nsapplication/1428748-stopmodalwithcode",
        "doc://com.apple.documentation/documentation/appkit/nsapplication/1428753-abortmodal",
        "doc://com.apple.documentation/documentation/appkit/nsapplication/1428418-beginmodalsessionforwindow",
        "doc://com.apple.documentation/documentation/appkit/nsapplication/1428610-modalwindow",
        "doc://com.apple.documentation/documentation/appkit/nsmodalresponse",
        "doc://com.apple.documentation/documentation/appkit/nsmodalsession",
        "doc://com.apple.documentation/documentation/appkit/nsmodalpanelrunloopmode"
      ],
      "title": "Running a Modal Window",
      "generated": true
    },
    {
      "title": "Related Documentation",
      "generated": false,
      "identifiers": [
        "doc://com.apple.documentation/documentation/appkit/nsapplication/1428438-endmodalsession",
        "doc://com.apple.documentation/documentation/appkit/nsapplication/1428631-run"
      ]
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "text",
              "text": "- ("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@NSModalResponse",
              "identifier": "doc://com.apple.documentation/documentation/appkit/nsmodalresponse",
              "text": "NSModalResponse"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "identifier",
              "text": "runModalSession:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@NSModalSession",
              "identifier": "doc://com.apple.documentation/documentation/appkit/nsmodalsession",
              "text": "NSModalSession"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "session"
            },
            {
              "kind": "text",
              "text": ";"
            }
          ],
          "platforms": [
            "macOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "session",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A pointer to the modal session structure returned by the "
                },
                {
                  "type": "reference",
                  "isActive": false,
                  "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428418-beginmodalsessionforwindow"
                },
                {
                  "type": "text",
                  "text": " method for the window to be displayed."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "An integer indicating the reason that this method returned. See the discussion for a description of possible return values."
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A loop that uses this method is similar in some ways to a modal event loop run with "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428436-runmodalforwindow"
            },
            {
              "type": "text",
              "text": ", except with this method your code can do some additional work between method invocations. When you invoke this method, events for the "
            },
            {
              "type": "codeVoice",
              "code": "NSWindow"
            },
            {
              "type": "text",
              "text": " object of this session are dispatched as normal. This method returns when there are no more events. You must invoke this method frequently enough in your loop that the window remains responsive to events. However, you should not invoke this method in a tight loop because it returns immediately if there are no events, and consequently you could end up polling for events rather than blocking."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Typically, you use this method in situations where you want to do some additional processing on the current thread while the modal loop runs. For example, while processing a large data set, you might want to use a modal dialog to display progress and give the user a chance to cancel the operation. If you want to display a modal dialog and do not need to do any additional work in parallel, use "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428436-runmodalforwindow"
            },
            {
              "type": "text",
              "text": " instead. When there are no pending events, that method waits idly instead of consuming CPU time."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The following code shows a sample loop you can use in your code:"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "NSModalSession session = [NSApp beginModalSessionForWindow:theWindow];",
            "for (;;) {",
            "    if ([NSApp runModalSession:session] != NSModalResponseContinue)",
            "        break;",
            "    [self doSomeWork];",
            "}",
            "[NSApp endModalSession:session];"
          ],
          "syntax": "occ",
          "metadata": {
            "anchor": "2555525",
            "title": "Listing 1"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If the modal session was not stopped, this method returns "
            },
            {
              "type": "codeVoice",
              "code": "NSModalResponseContinue"
            },
            {
              "type": "text",
              "text": ". At this point, your app can do some work before the next invocation of "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428590-runmodalsession"
            },
            {
              "type": "text",
              "text": " (as indicated in the example’s "
            },
            {
              "type": "codeVoice",
              "code": "doSomeWork"
            },
            {
              "type": "text",
              "text": " call). If "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428489-stopmodal"
            },
            {
              "type": "text",
              "text": " was invoked as the result of event processing, "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428590-runmodalsession"
            },
            {
              "type": "text",
              "text": " returns "
            },
            {
              "type": "codeVoice",
              "code": "NSModalResponseStop"
            },
            {
              "type": "text",
              "text": ". If "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428748-stopmodalwithcode"
            },
            {
              "type": "text",
              "text": " was invoked, this method returns the value passed to "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428748-stopmodalwithcode"
            },
            {
              "type": "text",
              "text": ". If "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428753-abortmodal"
            },
            {
              "type": "text",
              "text": " was invoked, this method returns "
            },
            {
              "type": "codeVoice",
              "code": "NSModalResponseAbort"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The window is placed on the screen and made key as a result of the "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nsapplication/1428590-runmodalsession"
            },
            {
              "type": "text",
              "text": " message. Do not send a separate "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nswindow/1419208-makekeyandorderfront"
            },
            {
              "type": "text",
              "text": " message."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}