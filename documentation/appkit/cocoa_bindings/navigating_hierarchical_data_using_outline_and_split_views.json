{
  "abstract": [
    {
      "type": "text",
      "text": "Build a structured user interface that simplifies navigation in your app."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/appkit",
        "doc://com.apple.documentation/documentation/appkit/cocoa_bindings"
      ],
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/appkit",
        "doc://com.apple.documentation/documentation/appkit/views_and_controls",
        "doc://com.apple.documentation/documentation/appkit/views_and_controls/outline_view"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 3164499,
  "kind": "article",
  "metadata": {
    "title": "Navigating Hierarchical Data Using Outline and Split Views",
    "role": "sampleCode",
    "roleHeading": "Sample Code",
    "modules": [
      {
        "name": "AppKit"
      }
    ],
    "platforms": [
      {
        "name": "macOS",
        "introducedAt": "10.13",
        "current": "11.1"
      },
      {
        "name": "Xcode",
        "introducedAt": "11.3",
        "current": "12.3"
      }
    ]
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views",
        "documentation/appkit/views_and_controls/outline_view/navigating_hierarchical_data_using_outline_and_split_views"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views",
        "documentation/appkit/views_and_controls/outline_view/navigating_hierarchical_data_using_outline_and_split_views"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/appkit": {
      "title": "AppKit",
      "identifier": "doc://com.apple.documentation/documentation/appkit",
      "url": "/documentation/appkit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/appkit/cocoa_bindings": {
      "title": "Cocoa Bindings",
      "identifier": "doc://com.apple.documentation/documentation/appkit/cocoa_bindings",
      "url": "/documentation/appkit/cocoa_bindings",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/appkit/views_and_controls": {
      "title": "Views and Controls",
      "identifier": "doc://com.apple.documentation/documentation/appkit/views_and_controls",
      "url": "/documentation/appkit/views_and_controls",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/appkit/views_and_controls/outline_view": {
      "title": "Outline View",
      "identifier": "doc://com.apple.documentation/documentation/appkit/views_and_controls/outline_view",
      "url": "/documentation/appkit/views_and_controls/outline_view",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/appkit/nssplitview": {
      "title": "NSSplitView",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nssplitview",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nssplitview"
    },
    "doc://com.apple.documentation/documentation/appkit/nssplitviewitem": {
      "title": "NSSplitViewItem",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nssplitviewitem",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nssplitviewitem"
    },
    "link-media-3559082": {
      "identifier": "link-media-3559082",
      "type": "link",
      "title": "Figure 1",
      "url": "/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views#3559082"
    },
    "media-3559082": {
      "identifier": "media-3559082",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x"
          ],
          "size": {
            "width": 500,
            "height": 276
          },
          "url": "https://docs-assets.developer.apple.com/published/a469b2356f/rendered2x-1583949311.png"
        }
      ],
      "alt": "Image showing the split-view controllers on each side of the sample’s user interface.",
      "title": "Figure 1"
    },
    "link-media-3559083": {
      "identifier": "link-media-3559083",
      "type": "link",
      "title": "Figure 2",
      "url": "/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views#3559083"
    },
    "media-3559083": {
      "identifier": "media-3559083",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x"
          ],
          "size": {
            "width": 500,
            "height": 276
          },
          "url": "https://docs-assets.developer.apple.com/published/9c0b7d2080/rendered2x-1583949312.png"
        }
      ],
      "alt": "Image showing a lower holding priority for the split-view item on the right side.",
      "title": "Figure 2"
    },
    "doc://com.apple.documentation/documentation/appkit/nstreecontroller": {
      "title": "NSTreeController",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nstreecontroller",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nstreecontroller",
      "abstract": [
        {
          "type": "text",
          "text": "A bindings-compatible controller that manages a tree of objects. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views#3559085": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views#3559085",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views#3559085"
    },
    "doc://com.apple.documentation/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views#3559086": {
      "title": "Listing 2",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views#3559086",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views#3559086"
    },
    "doc://com.apple.documentation/documentation/appkit/drag_and_drop": {
      "title": "Drag and Drop",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/drag_and_drop",
      "kind": "article",
      "role": "collectionGroup",
      "url": "/documentation/appkit/drag_and_drop"
    },
    "doc://com.apple.documentation/documentation/appkit/nsfilepromiseprovider": {
      "title": "NSFilePromiseProvider",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsfilepromiseprovider",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsfilepromiseprovider"
    },
    "doc://com.apple.documentation/documentation/appkit/nsview/1483231-menuforevent": {
      "title": "menuForEvent:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsview/1483231-menuforevent",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsview/1483231-menuforevent",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "menuForEvent:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views#3559090": {
      "title": "Listing 3",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views#3559090",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views#3559090"
    },
    "doc://com.apple.documentation/documentation/appkit/nsuserinterfacevalidations": {
      "title": "NSUserInterfaceValidations",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsuserinterfacevalidations",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsuserinterfacevalidations"
    },
    "doc://com.apple.documentation/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views#3559091": {
      "title": "Listing 4",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views#3559091",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views#3559091"
    },
    "doc://com.apple.documentation/documentation/appkit/nsresponder/1526236-encoderestorablestatewithcoder": {
      "title": "encodeRestorableStateWithCoder:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsresponder/1526236-encoderestorablestatewithcoder",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsresponder/1526236-encoderestorablestatewithcoder",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "encodeRestorableStateWithCoder:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsresponder/1526253-restorestatewithcoder": {
      "title": "restoreStateWithCoder:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsresponder/1526253-restorestatewithcoder",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsresponder/1526253-restorestatewithcoder",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "restoreStateWithCoder:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views#3559093": {
      "title": "Listing 5",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views#3559093",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views#3559093"
    },
    "doc://com.apple.documentation/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views#3559094": {
      "title": "Listing 6",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views#3559094",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views#3559094"
    },
    "doc://com.apple.documentation/documentation/appkit/nsoutlineview": {
      "title": "NSOutlineView",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsoutlineview",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsoutlineview"
    },
    "doc://com.apple.documentation/documentation/appkit/nstableviewselectionhighlightstyle/nstableviewselectionhighlightstylesourcelist": {
      "title": "NSTableViewSelectionHighlightStyleSourceList",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nstableviewselectionhighlightstyle/nstableviewselectionhighlightstylesourcelist",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nstableviewselectionhighlightstyle/nstableviewselectionhighlightstylesourcelist"
    },
    "doc://com.apple.documentation/documentation/appkit/nssplitviewcontroller": {
      "title": "NSSplitViewController",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nssplitviewcontroller",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nssplitviewcontroller"
    },
    "doc://com.apple.documentation/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views": {
      "title": "Navigating Hierarchical Data Using Outline and Split Views",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views",
      "kind": "article",
      "role": "sampleCode",
      "url": "/documentation/appkit/cocoa_bindings/navigating_hierarchical_data_using_outline_and_split_views",
      "abstract": [
        {
          "type": "text",
          "text": "Build a structured user interface that simplifies navigation in your app."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nstreenode": {
      "title": "NSTreeNode",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nstreenode",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nstreenode",
      "abstract": [
        {
          "type": "text",
          "text": "A node in a tree of nodes."
        }
      ]
    },
    "https://docs-assets.developer.apple.com/published/d7b7372ddf/NavigatingHierarchicalDataUsingOutlineAndSplitViews.zip": {
      "type": "download",
      "identifier": "https://docs-assets.developer.apple.com/published/d7b7372ddf/NavigatingHierarchicalDataUsingOutlineAndSplitViews.zip",
      "checksum": "789ea1a837ff23a7586cba9df6793061d94cf60035b7f8eee6ef2bdbc0e54e11e9805a771d98dfea5dfa407cb5cf302baec755823ca403d5c0b4e50e0a75e87a",
      "url": "https://docs-assets.developer.apple.com/published/d7b7372ddf/NavigatingHierarchicalDataUsingOutlineAndSplitViews.zip"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "sampleCodeDownload": {
    "action": {
      "overridingTitle": "Download",
      "type": "reference",
      "isActive": true,
      "identifier": "https://docs-assets.developer.apple.com/published/d7b7372ddf/NavigatingHierarchicalDataUsingOutlineAndSplitViews.zip"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/appkit/nstreecontroller",
        "doc://com.apple.documentation/documentation/appkit/nstreenode"
      ],
      "title": "Tree-Based Data",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Just as a table view organizes a list of objects linearly, an outline view organizes objects hierarchically. When an app’s user interface becomes more complex, an outline format can help keep it organized."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This sample shows how to use "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nsoutlineview"
            },
            {
              "type": "text",
              "text": " to navigate hierarchical data. "
            },
            {
              "type": "codeVoice",
              "code": "NSOutlineView"
            },
            {
              "type": "text",
              "text": " is a Cocoa view that uses a row-and-column format. Rows are expanded and collapsed to control the amount of information presented.  The outline is a hierarchical list of images, grouped into containers. The hierarchy is predefined in the "
            },
            {
              "type": "codeVoice",
              "code": "DataSource.plist"
            },
            {
              "type": "text",
              "text": " file."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The outline view uses "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nstableviewselectionhighlightstyle/nstableviewselectionhighlightstylesourcelist"
            },
            {
              "type": "text",
              "text": ", for:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Row-selection indication in a lighter blue than the default color."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Group nodes that look similar to the Finder’s sidebar."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Blurred background content to add depth to your interface."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "It does this by setting the highlight appearance in the storyboard, but you can also configure it in code:"
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "codeVoice",
              "code": "outlineView.selectionHighlightStyle = .sourceList"
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When you use "
            },
            {
              "type": "codeVoice",
              "code": "NSOutlineView"
            },
            {
              "type": "text",
              "text": " with "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nssplitviewcontroller"
            },
            {
              "type": "text",
              "text": ", your app presents data in a master-detail format similar to that of the Xcode Project navigator or the Finder."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Configure the Split-View Controller",
          "anchor": "3559097"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "An outline view works well as part of a master-detail user interface. When the user selects an item from the outline view on the left, the detail view shows the results of the selection. For a master-detail configuration, use "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nssplitview"
            },
            {
              "type": "text",
              "text": ", which arranges two or more views in a linear stack running horizontally. Each view is embedded in its own "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nssplitviewitem"
            },
            {
              "type": "text",
              "text": ". In this sample project, the left split-view item is a view controller called "
            },
            {
              "type": "codeVoice",
              "code": "OutlineViewController"
            },
            {
              "type": "text",
              "text": ", and the right split-view item is called "
            },
            {
              "type": "codeVoice",
              "code": "DetailViewController"
            },
            {
              "type": "text",
              "text": ". The "
            },
            {
              "type": "codeVoice",
              "code": "OutlineViewController"
            },
            {
              "type": "text",
              "text": " class focuses on how to use "
            },
            {
              "type": "codeVoice",
              "code": "NSOutlineView"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "image",
              "identifier": "media-3559082",
              "metadata": {
                "anchor": "3559082",
                "title": "Figure 1"
              }
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "In a master-detail user interface, the list view on the left must remain the same size when the split view grows or shrinks, while the detail view on the right changes size. To implement this behavior, the app uses the "
            },
            {
              "type": "emphasis",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "holding priority"
                }
              ]
            },
            {
              "type": "text",
              "text": " on the split-view items: The view with the lowest holding priority is the first to take on additional width as the split view grows or shrinks. To keep the left split-view item from growing, set its holding priority to "
            },
            {
              "type": "codeVoice",
              "code": "200"
            },
            {
              "type": "text",
              "text": ", and set the item on the right side to "
            },
            {
              "type": "codeVoice",
              "code": "199"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "image",
              "identifier": "media-3559083",
              "metadata": {
                "anchor": "3559083",
                "title": "Figure 2"
              }
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Define Hierarchical Content with a Tree Controller",
          "anchor": "3559098"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nstreecontroller"
            },
            {
              "type": "text",
              "text": " class is the data source for the outline view. It acts as the controller when binding "
            },
            {
              "type": "codeVoice",
              "code": "NSOutlineView"
            },
            {
              "type": "text",
              "text": " to its hierarchical collection of objects. These objects represent "
            },
            {
              "type": "emphasis",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "nodes"
                }
              ]
            },
            {
              "type": "text",
              "text": ", which are implemented by the "
            },
            {
              "type": "codeVoice",
              "code": "Node"
            },
            {
              "type": "text",
              "text": " class."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This sample uses two kinds of nodes:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "URL based, representing a container or document found on disk."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Non-URL based, representing a container or document found in memory only."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A node can represent either a container or a document. A container node groups other nodes together. Each container node has its own unique identifier, whereas document nodes have an empty identifier with no children."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "class Node: NSObject, Codable {",
            "    var type: NodeType = .unknown",
            "    var title: String = \"\"",
            "    var identifier: String = \"\"",
            "    var url: URL?",
            "    @objc dynamic var children = [Node]()",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3559085",
            "title": "Listing 1"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": []
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The hierarchy consists of nodes read from the "
            },
            {
              "type": "codeVoice",
              "code": "DataSource.plist"
            },
            {
              "type": "text",
              "text": " file. Node objects adopt the "
            },
            {
              "type": "codeVoice",
              "code": "Decodable"
            },
            {
              "type": "text",
              "text": " protocol and are automatically created directly from the property list file."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "guard let newPlistURL = Bundle.main.url(forResource: \"DataSource\", withExtension: \"plist\") else {",
            "    fatalError(\"Failed to resolve URL for `DataSource.plist` in bundle.\")",
            "}",
            "do {",
            "    // Populate the outline view with the plist content.",
            "    struct OutlineData: Decodable {",
            "        let children: [Node]",
            "    }",
            "    // Decode the top-level children of the outline.",
            "    let plistDecoder = PropertyListDecoder()",
            "    let data = try Data(contentsOf: newPlistURL)",
            "    let decodedData = try plistDecoder.decode(OutlineData.self, from: data)",
            "    for node in decodedData.children {",
            "        // Recursively add further content from the given node.",
            "        addNode(node)",
            "        if node.type == .container {",
            "            selectParentFromSelection()",
            "        }",
            "    }",
            "} catch {",
            "    fatalError(\"Failed to load `DataSource.plist` in bundle.\")",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3559086",
            "title": "Listing 2"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": []
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Handle Drag and Drop",
          "anchor": "3559099"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Users drag and drop nodes from within the outline view to rearrange them, or drag nodes representing images out to other apps. Users may also drag in image files from the Finder, Photos, Mail, or Safari. For more information, see "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/appkit/drag_and_drop"
            },
            {
              "type": "text",
              "text": ". This sample shows how to create promise drags by dragging out a copy of an image file using "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nsfilepromiseprovider"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Add a Contextual Menu",
          "anchor": "3559100"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The outline view uses contextual menus, or "
            },
            {
              "type": "emphasis",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "shortcut menus"
                }
              ]
            },
            {
              "type": "text",
              "text": ", that provide access to frequently used commands. Control-clicking or right-clicking an outline view node opens its contextual menu. The "
            },
            {
              "type": "codeVoice",
              "code": "NSOutlineView"
            },
            {
              "type": "text",
              "text": " "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nsview/1483231-menuforevent"
            },
            {
              "type": "text",
              "text": " function creates these contextual menus. Override this function with the "
            },
            {
              "type": "codeVoice",
              "code": "NSOutlineView"
            },
            {
              "type": "text",
              "text": " subclass to return a contextual menu. The contextual menu operations are add, remove, and rename."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Integrate with the Edit Menu",
          "anchor": "3559101"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You can use the Edit menu to directly affect the contents of the outline view. This sample adds a Delete menu item for deleting items from the outline view. "
            },
            {
              "type": "codeVoice",
              "code": "OutlineViewController"
            },
            {
              "type": "text",
              "text": " implements the "
            },
            {
              "type": "codeVoice",
              "code": "IBAction"
            },
            {
              "type": "text",
              "text": " delete function, so the user can choose the menu item or press the delete key."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "// User chose the Delete menu item or pressed the delete key.",
            "@IBAction func delete(_ sender: AnyObject) {",
            "    removeItems()",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3559090",
            "title": "Listing 3"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": []
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You use the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nsuserinterfacevalidations"
            },
            {
              "type": "text",
              "text": " protocol to enable or disable the Delete menu item based on the selection shown in the outline view."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "func validateUserInterfaceItem(_ item: NSValidatedUserInterfaceItem) -> Bool {",
            "    if item.action == #selector(delete(_:)) {",
            "        return !treeController.selectedObjects.isEmpty",
            "    }",
            "    return true",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3559091",
            "title": "Listing 4"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": []
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Restore the Outline View",
          "anchor": "3559102"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This sample saves and restores:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "The outline view’s selection."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "The disclosure state of each container node."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You use the window restoration system’s "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nsresponder/1526236-encoderestorablestatewithcoder"
            },
            {
              "type": "text",
              "text": " function to save the outline view’s node selection. The next time the app is launched, use "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nsresponder/1526253-restorestatewithcoder"
            },
            {
              "type": "text",
              "text": " to restore that selection."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When the outline view saves the disclosure states, it encodes each container as an archived object by using the "
            },
            {
              "type": "codeVoice",
              "code": "persistentObjectForItem"
            },
            {
              "type": "text",
              "text": " function."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "func outlineView(_ outlineView: NSOutlineView, persistentObjectForItem item: Any?) -> Any? {",
            "    let node = OutlineViewController.node(from: item!)",
            "    return node?.identifier // Outgoing object is the identifier.",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3559093",
            "title": "Listing 5"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": []
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When the outline view restores the disclosure states, it calls this function for each one, to translate the archived object to an outline view item:"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "func outlineView(_ outlineView: NSOutlineView, itemForPersistentObject object: Any) -> Any? {",
            "    let node = nodeFromIdentifier(anObject: object)  // Incoming object is the identifier.",
            "    return node",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3559094",
            "title": "Listing 6"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": []
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}