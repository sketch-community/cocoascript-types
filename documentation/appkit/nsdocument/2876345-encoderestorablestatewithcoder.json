{
  "abstract": [
    {
      "type": "text",
      "text": "Saves the interface-related state of the document."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/appkit",
        "doc://com.apple.documentation/documentation/appkit/documents_data_and_pasteboard",
        "doc://com.apple.documentation/documentation/appkit/nsdocument"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/appkit/nsdocument/2876345-encoderestorablestatewithcoder",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 2876345,
  "kind": "symbol",
  "metadata": {
    "title": "encodeRestorableStateWithCoder:backgroundQueue:",
    "role": "symbol",
    "roleHeading": "Instance Method",
    "modules": [
      {
        "name": "AppKit"
      }
    ],
    "platforms": [
      {
        "name": "macOS",
        "introducedAt": "10.13",
        "current": "11.1"
      }
    ],
    "externalID": "c:objc(cs)NSDocument(im)encodeRestorableStateWithCoder:backgroundQueue:",
    "symbolKind": "instm"
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/appkit/nsdocument/2876345-encoderestorablestatewithcoder"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/appkit/nsdocument/2876345-encoderestorablestate"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/appkit": {
      "title": "AppKit",
      "identifier": "doc://com.apple.documentation/documentation/appkit",
      "url": "/documentation/appkit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/appkit/documents_data_and_pasteboard": {
      "title": "Documents, Data, and Pasteboard",
      "identifier": "doc://com.apple.documentation/documentation/appkit/documents_data_and_pasteboard",
      "url": "/documentation/appkit/documents_data_and_pasteboard",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/appkit/nsdocument": {
      "title": "NSDocument",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsdocument",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsdocument",
      "abstract": [
        {
          "type": "text",
          "text": "An abstract class that defines the interface for macOS documents. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsview": {
      "title": "NSView",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsview",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsview"
    },
    "doc://com.apple.documentation/documentation/appkit/nswindow": {
      "title": "NSWindow",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nswindow",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nswindow"
    },
    "doc://com.apple.documentation/documentation/appkit/nstabview": {
      "title": "NSTabView",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nstabview",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nstabview"
    },
    "devLink-1695370": {
      "identifier": "devLink-1695370",
      "type": "link",
      "title": "Archives and Serializations Programming Guide",
      "url": "https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Archiving/Archiving.html#//apple_ref/doc/uid/10000047i"
    },
    "doc://com.apple.documentation/documentation/foundation/nscoder": {
      "title": "NSCoder",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscoder",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscoder"
    },
    "doc://com.apple.documentation/documentation/foundation/nsoperationqueue": {
      "title": "NSOperationQueue",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsoperationqueue",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsoperationqueue"
    },
    "doc://com.apple.documentation/documentation/appkit/nsdocument/1515049-showwindows": {
      "title": "showWindows",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsdocument/1515049-showwindows",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsdocument/1515049-showwindows",
      "abstract": [
        {
          "type": "text",
          "text": "Displays all of the document’s windows, bringing them to the front and making them main or key as necessary."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "showWindows"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsdocument/1515217-setwindow": {
      "title": "setWindow:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsdocument/1515217-setwindow",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsdocument/1515217-setwindow",
      "abstract": [
        {
          "type": "text",
          "text": "Sets the window outlet of this document to the specified value. "
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "setWindow:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsdocument/1515064-windowforsheet": {
      "title": "windowForSheet",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsdocument/1515064-windowforsheet",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsdocument/1515064-windowforsheet",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the document window to use as the parent of a document-modal sheet."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsdocument/1515077-displayname": {
      "title": "displayName",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsdocument/1515077-displayname",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsdocument/1515077-displayname",
      "abstract": [
        {
          "type": "text",
          "text": "The name of the document as displayed in the title bars of the document’s windows and in alert dialogs related to the document."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsdocument/1515143-setdisplayname": {
      "title": "setDisplayName:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsdocument/1515143-setdisplayname",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsdocument/1515143-setdisplayname",
      "abstract": [
        {
          "type": "text",
          "text": "Sets the name of this document for presentation to the user."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "setDisplayName:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsdocument/1515245-defaultdraftname": {
      "title": "defaultDraftName",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsdocument/1515245-defaultdraftname",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsdocument/1515245-defaultdraftname",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the default draft name for the document subclass."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "defaultDraftName"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsdocument/2876345-encoderestorablestatewithcoder": {
      "title": "encodeRestorableStateWithCoder:backgroundQueue:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsdocument/2876345-encoderestorablestatewithcoder",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsdocument/2876345-encoderestorablestatewithcoder",
      "abstract": [
        {
          "type": "text",
          "text": "Saves the interface-related state of the document."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "encodeRestorableStateWithCoder:backgroundQueue:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/appkit/nsdocument/1515049-showwindows",
        "doc://com.apple.documentation/documentation/appkit/nsdocument/1515217-setwindow",
        "doc://com.apple.documentation/documentation/appkit/nsdocument/1515064-windowforsheet",
        "doc://com.apple.documentation/documentation/appkit/nsdocument/1515077-displayname",
        "doc://com.apple.documentation/documentation/appkit/nsdocument/1515143-setdisplayname",
        "doc://com.apple.documentation/documentation/appkit/nsdocument/1515245-defaultdraftname"
      ],
      "title": "Managing Document Windows",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "text",
              "text": "- ("
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "identifier",
              "text": "encodeRestorableStateWithCoder:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSCoder",
              "identifier": "doc://com.apple.documentation/documentation/foundation/nscoder",
              "text": "NSCoder"
            },
            {
              "kind": "text",
              "text": " *"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "coder"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "backgroundQueue:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSOperationQueue",
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsoperationqueue",
              "text": "NSOperationQueue"
            },
            {
              "kind": "text",
              "text": " *"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "queue"
            },
            {
              "kind": "text",
              "text": ";"
            }
          ],
          "platforms": [
            "macOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "coder",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The coder object in which to save the responder’s interface-related state."
                }
              ]
            }
          ]
        },
        {
          "name": "queue",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A serial background operation queue on which to encode additional state asynchronously.  "
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This method is part of the window restoration system and is called at appropriate times to save the visual state of your responder to the specified archive. The default implementation of this method does nothing but specific subclasses (such as "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nsview"
            },
            {
              "type": "text",
              "text": " and "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nswindow"
            },
            {
              "type": "text",
              "text": ") override it to save important state information. Therefore, if you override this method, always call "
            },
            {
              "type": "codeVoice",
              "code": "super"
            },
            {
              "type": "text",
              "text": " at some point in your implementation."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Subclasses can override this method and use it to restore any information that would be needed to restore the responder to its current state. For example, the "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nstabview"
            },
            {
              "type": "text",
              "text": " class uses this method to save information about the currently selected tab. You must store enough data to reconfigure the responder and return it to its current state during a subsequent launch of the application."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "AppKit calls this method on your app's main thread. If you want to encode any state information asynchronously on a background thread, submit one or more operation objects to the provided "
            },
            {
              "type": "codeVoice",
              "code": "queue"
            },
            {
              "type": "text",
              "text": ". Performing long-running operations asynchronously lets you free up the main thread for other operations more quickly. The encoding operation is not considered final until all operations submitted to "
            },
            {
              "type": "codeVoice",
              "code": "queue"
            },
            {
              "type": "text",
              "text": " finish. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For information about using a coder object to write data to an archive, see "
            },
            {
              "type": "link",
              "title": "Archives and Serializations Programming Guide",
              "destination": "https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Archiving/Archiving.html#//apple_ref/doc/uid/10000047i"
            },
            {
              "type": "text",
              "text": ". "
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}