{
  "abstract": [
    {
      "type": "text",
      "text": "Saves the interface-related state of the document."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/appkit",
        "doc://com.apple.documentation/documentation/appkit/documents_data_and_pasteboard",
        "doc://com.apple.documentation/documentation/appkit/nsdocument"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/appkit/nsdocument/1526257-encoderestorablestatewithcoder",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1526257,
  "kind": "symbol",
  "metadata": {
    "title": "encodeRestorableStateWithCoder:",
    "role": "symbol",
    "roleHeading": "Instance Method",
    "modules": [
      {
        "name": "AppKit"
      }
    ],
    "platforms": [
      {
        "name": "macOS",
        "introducedAt": "10.7",
        "current": "12.1"
      }
    ],
    "externalID": "c:objc(cs)NSDocument(im)encodeRestorableStateWithCoder:",
    "parent": {
      "title": "NSDocument"
    },
    "symbolKind": "instm"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/appkit/nsdocument/1526257-encoderestorablestatewithcoder"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/appkit/nsdocument/1526257-encoderestorablestate"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/appkit": {
      "title": "AppKit",
      "identifier": "doc://com.apple.documentation/documentation/appkit",
      "url": "/documentation/appkit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/appkit/documents_data_and_pasteboard": {
      "title": "Documents, Data, and Pasteboard",
      "identifier": "doc://com.apple.documentation/documentation/appkit/documents_data_and_pasteboard",
      "url": "/documentation/appkit/documents_data_and_pasteboard",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/appkit/nsdocument": {
      "title": "NSDocument",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsdocument",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsdocument",
      "abstract": [
        {
          "type": "text",
          "text": "An abstract class that defines the interface for macOS documents. "
        }
      ]
    },
    "devLink-1695370": {
      "identifier": "devLink-1695370",
      "type": "link",
      "title": "Archives and Serializations Programming Guide",
      "url": "https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Archiving/Archiving.html#//apple_ref/doc/uid/10000047i"
    },
    "doc://com.apple.documentation/documentation/appkit/nsdocument/1526237-restorestatewithcoder": {
      "title": "restoreStateWithCoder:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsdocument/1526237-restorestatewithcoder",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsdocument/1526237-restorestatewithcoder",
      "abstract": [
        {
          "type": "text",
          "text": "Restores the interface-related state of the document."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "restoreStateWithCoder:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nscoder": {
      "title": "NSCoder",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscoder",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscoder"
    },
    "doc://com.apple.documentation/documentation/appkit/nsdocument/3762522-allowedclassesforrestorablestate": {
      "title": "allowedClassesForRestorableStateKeyPath:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsdocument/3762522-allowedclassesforrestorablestate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsdocument/3762522-allowedclassesforrestorablestate",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the classes that support secure coding."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "+ "
        },
        {
          "kind": "identifier",
          "text": "allowedClassesForRestorableStateKeyPath:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsdocument/1526257-encoderestorablestatewithcoder": {
      "title": "encodeRestorableStateWithCoder:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsdocument/1526257-encoderestorablestatewithcoder",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsdocument/1526257-encoderestorablestatewithcoder",
      "abstract": [
        {
          "type": "text",
          "text": "Saves the interface-related state of the document."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "encodeRestorableStateWithCoder:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsdocument/1526232-restorablestatekeypaths": {
      "title": "restorableStateKeyPaths",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsdocument/1526232-restorablestatekeypaths",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsdocument/1526232-restorablestatekeypaths",
      "abstract": [
        {
          "type": "text",
          "text": "Returns an array of key paths that represent the restorable attributes of the document."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsdocument/1526250-invalidaterestorablestate": {
      "title": "invalidateRestorableState",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsdocument/1526250-invalidaterestorablestate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsdocument/1526250-invalidaterestorablestate",
      "abstract": [
        {
          "type": "text",
          "text": "Marks the documentâ€™s interface-related state as dirty. "
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "invalidateRestorableState"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nsdocument/1524586-restoredocumentwindowwithidentif": {
      "title": "restoreDocumentWindowWithIdentifier:state:completionHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsdocument/1524586-restoredocumentwindowwithidentif",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsdocument/1524586-restoredocumentwindowwithidentif",
      "abstract": [
        {
          "type": "text",
          "text": "Restores a window that was associated with a document, after that document is reopened."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "restoreDocumentWindowWithIdentifier:state:completionHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/appkit/nsdocument/3762522-allowedclassesforrestorablestate",
        "doc://com.apple.documentation/documentation/appkit/nsdocument/1526237-restorestatewithcoder",
        "doc://com.apple.documentation/documentation/appkit/nsdocument/1526232-restorablestatekeypaths",
        "doc://com.apple.documentation/documentation/appkit/nsdocument/1526250-invalidaterestorablestate",
        "doc://com.apple.documentation/documentation/appkit/nsdocument/1524586-restoredocumentwindowwithidentif"
      ],
      "title": "Handling Window Restoration",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "text",
              "text": "- ("
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "identifier",
              "text": "encodeRestorableStateWithCoder:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSCoder",
              "identifier": "doc://com.apple.documentation/documentation/foundation/nscoder",
              "text": "NSCoder"
            },
            {
              "kind": "text",
              "text": " *"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "coder"
            },
            {
              "kind": "text",
              "text": ";"
            }
          ],
          "platforms": [
            "macOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "coder",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The coder object in which to save the documentâ€™s interface-related state."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This method is part of the window restoration system and is called at appropriate times to save your documentâ€™s window-related state information to the specified archive. The default implementation of this method records some basic information about the document. If you override this method, you must call "
            },
            {
              "type": "codeVoice",
              "code": "super"
            },
            {
              "type": "text",
              "text": " at some point in your implementation."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Subclasses can override this method and use it to restore any information that would be needed to restore the documentâ€™s window to its current state. For example, you could use this method to record references to the data currently managed by the document and displayed by the window. (Do not store the actual data itself. Store only references to the data so that you can load it later from disk.) You must store enough data to reconfigure the document and its window to their current state during a subsequent launch of the app."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For information about using a coder object to write data to an archive, see "
            },
            {
              "type": "link",
              "title": "Archives and Serializations Programming Guide",
              "destination": "https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/Archiving/Archiving.html#//apple_ref/doc/uid/10000047i"
            },
            {
              "type": "text",
              "text": ". "
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}