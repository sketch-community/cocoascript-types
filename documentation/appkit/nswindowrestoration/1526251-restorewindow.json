{
  "abstract": [
    {
      "type": "text",
      "text": "Asks the class to provide a new window for the specified identifier. "
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/appkit",
        "doc://com.apple.documentation/documentation/appkit/windows_panels_and_screens",
        "doc://com.apple.documentation/documentation/appkit/nswindowrestoration"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/appkit/nswindowrestoration/1526251-restorewindow",
    "interfaceLanguage": "swift"
  },
  "legacy_identifier": 1526251,
  "kind": "symbol",
  "metadata": {
    "title": "restoreWindow(withIdentifier:state:completionHandler:)",
    "role": "symbol",
    "roleHeading": "Type Method",
    "modules": [
      {
        "name": "AppKit"
      }
    ],
    "required": true,
    "platforms": [
      {
        "name": "macOS",
        "introducedAt": "10.7",
        "current": "12.1"
      }
    ],
    "externalID": "c:objc(pl)NSWindowRestoration(cm)restoreWindowWithIdentifier:state:completionHandler:",
    "parent": {
      "title": "NSWindowRestoration"
    },
    "symbolKind": "intfcm",
    "fragments": [
      {
        "kind": "text",
        "text": "static func "
      },
      {
        "kind": "identifier",
        "text": "restoreWindow"
      },
      {
        "kind": "text",
        "text": "("
      },
      {
        "kind": "identifier",
        "text": "withIdentifier"
      },
      {
        "kind": "text",
        "text": ": NSUserInterfaceItemIdentifier, "
      },
      {
        "kind": "identifier",
        "text": "state"
      },
      {
        "kind": "text",
        "text": ": NSCoder, "
      },
      {
        "kind": "identifier",
        "text": "completionHandler"
      },
      {
        "kind": "text",
        "text": ": (NSWindow?, Error?) -> Void)"
      }
    ]
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/appkit/nswindowrestoration/1526251-restorewindowwithidentifier"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/appkit/nswindowrestoration/1526251-restorewindow"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/appkit": {
      "title": "AppKit",
      "identifier": "doc://com.apple.documentation/documentation/appkit",
      "url": "/documentation/appkit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/appkit/windows_panels_and_screens": {
      "title": "Windows, Panels, and Screens",
      "identifier": "doc://com.apple.documentation/documentation/appkit/windows_panels_and_screens",
      "url": "/documentation/appkit/windows_panels_and_screens",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/appkit/nswindowrestoration": {
      "title": "NSWindowRestoration",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nswindowrestoration",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nswindowrestoration",
      "abstract": [
        {
          "type": "text",
          "text": "A set of methods that restoration classes must implement to handle the recreation of windows. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/appkit/nswindowrestoration/1526251-restorewindow#3807763": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nswindowrestoration/1526251-restorewindow#3807763",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/appkit/nswindowrestoration/1526251-restorewindow#3807763"
    },
    "doc://com.apple.documentation/documentation/swift/calling_objective-c_apis_asynchronously": {
      "title": "Calling Objective-C APIs Asynchronously",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/swift/calling_objective-c_apis_asynchronously",
      "kind": "article",
      "role": "article",
      "url": "/documentation/swift/calling_objective-c_apis_asynchronously"
    },
    "devLink-1744465": {
      "identifier": "devLink-1744465",
      "type": "link",
      "title": "Mac App Programming Guide",
      "url": "https://developer.apple.com/library/archive/documentation/General/Conceptual/MOSXAppProgrammingGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40010543"
    },
    "doc://com.apple.documentation/documentation/appkit/nsuserinterfaceitemidentifier": {
      "title": "NSUserInterfaceItemIdentifier",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsuserinterfaceitemidentifier",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsuserinterfaceitemidentifier"
    },
    "doc://com.apple.documentation/documentation/foundation/nscoder": {
      "title": "NSCoder",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nscoder",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nscoder"
    },
    "doc://com.apple.documentation/documentation/appkit/nswindow": {
      "title": "NSWindow",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nswindow",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nswindow"
    },
    "doc://com.apple.documentation/documentation/swift/error": {
      "title": "Error",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/swift/error",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/swift/error"
    },
    "doc://com.apple.documentation/documentation/swift/void": {
      "title": "Void",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/swift/void",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/swift/void"
    },
    "doc://com.apple.documentation/documentation/appkit/nswindowrestoration/1526251-restorewindow": {
      "title": "restoreWindow(withIdentifier:state:completionHandler:)",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nswindowrestoration/1526251-restorewindow",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nswindowrestoration/1526251-restorewindow",
      "required": true,
      "abstract": [
        {
          "type": "text",
          "text": "Asks the class to provide a new window for the specified identifier. "
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "static func "
        },
        {
          "kind": "identifier",
          "text": "restoreWindow"
        },
        {
          "kind": "text",
          "text": "("
        },
        {
          "kind": "identifier",
          "text": "withIdentifier"
        },
        {
          "kind": "text",
          "text": ": NSUserInterfaceItemIdentifier, "
        },
        {
          "kind": "identifier",
          "text": "state"
        },
        {
          "kind": "text",
          "text": ": NSCoder, "
        },
        {
          "kind": "identifier",
          "text": "completionHandler"
        },
        {
          "kind": "text",
          "text": ": (NSWindow?, Error?) -> Void)"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "title": "Related Documentation",
      "generated": false,
      "identifiers": [
        "devLink-1744465"
      ]
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "swift"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "static"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "keyword",
              "text": "func"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "restoreWindow"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "externalParam",
              "text": "withIdentifier"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "internalParam",
              "text": "identifier"
            },
            {
              "kind": "text",
              "text": ": "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@NSUserInterfaceItemIdentifier",
              "identifier": "doc://com.apple.documentation/documentation/appkit/nsuserinterfaceitemidentifier",
              "text": "NSUserInterfaceItemIdentifier"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "kind": "externalParam",
              "text": "state"
            },
            {
              "kind": "text",
              "text": ": "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSCoder",
              "identifier": "doc://com.apple.documentation/documentation/foundation/nscoder",
              "text": "NSCoder"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "kind": "externalParam",
              "text": "completionHandler"
            },
            {
              "kind": "text",
              "text": ": "
            },
            {
              "kind": "keyword",
              "text": "@escaping"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSWindow",
              "identifier": "doc://com.apple.documentation/documentation/appkit/nswindow",
              "text": "NSWindow"
            },
            {
              "kind": "text",
              "text": "?"
            },
            {
              "kind": "text",
              "text": ", "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "s:s5ErrorP",
              "identifier": "doc://com.apple.documentation/documentation/swift/error",
              "text": "Error"
            },
            {
              "kind": "text",
              "text": "?"
            },
            {
              "kind": "text",
              "text": ") -> "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "s:s4Voida",
              "identifier": "doc://com.apple.documentation/documentation/swift/void",
              "text": "Void"
            },
            {
              "kind": "text",
              "text": ")"
            }
          ],
          "platforms": [
            "macOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "swift"
      ],
      "parameters": [
        {
          "name": "identifier",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The unique interface item identifier string that was previously associated with the window. Use this string to determine which window to create."
                }
              ]
            }
          ]
        },
        {
          "name": "state",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A coder object containing the window state information. This coder object contains the combined restorable state of the window, which can include the state of the window, its delegate, window controller, and document object. You can use this state to determine which window to create."
                }
              ]
            }
          ]
        },
        {
          "name": "completionHandler",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A Block object to execute with the results of creating the window. You must execute this block at some point but may do so after the method returns if needed. This block takes the following parameters:"
                }
              ]
            },
            {
              "type": "unorderedList",
              "items": [
                {
                  "content": [
                    {
                      "type": "paragraph",
                      "inlineContent": [
                        {
                          "type": "text",
                          "text": "The window that was created or "
                        },
                        {
                          "type": "codeVoice",
                          "code": "nil"
                        },
                        {
                          "type": "text",
                          "text": " if the window could not be created."
                        }
                      ]
                    }
                  ]
                },
                {
                  "content": [
                    {
                      "type": "paragraph",
                      "inlineContent": [
                        {
                          "type": "text",
                          "text": "An error object if the window was not recognized or could not be created for whatever reason; otherwise, specify "
                        },
                        {
                          "type": "codeVoice",
                          "code": "nil"
                        },
                        {
                          "type": "text",
                          "text": "."
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "You can call this method from synchronous code using a completion handler, as shown on this page, or you can call it as an asynchronous method that has the following declaration:"
                }
              ]
            },
            {
              "type": "codeListing",
              "code": [
                "static func restoreWindow(withIdentifier identifier: NSUserInterfaceItemIdentifier, state: NSCoder) async throws -> NSWindow"
              ],
              "syntax": "swift",
              "metadata": {
                "anchor": "3807763",
                "title": "Listing 1"
              }
            },
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "For information about concurrency and asynchronous code in Swift, see "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/swift/calling_objective-c_apis_asynchronously"
                },
                {
                  "type": "text",
                  "text": "."
                }
              ]
            }
          ],
          "style": "important",
          "name": "Concurrency Note"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "At launch time, the application object uses this method to recreate a window that was preserved during a previous running of your application. Your implementation of this method can use the "
            },
            {
              "type": "codeVoice",
              "code": "identifier"
            },
            {
              "type": "text",
              "text": " string and the data in the "
            },
            {
              "type": "codeVoice",
              "code": "state"
            },
            {
              "type": "text",
              "text": " coder object to determine the type of window and associated objects to create. You only need to create the window. You do not need to restore the configuration of the window using the provided state. AppKit does that for you when you execute the completion handler with a valid window.  "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For windows that your restoration class recognizes, create (or obtain) the window object and execute the completion handler, passing the window to it. If your restoration class does not recognize the window, or recognizes it but cannot recreate it for whatever reason, pass an error object to the completion handler instead. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If you plan to invoke "
            },
            {
              "type": "codeVoice",
              "code": "completionHandler"
            },
            {
              "type": "text",
              "text": " after this method returns, you must copy the Block object yourself and release it when you are done with it. For example, you can copy the block and submit it to a queue for execution, after which you can release the block. "
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}