{
  "abstract": [
    {
      "type": "text",
      "text": "Learn how to set up nodes for collision detection. "
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/spritekit",
        "doc://com.apple.documentation/documentation/spritekit/skphysicsbody"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/about_collisions_and_contacts",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 2985038,
  "kind": "article",
  "metadata": {
    "title": "About Collisions and Contacts",
    "role": "article",
    "roleHeading": "Article",
    "modules": [
      {
        "name": "SpriteKit"
      }
    ]
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/spritekit/skphysicsbody/about_collisions_and_contacts"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/spritekit/skphysicsbody/about_collisions_and_contacts"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/spritekit": {
      "title": "SpriteKit",
      "identifier": "doc://com.apple.documentation/documentation/spritekit",
      "url": "/documentation/spritekit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/spritekit/skphysicsbody": {
      "title": "SKPhysicsBody",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/skphysicsbody",
      "url": "/documentation/spritekit/skphysicsbody",
      "type": "topic",
      "kind": "symbol",
      "role": "symbol"
    },
    "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/1520003-collisionbitmask": {
      "title": "collisionBitMask",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/1520003-collisionbitmask",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/spritekit/skphysicsbody/1520003-collisionbitmask",
      "abstract": [
        {
          "type": "text",
          "text": "A mask that defines which categories of physics bodies can collide with this physics body."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/1519869-categorybitmask": {
      "title": "categoryBitMask",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/1519869-categorybitmask",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/spritekit/skphysicsbody/1519869-categorybitmask",
      "abstract": [
        {
          "type": "text",
          "text": "A mask that defines which categories this physics body belongs to."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/about_collisions_and_contacts#3109123": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/about_collisions_and_contacts#3109123",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/spritekit/skphysicsbody/about_collisions_and_contacts#3109123"
    },
    "link-media-3109124": {
      "identifier": "link-media-3109124",
      "type": "link",
      "title": "Figure 1",
      "url": "/documentation/spritekit/skphysicsbody/about_collisions_and_contacts#3109124"
    },
    "media-3109124": {
      "identifier": "media-3109124",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x"
          ],
          "size": {
            "width": 320,
            "height": 179
          },
          "url": "https://docs-assets.developer.apple.com/published/f17067835d/03af6cac-42d5-4623-9073-4cb079d49e70.png"
        }
      ],
      "alt": "Paths taken by nodes with different collision bit masks",
      "title": "Figure 1"
    },
    "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/about_collisions_and_contacts": {
      "title": "About Collisions and Contacts",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/about_collisions_and_contacts",
      "kind": "article",
      "role": "article",
      "url": "/documentation/spritekit/skphysicsbody/about_collisions_and_contacts",
      "abstract": [
        {
          "type": "text",
          "text": "Learn how to set up nodes for collision detection. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/1520014-usesprecisecollisiondetection": {
      "title": "usesPreciseCollisionDetection",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/1520014-usesprecisecollisiondetection",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/spritekit/skphysicsbody/1520014-usesprecisecollisiondetection",
      "abstract": [
        {
          "type": "text",
          "text": "A Boolean value that determines whether the physics world uses an iterative collision detection algorithm."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/1519781-contacttestbitmask": {
      "title": "contactTestBitMask",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/1519781-contacttestbitmask",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/spritekit/skphysicsbody/1519781-contacttestbitmask",
      "abstract": [
        {
          "type": "text",
          "text": "A mask that defines which categories of physics bodies cause intersection notifications with this physics body."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/1520397-allcontactedbodies": {
      "title": "allContactedBodies",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/1520397-allcontactedbodies",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/spritekit/skphysicsbody/1520397-allcontactedbodies",
      "abstract": [
        {
          "type": "text",
          "text": "The physics bodies that this physics body is in contact with."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "allContactedBodies"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/1519869-categorybitmask",
        "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/1520003-collisionbitmask",
        "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/1520014-usesprecisecollisiondetection",
        "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/1519781-contacttestbitmask",
        "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/1520397-allcontactedbodies"
      ],
      "title": "Working with Collisions and Contacts",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "SpriteKit supports two kinds of interaction between physics bodies that come into contact or attempt to occupy the same space:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "A "
                    },
                    {
                      "type": "emphasis",
                      "inlineContent": [
                        {
                          "type": "text",
                          "text": "contact"
                        }
                      ]
                    },
                    {
                      "type": "text",
                      "text": " is used when you need to know that two bodies are touching each other. In most cases, you use contacts when you need to make gameplay changes when a collision occurs."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "A "
                    },
                    {
                      "type": "emphasis",
                      "inlineContent": [
                        {
                          "type": "text",
                          "text": "collision"
                        }
                      ]
                    },
                    {
                      "type": "text",
                      "text": " is used to prevent two objects from interpenetrating each other. When one body strikes another body, SpriteKit automatically computes the results of the collision and applies impulse to the bodies in the collision."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": []
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Interaction Limits",
          "anchor": "3109122"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Your game configures the physics bodies in the scene to determine when collisions should occur and when interactions between physics bodies require additional game logic to be performed. Limiting these interactions is not only important for defining your game’s logic, it is also necessary in order to get good performance from SpriteKit. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "SpriteKit uses two mechanisms to limit the number of interactions in each frame:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Edge-based physics bodies never interact with other edge-based physics bodies. This means that even if you move them by repositioning the nodes, edge-based physics bodies never collide or contact each other."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Every physics body is categorized. Categories are defined by your app; each scene can have up to 32 categories. When you configure a physics body, you define which categories it belongs to and which categories of bodies it should interact with. You define contacts and collisions separately."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The following code creates a red and a blue ball, and a ground object constructed from a series of points. By giving the red ball a "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/1520003-collisionbitmask"
            },
            {
              "type": "text",
              "text": " that matches the ground’s "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/1519869-categorybitmask"
            },
            {
              "type": "text",
              "text": ", you make the red ball bounce off the ground. However, the blue ball’s "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/spritekit/skphysicsbody/1520003-collisionbitmask"
            },
            {
              "type": "text",
              "text": " is set to a different value and doesn’t interact with the ground."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "let ballRadius: CGFloat = 20",
            "let redBall = SKShapeNode(circleOfRadius: ballRadius)",
            "redBall.fillColor = .red",
            "redBall.position = CGPoint(x: 280, y: 320)",
            "redBall.physicsBody = SKPhysicsBody(circleOfRadius: ballRadius)",
            "",
            "let blueBall = SKShapeNode(circleOfRadius: ballRadius)",
            "blueBall.fillColor = .blue",
            "blueBall.position = CGPoint(x: 360, y: 320)",
            "blueBall.physicsBody = SKPhysicsBody(circleOfRadius: ballRadius)",
            "",
            "var splinePoints = [CGPoint(x: 0, y: 300),",
            "                    CGPoint(x: 100, y: 50),",
            "                    CGPoint(x: 400, y: 110),",
            "                    CGPoint(x: 640, y: 20)]",
            "let ground = SKShapeNode(splinePoints: &splinePoints,",
            "                         count: splinePoints.count)",
            "ground.physicsBody = SKPhysicsBody(edgeChainFrom: ground.path!)",
            "ground.physicsBody?.restitution = 0.75",
            "",
            "redBall.physicsBody?.collisionBitMask = 0b0001",
            "blueBall.physicsBody?.collisionBitMask = 0b0010",
            "ground.physicsBody?.categoryBitMask = 0b0001"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3109123",
            "title": "Listing 1"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The following image shows the paths taken by both balls when the code above is executed. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "image",
              "identifier": "media-3109124",
              "metadata": {
                "anchor": "3109124",
                "title": "Figure 1"
              }
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}