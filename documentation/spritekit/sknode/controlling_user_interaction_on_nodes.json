{
  "abstract": [
    {
      "type": "text",
      "text": "Enable your node to respond to user input, like touches or mouse clicks. "
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/spritekit",
        "doc://com.apple.documentation/documentation/spritekit/nodes_for_scene_building",
        "doc://com.apple.documentation/documentation/spritekit/sknode"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/spritekit/sknode/controlling_user_interaction_on_nodes",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 2985124,
  "kind": "article",
  "metadata": {
    "title": "Controlling User Interaction on Nodes",
    "role": "article",
    "roleHeading": "Article",
    "modules": [
      {
        "name": "SpriteKit"
      }
    ]
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/spritekit/sknode/controlling_user_interaction_on_nodes"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/spritekit/sknode/controlling_user_interaction_on_nodes"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/spritekit": {
      "title": "SpriteKit",
      "identifier": "doc://com.apple.documentation/documentation/spritekit",
      "url": "/documentation/spritekit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/spritekit/nodes_for_scene_building": {
      "title": "Nodes for Scene Building",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/nodes_for_scene_building",
      "url": "/documentation/spritekit/nodes_for_scene_building",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/spritekit/sknode": {
      "title": "SKNode",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/spritekit/sknode"
    },
    "doc://com.apple.documentation/documentation/spritekit/skscene": {
      "title": "SKScene",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/skscene",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/spritekit/skscene"
    },
    "doc://com.apple.documentation/documentation/spritekit/sknode/1483109-userinteractionenabled": {
      "title": "userInteractionEnabled",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/1483109-userinteractionenabled",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/spritekit/sknode/1483109-userinteractionenabled",
      "abstract": [
        {
          "type": "text",
          "text": "A Boolean value that indicates whether the node receives touch events."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985137": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985137",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985137",
      "abstract": [
        {
          "type": "text",
          "text": "A scene that responds to touches"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/spritekit/skscene/1645216-scenedidload": {
      "title": "sceneDidLoad",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/skscene/1645216-scenedidload",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/spritekit/skscene/1645216-scenedidload",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "sceneDidLoad"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uiresponder/1621142-touchesbegan": {
      "title": "touchesBegan:withEvent:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiresponder/1621142-touchesbegan",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiresponder/1621142-touchesbegan",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "touchesBegan:withEvent:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/spritekit/sknode/1483072-nodesatpoint": {
      "title": "nodesAtPoint:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/1483072-nodesatpoint",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/spritekit/sknode/1483072-nodesatpoint",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "nodesAtPoint:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/spritekit/sknode/1483099-nodeatpoint": {
      "title": "nodeAtPoint:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/1483099-nodeatpoint",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/spritekit/sknode/1483099-nodeatpoint",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "nodeAtPoint:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985150": {
      "title": "Listing 2",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985150",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985150",
      "abstract": [
        {
          "type": "text",
          "text": "A scene that responds to mouse down"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/spritekit/sknode/1483107-zposition": {
      "title": "zPosition",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/1483107-zposition",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/spritekit/sknode/1483107-zposition"
    },
    "doc://com.apple.documentation/documentation/spritekit/sknode/1483028-children": {
      "title": "children",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/1483028-children",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/spritekit/sknode/1483028-children"
    },
    "doc://com.apple.documentation/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985132": {
      "title": "Listing 3",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985132",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985132",
      "abstract": [
        {
          "type": "text",
          "text": "A sprite node that responds to touches"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/spritekit/sknode/1483023-alpha": {
      "title": "alpha",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/1483023-alpha",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/spritekit/sknode/1483023-alpha"
    },
    "doc://com.apple.documentation/documentation/coregraphics/cgfloat/1845210-leastnonzeromagnitude": {
      "title": "leastNonzeroMagnitude",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coregraphics/cgfloat/1845210-leastnonzeromagnitude",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coregraphics/cgfloat/1845210-leastnonzeromagnitude"
    },
    "doc://com.apple.documentation/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985143": {
      "title": "Listing 4",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985143",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985143",
      "abstract": [
        {
          "type": "text",
          "text": "A composite node that responds to touches"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/spritekit/sknode/1483066-calculateaccumulatedframe": {
      "title": "calculateAccumulatedFrame",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/1483066-calculateaccumulatedframe",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/spritekit/sknode/1483066-calculateaccumulatedframe",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "calculateAccumulatedFrame"
        }
      ]
    },
    "link-media-2985136": {
      "identifier": "link-media-2985136",
      "type": "link",
      "title": "Figure 1",
      "url": "/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985136"
    },
    "media-2985136": {
      "identifier": "media-2985136",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x"
          ],
          "size": {
            "width": 680,
            "height": 680
          },
          "url": "https://docs-assets.developer.apple.com/published/d39fa146b8/93bb6873-729b-4817-9a19-a076ca85cfbb.png"
        }
      ],
      "alt": "Diagram showing how user events can be reported inside a node's accumulated frame",
      "title": "Figure 1",
      "abstract": [
        {
          "type": "text",
          "text": "User events reported inside a node's accumulated frame"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985130": {
      "title": "Listing 5",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985130",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985130",
      "abstract": [
        {
          "type": "text",
          "text": "Placing a composite node over a background"
        }
      ]
    },
    "link-media-2985152": {
      "identifier": "link-media-2985152",
      "type": "link",
      "title": "Figure 2",
      "url": "/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985152"
    },
    "media-2985152": {
      "identifier": "media-2985152",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x"
          ],
          "size": {
            "width": 680,
            "height": 677
          },
          "url": "https://docs-assets.developer.apple.com/published/fc394997ab/c2ed2d0f-3320-4d3c-80c4-3cc9439d6011.png"
        }
      ],
      "alt": "Diagram showing how events are reported over a node's non-transparent content. ",
      "title": "Figure 2",
      "abstract": [
        {
          "type": "text",
          "text": "User events reported over a node's nontransparent content"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uiresponder": {
      "title": "UIResponder",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiresponder",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiresponder"
    },
    "doc://com.apple.documentation/documentation/appkit/nsresponder": {
      "title": "NSResponder",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/appkit/nsresponder",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/appkit/nsresponder"
    },
    "doc://com.apple.documentation/documentation/spritekit/sknode/controlling_user_interaction_on_nodes": {
      "title": "Controlling User Interaction on Nodes",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/controlling_user_interaction_on_nodes",
      "kind": "article",
      "role": "article",
      "url": "/documentation/spritekit/sknode/controlling_user_interaction_on_nodes",
      "abstract": [
        {
          "type": "text",
          "text": "Enable your node to respond to user input, like touches or mouse clicks. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/spritekit/sknode/2882953-focusbehavior": {
      "title": "focusBehavior",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/2882953-focusbehavior",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/spritekit/sknode/2882953-focusbehavior",
      "abstract": [
        {
          "type": "text",
          "text": "The focus behavior for a node."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/spritekit/sknode/1483109-userinteractionenabled",
        "doc://com.apple.documentation/documentation/spritekit/sknode/2882953-focusbehavior"
      ],
      "title": "Handling User Input",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "codeVoice",
              "code": "SKNode"
            },
            {
              "type": "text",
              "text": " subclasses "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uiresponder"
            },
            {
              "type": "text",
              "text": " in iOS and tvOS, and "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/appkit/nsresponder"
            },
            {
              "type": "text",
              "text": " in macOS, allowing nodes to respond to user interaction events such as touches and mouse movements."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "There are two strategies you can adopt when supporting user interaction."
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Enable user interaction on a single catch-all node, for example the scene, and calculate the child node or nodes that the user is interacting with by doing custom hit tests."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Enable user interaction on every node you want the user to interact with, and subclass them to implement their responder functions."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Catch All User Interaction by Using a Parent Node",
          "anchor": "2985148"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985137"
            },
            {
              "type": "text",
              "text": " shows an example of how to handle all user interaction on a parent node–in this case, the scene itself. The "
            },
            {
              "type": "codeVoice",
              "code": "TouchScene"
            },
            {
              "type": "text",
              "text": " class subclasses "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/spritekit/skscene"
            },
            {
              "type": "text",
              "text": " and overrides its "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/1483109-userinteractionenabled"
            },
            {
              "type": "text",
              "text": " to return "
            },
            {
              "type": "codeVoice",
              "code": "true"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "class TouchScene: SKScene {",
            "    override var isUserInteractionEnabled: Bool {",
            "        get {",
            "            return true",
            "        }",
            "        set {",
            "            // ignore",
            "        }",
            "    }",
            "    ",
            "    override func touchesBegan(_ touches: Set<UITouch>, with event: UIEvent?) {",
            "        guard let touch = touches.first else {",
            "            return",
            "        }",
            "        ",
            "        let location = touch.location(in: self)",
            "        ",
            "        let touchedNodes = nodes(at: location)",
            "        let frontTouchedNode = atPoint(location).name",
            "    }",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "2985137",
            "title": "Listing 1",
            "abstract": [
              {
                "type": "text",
                "text": "A scene that responds to touches"
              }
            ]
          }
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "Alternatively, you could override "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/spritekit/skscene/1645216-scenedidload"
                },
                {
                  "type": "text",
                  "text": " and set "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/1483109-userinteractionenabled"
                },
                {
                  "type": "text",
                  "text": " to "
                },
                {
                  "type": "codeVoice",
                  "code": "true"
                },
                {
                  "type": "text",
                  "text": " in your implementation."
                }
              ]
            }
          ],
          "style": "note",
          "name": "Note"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The overridden "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uiresponder/1621142-touchesbegan"
            },
            {
              "type": "text",
              "text": " method shows two techniques to find the nodes that have been touched. "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/1483072-nodesatpoint"
            },
            {
              "type": "text",
              "text": " returns an array of all of the sprites and "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/1483099-nodeatpoint"
            },
            {
              "type": "text",
              "text": " returns the top-most touched node."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "In this example, the child nodes should have "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/1483109-userinteractionenabled"
            },
            {
              "type": "text",
              "text": " set to "
            },
            {
              "type": "codeVoice",
              "code": "false"
            },
            {
              "type": "text",
              "text": ". The parent scene is responsible for responding to user interactions."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985150"
            },
            {
              "type": "text",
              "text": " shows the equivalent code for macOS."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "class TouchScene: SKScene {",
            "    override var isUserInteractionEnabled: Bool {",
            "        get {",
            "            return true",
            "        }",
            "        set {",
            "            // ignore",
            "        }",
            "    }",
            "    ",
            "    override func mouseDown(with event: NSEvent) {",
            "        let location = event.location(in: self)",
            "        let touchedNodes = nodes(at: location)",
            "        let firstTouchedNode = atPoint(location).name",
            "    }",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "2985150",
            "title": "Listing 2",
            "abstract": [
              {
                "type": "text",
                "text": "A scene that responds to mouse down"
              }
            ]
          }
        },
        {
          "type": "paragraph",
          "inlineContent": []
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Enable User Interaction on All Nodes",
          "anchor": "2985129"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985132"
            },
            {
              "type": "text",
              "text": " shows an example of supporting user interaction on individual nodes in your scene. Instances of "
            },
            {
              "type": "codeVoice",
              "code": "TouchSpriteNode"
            },
            {
              "type": "text",
              "text": " are added as children of a standard scene and user interaction is handled by each independently. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "In the case of overlapping nodes, only one will register a user interaction. For example, of two overlapping nodes, the one with the highest "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/1483107-zposition"
            },
            {
              "type": "text",
              "text": " receives the touch. For two nodes with an equal "
            },
            {
              "type": "codeVoice",
              "code": "zPosition"
            },
            {
              "type": "text",
              "text": ", the last node in the parent's "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/1483028-children"
            },
            {
              "type": "text",
              "text": " array receives the touch."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "class TouchSpriteNode: SKSpriteNode {",
            "    override var isUserInteractionEnabled: Bool {",
            "        set {",
            "            // ignore",
            "        }",
            "        get {",
            "            return true",
            "        }",
            "    }",
            "         ",
            "    // For macOS replace this method with `mouseDown(with:)`",
            "    override func touchesBegan(_ touches: Set<UITouch>, with event: UIEvent?) {",
            "        // User has touched this node",
            "    }",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "2985132",
            "title": "Listing 3",
            "abstract": [
              {
                "type": "text",
                "text": "A sprite node that responds to touches"
              }
            ]
          }
        },
        {
          "type": "paragraph",
          "inlineContent": []
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Handle User Interaction on Hidden Nodes by Using Alpha",
          "anchor": "2985127"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Translucent nodes–those with an "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/1483023-alpha"
            },
            {
              "type": "text",
              "text": " of less than "
            },
            {
              "type": "codeVoice",
              "code": "1"
            },
            {
              "type": "text",
              "text": " but greater than "
            },
            {
              "type": "codeVoice",
              "code": "0"
            },
            {
              "type": "text",
              "text": "–still receive user interactions. You can set a node's "
            },
            {
              "type": "codeVoice",
              "code": "alpha"
            },
            {
              "type": "text",
              "text": " to "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coregraphics/cgfloat/1845210-leastnonzeromagnitude"
            },
            {
              "type": "text",
              "text": " to make it effectively transparent and yet still respond to touches or mouse movements, although giving it a color of "
            },
            {
              "type": "codeVoice",
              "code": "clear"
            },
            {
              "type": "text",
              "text": " has the same effect. "
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Review the Bounds of Node User Interaction",
          "anchor": "2985128"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "User interaction is based on the bounding box of the node. Sprite nodes containing textures with transparent areas or shape nodes with non-rectangular shapes will still report touches and mouse interactions even if the interaction is over a transparent part of their content."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If you build a composite node, the region that receives user interaction events is dependent on the node tree. "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985143"
            },
            {
              "type": "text",
              "text": " shows the code used to create a subclassed "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode"
            },
            {
              "type": "text",
              "text": " that renders six circular shape nodes forming a larger circle."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "class TouchCompositeNode: SKNode {",
            "    override var isUserInteractionEnabled: Bool {",
            "        set {",
            "            // ignore",
            "        }",
            "        get {",
            "            return true",
            "        }",
            "    }",
            "    ",
            "    let tau = CGFloat.pi * 2",
            "    ",
            "    required init(color: SKColor, radius: CGFloat = 100) {",
            "        super.init()",
            "        ",
            "        stride(from: 0, to: tau, by: tau / 6).forEach {",
            "            ",
            "            let node = SKShapeNode(circleOfRadius: 20)",
            "            ",
            "            node.fillColor = color",
            "            node.position = CGPoint(x: sin($0) * radius,",
            "                                    y: cos($0) * radius)",
            "            ",
            "            addChild(node)",
            "        }",
            "    }",
            "    ",
            "    required init?(coder aDecoder: NSCoder) {",
            "        fatalError(\"init(coder:) has not been implemented\")",
            "    }",
            "    ",
            "    // For macOS replace this method with `mouseDown(with:)`",
            "    override func touchesBegan(_ touches: Set<UITouch>, with event: UIEvent?) {",
            "        // User has touched this node",
            "    }",
            "}",
            ""
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "2985143",
            "title": "Listing 4",
            "abstract": [
              {
                "type": "text",
                "text": "A composite node that responds to touches"
              }
            ]
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If you were to add an instance of "
            },
            {
              "type": "codeVoice",
              "code": "TouchCompositeNode"
            },
            {
              "type": "text",
              "text": " to an "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/spritekit/skscene"
            },
            {
              "type": "text",
              "text": " with no other nodes behind it, all touches inside its "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/1483066-calculateaccumulatedframe"
            },
            {
              "type": "text",
              "text": " would be reported. "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "link-media-2985136"
            },
            {
              "type": "text",
              "text": " shows the accumulated frame of "
            },
            {
              "type": "codeVoice",
              "code": "TouchCompositeNode"
            },
            {
              "type": "text",
              "text": ". Any user events within the dashed line will call "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uiresponder/1621142-touchesbegan"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "image",
              "identifier": "media-2985136",
              "metadata": {
                "anchor": "2985136",
                "title": "Figure 1",
                "abstract": [
                  {
                    "type": "text",
                    "text": "User events reported inside a node's accumulated frame"
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "However, if you were to place an instance of "
            },
            {
              "type": "codeVoice",
              "code": "TouchCompositeNode"
            },
            {
              "type": "text",
              "text": " above another node using, for example, the code in "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/spritekit/sknode/controlling_user_interaction_on_nodes#2985130"
            },
            {
              "type": "text",
              "text": ", only touches on its child nodes would be reported."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "let composite = TouchCompositeNode(color: .red)",
            "composite.position = CGPoint(x: 400, y: 400)",
            "     ",
            "let backgroundNode = SKSpriteNode(color: .blue,",
            "                                  size: CGSize(width: 500, height: 500))",
            "backgroundNode.position = CGPoint(x: 400, y: 400)",
            "     ",
            "scene.addChild(backgroundNode)",
            "scene.addChild(composite)"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "2985130",
            "title": "Listing 5",
            "abstract": [
              {
                "type": "text",
                "text": "Placing a composite node over a background"
              }
            ]
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "In this case, only touches or mouse events over the red spots shown in "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "link-media-2985152"
            },
            {
              "type": "text",
              "text": " will call "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uiresponder/1621142-touchesbegan"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "image",
              "identifier": "media-2985152",
              "metadata": {
                "anchor": "2985152",
                "title": "Figure 2",
                "abstract": [
                  {
                    "type": "text",
                    "text": "User events reported over a node's nontransparent content"
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": []
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "Nodes that have user interaction disabled will block touch and mouse events on nodes behind them where they overlap."
                }
              ]
            }
          ],
          "style": "important"
        },
        {
          "type": "paragraph",
          "inlineContent": []
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}