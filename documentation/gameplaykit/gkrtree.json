{
  "abstract": [
    {
      "type": "text",
      "text": "A data structure that adaptively organizes objects based on their locations in a two-dimensional space."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/gameplaykit"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/gameplaykit/gkrtree",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1640258,
  "kind": "symbol",
  "metadata": {
    "title": "GKRTree",
    "role": "symbol",
    "roleHeading": "Class",
    "modules": [
      {
        "name": "GameplayKit"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "10.0",
        "current": "15.2"
      },
      {
        "name": "iPadOS",
        "introducedAt": "10.0",
        "current": "15.2"
      },
      {
        "name": "macOS",
        "introducedAt": "10.12",
        "current": "12.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "15.2"
      },
      {
        "name": "tvOS",
        "introducedAt": "10.0",
        "current": "15.2"
      }
    ],
    "externalID": "c:objc(cs)GKRTree",
    "symbolKind": "cl"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/gameplaykit/gkrtree"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/gameplaykit/gkrtree"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/gameplaykit": {
      "title": "GameplayKit",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit",
      "url": "/documentation/gameplaykit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkrtree/1640262-addelement": {
      "title": "addElement:boundingRectMin:boundingRectMax:splitStrategy:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkrtree/1640262-addelement",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkrtree/1640262-addelement",
      "abstract": [
        {
          "type": "text",
          "text": "Adds the specified object to the tree."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "addElement:boundingRectMin:boundingRectMax:splitStrategy:"
        }
      ]
    },
    "link-media-1965706": {
      "identifier": "link-media-1965706",
      "type": "link",
      "title": "Figure 1",
      "url": "/documentation/gameplaykit/gkrtree#1965706"
    },
    "media-1965706": {
      "identifier": "media-1965706",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x"
          ],
          "size": {
            "width": 545,
            "height": 280
          },
          "url": "https://docs-assets.developer.apple.com/published/2ca4870e37/rtree_2x_c07d6e66-7121-4be9-b678-a41e5f7c8ddd.png"
        }
      ],
      "title": "Figure 1",
      "abstract": [
        {
          "type": "text",
          "text": "Spatial and logical arrangement of an example R-tree"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkrtree": {
      "title": "GKRTree",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkrtree",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkrtree",
      "abstract": [
        {
          "type": "text",
          "text": "A data structure that adaptively organizes objects based on their locations in a two-dimensional space."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkoctree": {
      "title": "GKOctree",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkoctree",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkoctree",
      "abstract": [
        {
          "type": "text",
          "text": "A data structure for organizing objects based on their locations in a three-dimensional space."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/objectivec/nsobject": {
      "title": "NSObject",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/objectivec/nsobject",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/objectivec/nsobject"
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkrtree/1640256-initwithmaxnumberofchildren": {
      "title": "initWithMaxNumberOfChildren:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkrtree/1640256-initwithmaxnumberofchildren",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkrtree/1640256-initwithmaxnumberofchildren",
      "abstract": [
        {
          "type": "text",
          "text": "Initializes a new R-tree object."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "initWithMaxNumberOfChildren:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkrtree/1640257-treewithmaxnumberofchildren": {
      "title": "treeWithMaxNumberOfChildren:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkrtree/1640257-treewithmaxnumberofchildren",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkrtree/1640257-treewithmaxnumberofchildren",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a new R-tree object."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "+ "
        },
        {
          "kind": "identifier",
          "text": "treeWithMaxNumberOfChildren:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkrtree/1640259-removeelement": {
      "title": "removeElement:boundingRectMin:boundingRectMax:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkrtree/1640259-removeelement",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkrtree/1640259-removeelement",
      "abstract": [
        {
          "type": "text",
          "text": "Removes the specified object from the tree."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "removeElement:boundingRectMin:boundingRectMax:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkrtree/1640264-elementsinboundingrectmin": {
      "title": "elementsInBoundingRectMin:rectMax:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkrtree/1640264-elementsinboundingrectmin",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkrtree/1640264-elementsinboundingrectmin",
      "abstract": [
        {
          "type": "text",
          "text": "Searches the tree and returns all elements found within the specified bounding region."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "elementsInBoundingRectMin:rectMax:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkrtree/1640267-queryreserve": {
      "title": "queryReserve",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkrtree/1640267-queryreserve",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkrtree/1640267-queryreserve",
      "abstract": [
        {
          "type": "text",
          "text": "The number of elements to reserve space for when searching."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkrtreesplitstrategy": {
      "title": "GKRTreeSplitStrategy",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkrtreesplitstrategy",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkrtreesplitstrategy",
      "abstract": [
        {
          "type": "text",
          "text": "Options that control how a tree balances its internal structure when adding elements, used with the "
        },
        {
          "type": "reference",
          "isActive": true,
          "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkrtree/1640262-addelement"
        },
        {
          "type": "text",
          "text": " method."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkquadtree": {
      "title": "GKQuadtree",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkquadtree",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkquadtree",
      "abstract": [
        {
          "type": "text",
          "text": "A data structure for organizing objects based on their locations in a two-dimensional space."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkquadtreenode": {
      "title": "GKQuadtreeNode",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkquadtreenode",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkquadtreenode",
      "abstract": [
        {
          "type": "text",
          "text": "A helper class for managing the objects you organize in a quadtree."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkoctreenode": {
      "title": "GKOctreeNode",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkoctreenode",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkoctreenode",
      "abstract": [
        {
          "type": "text",
          "text": "A helper class for managing the objects you organize in an octree."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "relationshipsSections": [
    {
      "kind": "relationships",
      "title": "Inherits From",
      "type": "inheritsFrom",
      "identifiers": [
        "doc://com.apple.documentation/documentation/objectivec/nsobject"
      ]
    }
  ],
  "topicSections": [
    {
      "kind": "taskGroup",
      "title": "Creating an R-Tree",
      "identifiers": [
        "doc://com.apple.documentation/documentation/gameplaykit/gkrtree/1640256-initwithmaxnumberofchildren",
        "doc://com.apple.documentation/documentation/gameplaykit/gkrtree/1640257-treewithmaxnumberofchildren"
      ],
      "anchor": "1844730"
    },
    {
      "kind": "taskGroup",
      "title": "Adding and Removing Elements",
      "identifiers": [
        "doc://com.apple.documentation/documentation/gameplaykit/gkrtree/1640262-addelement",
        "doc://com.apple.documentation/documentation/gameplaykit/gkrtree/1640259-removeelement"
      ],
      "anchor": "1844736"
    },
    {
      "kind": "taskGroup",
      "title": "Searching for Elements",
      "identifiers": [
        "doc://com.apple.documentation/documentation/gameplaykit/gkrtree/1640264-elementsinboundingrectmin",
        "doc://com.apple.documentation/documentation/gameplaykit/gkrtree/1640267-queryreserve"
      ],
      "anchor": "1682470"
    },
    {
      "kind": "taskGroup",
      "title": "Constants",
      "identifiers": [
        "doc://com.apple.documentation/documentation/gameplaykit/gkrtreesplitstrategy"
      ],
      "anchor": "1844740"
    }
  ],
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/gameplaykit/gkquadtree",
        "doc://com.apple.documentation/documentation/gameplaykit/gkquadtreenode",
        "doc://com.apple.documentation/documentation/gameplaykit/gkoctree",
        "doc://com.apple.documentation/documentation/gameplaykit/gkoctreenode"
      ],
      "title": "Spatial Partitioning",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "@interface"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "GKRTree"
            },
            {
              "kind": "text",
              "text": "<"
            },
            {
              "kind": "keyword",
              "text": "__covariant"
            },
            {
              "kind": "text",
              "text": " ElementType> : "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSObject",
              "identifier": "doc://com.apple.documentation/documentation/objectivec/nsobject",
              "text": "NSObject"
            }
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "macOS",
            "Mac Catalyst",
            "tvOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "An R-tree manages its structure to optimize for spatial searches—unlike a basic data structure such as an array or dictionary, an R-tree can find all elements occupying a specific position or region very quickly. Additionally, R-trees adapt their internal structure as you add and remove elements, increasing the amount of time required to perform those operations, but decreasing the time required to search for elements later. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "An R-tree partitions the space it describes by calculating the minimum bounding regions that enclose each of the added objects. For example, in "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "link-media-1965706"
            },
            {
              "type": "text",
              "text": ", the numbered shapes are objects added to the tree, and the rectangles marked with letters are the data structure the tree creates to organize them. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "image",
              "identifier": "media-1965706",
              "metadata": {
                "anchor": "1965706",
                "title": "Figure 1",
                "abstract": [
                  {
                    "type": "text",
                    "text": "Spatial and logical arrangement of an example R-tree"
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "In this example, the rectangle C is the smallest rectangle that entirely contains objects 1 and 2; the rectangle D is the smallest that contains objects 3, 4, and 5; the rectangle A is the smallest containing all the objects in rectangles C and D; and so on. The R-tree automatically creates these divisions in a way that keeps the tree balanced—that is, so that no branch of the tree contains significantly more objects or sub-branches than any other branch—so that searches for objects in the tree require a uniformly minimal amount of processing."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "R-trees can be useful for many tasks in game design. For example:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Deciding which game characters are close enough to each other for interaction"
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Deciding which portions of a large game world need to be processed at a given time"
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Finding out which other objects are entirely contained within the region occupied by a certain object"
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkrtree"
            },
            {
              "type": "text",
              "text": " class is one of three spatial partitioning data structures that GameplayKit provides. See these other classes for other tasks:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "The "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkoctree"
                    },
                    {
                      "type": "text",
                      "text": " class provides the three-dimensional equivalent of a quadtree. Use an octree when you need to organize objects in 3D space."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "The "
                    },
                    {
                      "type": "codeVoice",
                      "code": "GKQuadTree"
                    },
                    {
                      "type": "text",
                      "text": " class provides a different algorithm for two-dimensional spatial indexing. Quadtrees and R-trees have different performance tradeoffs for different tasks: quadtrees can be faster when objects are more uniformly distributed in space or when their positions change frequently, and R-trees can be faster when searching for all objects in a given region."
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}