{
  "abstract": [
    {
      "type": "text",
      "text": "A component that moves a game entity according to a set of goals and realistic constraints."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/gameplaykit"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/gameplaykit/gkagent",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1501174,
  "kind": "symbol",
  "metadata": {
    "title": "GKAgent",
    "role": "symbol",
    "roleHeading": "Class",
    "modules": [
      {
        "name": "GameplayKit"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "9.0",
        "current": "14.3"
      },
      {
        "name": "macOS",
        "introducedAt": "10.11",
        "current": "11.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "14.3"
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "current": "14.3"
      }
    ],
    "externalID": "c:objc(cs)GKAgent",
    "symbolKind": "cl"
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/gameplaykit/gkagent"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/gameplaykit/gkagent"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/gameplaykit": {
      "title": "GameplayKit",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit",
      "url": "/documentation/gameplaykit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkagent": {
      "title": "GKAgent",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagent",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkagent",
      "abstract": [
        {
          "type": "text",
          "text": "A component that moves a game entity according to a set of goals and realistic constraints."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkcomponent": {
      "title": "GKComponent",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkcomponent",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkcomponent"
    },
    "devLink-1757345": {
      "identifier": "devLink-1757345",
      "type": "link",
      "title": "Entities and Components",
      "url": "https://developer.apple.com/library/archive/documentation/General/Conceptual/GameplayKit_Guide/EntityComponent.html#//apple_ref/doc/uid/TP40015172-CH6"
    },
    "devLink-1757291": {
      "identifier": "devLink-1757291",
      "type": "link",
      "title": "GameplayKit Programming Guide",
      "url": "https://developer.apple.com/library/archive/documentation/General/Conceptual/GameplayKit_Guide/index.html#//apple_ref/doc/uid/TP40015172"
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkcomponent/1501218-updatewithdeltatime": {
      "title": "updateWithDeltaTime:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkcomponent/1501218-updatewithdeltatime",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkcomponent/1501218-updatewithdeltatime",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "updateWithDeltaTime:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/spritekit/skscene/1519802-update": {
      "title": "update:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/skscene/1519802-update",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/spritekit/skscene/1519802-update",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "update:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/scenekit/scnscenerendererdelegate/1522937-renderer": {
      "title": "renderer:updateAtTime:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnscenerendererdelegate/1522937-renderer",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/scenekit/scnscenerendererdelegate/1522937-renderer",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "renderer:updateAtTime:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkcomponentsystem": {
      "title": "GKComponentSystem",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkcomponentsystem",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkcomponentsystem"
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkgoal": {
      "title": "GKGoal",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkgoal",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkgoal",
      "abstract": [
        {
          "type": "text",
          "text": "An influence that motivates the movement of one or more agents."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501272-behavior": {
      "title": "behavior",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501272-behavior",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkagent/1501272-behavior",
      "abstract": [
        {
          "type": "text",
          "text": "A weighted collection of goals that influence the agent’s movement."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkbehavior": {
      "title": "GKBehavior",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkbehavior",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkbehavior",
      "abstract": [
        {
          "type": "text",
          "text": "A set of goals that together influence the movement of an agent."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/spritekit/skscene/1519903-didevaluateactions": {
      "title": "didEvaluateActions",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/spritekit/skscene/1519903-didevaluateactions",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/spritekit/skscene/1519903-didevaluateactions",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "didEvaluateActions"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/scenekit/scnscenerendererdelegate/1523483-renderer": {
      "title": "renderer:willRenderScene:atTime:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnscenerendererdelegate/1523483-renderer",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/scenekit/scnscenerendererdelegate/1523483-renderer",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "renderer:willRenderScene:atTime:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501215-delegate": {
      "title": "delegate",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501215-delegate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkagent/1501215-delegate",
      "abstract": [
        {
          "type": "text",
          "text": "An object that prepares for or responds to updates in the agent simulation."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkagentdelegate/1501131-agentdidupdate": {
      "title": "agentDidUpdate:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagentdelegate/1501131-agentdidupdate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkagentdelegate/1501131-agentdidupdate",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "agentDidUpdate:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkagentdelegate/1501232-agentwillupdate": {
      "title": "agentWillUpdate:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagentdelegate/1501232-agentwillupdate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkagentdelegate/1501232-agentwillupdate",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "agentWillUpdate:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gksknodecomponent": {
      "title": "GKSKNodeComponent",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gksknodecomponent",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gksknodecomponent"
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501080-mass": {
      "title": "mass",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501080-mass",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkagent/1501080-mass",
      "abstract": [
        {
          "type": "text",
          "text": "The resistance of the agent to changes in speed or direction."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkagent2d": {
      "title": "GKAgent2D",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagent2d",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkagent2d",
      "abstract": [
        {
          "type": "text",
          "text": "An agent that operates in a two-dimensional space. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkagent3d": {
      "title": "GKAgent3D",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagent3d",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkagent3d",
      "abstract": [
        {
          "type": "text",
          "text": "An agent that operates in a three-dimensional space."
        }
      ]
    },
    "devLink-1757373": {
      "identifier": "devLink-1757373",
      "type": "link",
      "title": "Agents, Goals, and Behaviors",
      "url": "https://developer.apple.com/library/archive/documentation/General/Conceptual/GameplayKit_Guide/Agent.html#//apple_ref/doc/uid/TP40015172-CH8"
    },
    "doc://com.apple.documentation/documentation/foundation/nssecurecoding": {
      "title": "NSSecureCoding",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nssecurecoding",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nssecurecoding"
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501224-maxacceleration": {
      "title": "maxAcceleration",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501224-maxacceleration",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkagent/1501224-maxacceleration",
      "abstract": [
        {
          "type": "text",
          "text": "The upper limit to changes in the agent’s speed or direction."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501323-maxspeed": {
      "title": "maxSpeed",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501323-maxspeed",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkagent/1501323-maxspeed",
      "abstract": [
        {
          "type": "text",
          "text": "The agent’s maximum forward speed, in units per second."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501066-radius": {
      "title": "radius",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501066-radius",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkagent/1501066-radius",
      "abstract": [
        {
          "type": "text",
          "text": "The agent’s radius."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501038-speed": {
      "title": "speed",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501038-speed",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkagent/1501038-speed",
      "abstract": [
        {
          "type": "text",
          "text": "The agent’s current forward speed, in units per second."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkcompositebehavior": {
      "title": "GKCompositeBehavior",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkcompositebehavior",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkcompositebehavior",
      "abstract": [
        {
          "type": "text",
          "text": "A set of behaviors, each of which is a set of goals, that together influence the movement of an agent."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkpath": {
      "title": "GKPath",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkpath",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkpath",
      "abstract": [
        {
          "type": "text",
          "text": "A polygonal path that can be followed by an agent."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/gameplaykit/gkagentdelegate": {
      "title": "GKAgentDelegate",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagentdelegate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/gameplaykit/gkagentdelegate",
      "abstract": [
        {
          "type": "text",
          "text": "Implement this protocol to synchronize the state of an agent with its visual representation in your game."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "diffAvailability": {
    "major": {
      "change": "modified",
      "platform": "Xcode",
      "versions": [
        "12.0",
        "12.3 Release Candidate"
      ]
    }
  },
  "relationshipsSections": [
    {
      "kind": "relationships",
      "title": "Inherits From",
      "type": "inheritsFrom",
      "identifiers": [
        "doc://com.apple.documentation/documentation/gameplaykit/gkcomponent"
      ]
    },
    {
      "kind": "relationships",
      "title": "Conforms To",
      "type": "conformsTo",
      "identifiers": [
        "doc://com.apple.documentation/documentation/foundation/nssecurecoding"
      ]
    }
  ],
  "topicSections": [
    {
      "kind": "taskGroup",
      "title": "Defining an Agent’s Behavior",
      "identifiers": [
        "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501272-behavior"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Constraining an Agent’s Movement",
      "identifiers": [
        "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501080-mass",
        "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501224-maxacceleration",
        "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501323-maxspeed",
        "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501066-radius"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Synchronizing an Agent’s Visual Representation",
      "identifiers": [
        "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501215-delegate"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Managing an Agent’s Attributes",
      "identifiers": [
        "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501038-speed"
      ]
    }
  ],
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/gameplaykit/gkagent2d",
        "doc://com.apple.documentation/documentation/gameplaykit/gkagent3d",
        "doc://com.apple.documentation/documentation/gameplaykit/gkgoal",
        "doc://com.apple.documentation/documentation/gameplaykit/gkbehavior",
        "doc://com.apple.documentation/documentation/gameplaykit/gkcompositebehavior",
        "doc://com.apple.documentation/documentation/gameplaykit/gkpath",
        "doc://com.apple.documentation/documentation/gameplaykit/gkagentdelegate"
      ],
      "title": "Agents, Goals, and Behaviors",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "@interface"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "GKAgent"
            },
            {
              "kind": "text",
              "text": " : "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)GKComponent",
              "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkcomponent",
              "text": "GKComponent"
            }
          ],
          "platforms": [
            "iOS",
            "macOS",
            "Mac Catalyst",
            "tvOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagent"
            },
            {
              "type": "text",
              "text": " class is abstract, defining only the general functionality of an agent—its movement constraints and the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501272-behavior"
            },
            {
              "type": "text",
              "text": " property containing its goals ("
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkgoal"
            },
            {
              "type": "text",
              "text": " objects). To implement agent-based gameplay, choose a concrete subclass that fits your game."
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Use the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagent2d"
                    },
                    {
                      "type": "text",
                      "text": " class for 2D game worlds, or for 3D games where all gameplay-relevant movement is constrained to two dimensions."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Use the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagent3d"
                    },
                    {
                      "type": "text",
                      "text": " class for game worlds that allow movement in three dimensions."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To learn more about the agent simulation, see "
            },
            {
              "type": "link",
              "title": "Agents, Goals, and Behaviors",
              "destination": "https://developer.apple.com/library/archive/documentation/General/Conceptual/GameplayKit_Guide/Agent.html#//apple_ref/doc/uid/TP40015172-CH8"
            },
            {
              "type": "text",
              "text": " in "
            },
            {
              "type": "link",
              "title": "GameplayKit Programming Guide",
              "destination": "https://developer.apple.com/library/archive/documentation/General/Conceptual/GameplayKit_Guide/index.html#//apple_ref/doc/uid/TP40015172"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "An Agent is a Component",
          "anchor": "1844765"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Because "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagent"
            },
            {
              "type": "text",
              "text": " is a subclass of "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkcomponent"
            },
            {
              "type": "text",
              "text": ", you can use Entity-Component architecture to add agent-based behaviors to your game. (For details on this architecture, see "
            },
            {
              "type": "link",
              "title": "Entities and Components",
              "destination": "https://developer.apple.com/library/archive/documentation/General/Conceptual/GameplayKit_Guide/EntityComponent.html#//apple_ref/doc/uid/TP40015172-CH6"
            },
            {
              "type": "text",
              "text": " in "
            },
            {
              "type": "link",
              "title": "GameplayKit Programming Guide",
              "destination": "https://developer.apple.com/library/archive/documentation/General/Conceptual/GameplayKit_Guide/index.html#//apple_ref/doc/uid/TP40015172"
            },
            {
              "type": "text",
              "text": ".)"
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To integrate agents with gameplay, call each agent’s "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkcomponent/1501218-updatewithdeltatime"
            },
            {
              "type": "text",
              "text": " method each time you want to update the simulation that governs the agent’s behavior. Typically, you call this method once for each frame processed by your game’s graphics engine—for example, in the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/spritekit/skscene/1519802-update"
            },
            {
              "type": "text",
              "text": " method of a SpriteKit scene or the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/scenekit/scnscenerendererdelegate/1522937-renderer"
            },
            {
              "type": "text",
              "text": " method of a SceneKit renderer delegate. If your game uses Entity-Component architecture, you can use a "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkcomponentsystem"
            },
            {
              "type": "text",
              "text": " object to update all the agents in the game scene for each frame. If not, you must call each agent’s "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkcomponent/1501218-updatewithdeltatime"
            },
            {
              "type": "text",
              "text": " method directly."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "An Agent Simulates Movement Based on Goals",
          "anchor": "1844766"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Each time an agent’s "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkcomponent/1501218-updatewithdeltatime"
            },
            {
              "type": "text",
              "text": " method runs, the agent evaluates each "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkgoal"
            },
            {
              "type": "text",
              "text": " object listed in its "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501272-behavior"
            },
            {
              "type": "text",
              "text": " property to find the change in direction and speed necessary to move toward fulfilling that goal (within the limits of the time delta and the agent’s maximum speed and turn rate). It then combines the effects from all the goals in its behavior, using the weights specified in the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkbehavior"
            },
            {
              "type": "text",
              "text": " object to modulate the influence of each goal, resulting in a total change in its direction and speed."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "There are two options for using the output of this simulation to move game entities:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "In a per-frame update that executes after the agent’s "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkcomponent/1501218-updatewithdeltatime"
                    },
                    {
                      "type": "text",
                      "text": " method—such as the "
                    },
                    {
                      "type": "reference",
                      "isActive": false,
                      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkcomponent/1501218-updatewithdeltatime"
                    },
                    {
                      "type": "text",
                      "text": " method of another "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkcomponent"
                    },
                    {
                      "type": "text",
                      "text": " subclass in your game or a game engine method such as "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/spritekit/skscene/1519903-didevaluateactions"
                    },
                    {
                      "type": "text",
                      "text": " (SpriteKit) or "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/scenekit/scnscenerendererdelegate/1523483-renderer"
                    },
                    {
                      "type": "text",
                      "text": " (SceneKit)—examine the position and rotation of each agent and use that information to update the properties of any visual objects representing the agents."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Set the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501215-delegate"
                    },
                    {
                      "type": "text",
                      "text": " property of each agent to an object responsible for that agent’s visual representation. That object can implement the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagentdelegate/1501131-agentdidupdate"
                    },
                    {
                      "type": "text",
                      "text": " method, which the agent calls every time it updates its position and direction. In that method, you can examine the agent’s properties and make corresponding changes to a visual representation."
                    }
                  ]
                },
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "In addition, an agent delegate can implement the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagentdelegate/1501232-agentwillupdate"
                    },
                    {
                      "type": "text",
                      "text": " method to feed information into the agent simulation. This option can be useful for combining agent-based movement with an external physics engine (such as those found in SceneKit and SpriteKit), or with other APIs that might apply motion to an agent’s visual representation (such as SpriteKit actions). However, the agent simulation cannot account for momentum introduced by such influences, so the accuracy of the agent’s planning will be reduced in these scenarios."
                    }
                  ]
                },
                {
                  "type": "aside",
                  "content": [
                    {
                      "type": "paragraph",
                      "inlineContent": [
                        {
                          "type": "text",
                          "text": "If you use the "
                        },
                        {
                          "type": "reference",
                          "isActive": true,
                          "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gksknodecomponent"
                        },
                        {
                          "type": "text",
                          "text": " class to manage the relationship between an entity and a SpriteKit node,  set your "
                        },
                        {
                          "type": "reference",
                          "isActive": true,
                          "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gksknodecomponent"
                        },
                        {
                          "type": "text",
                          "text": " instance as the delegate for that entity’s agent, and GameplayKit will automatically synchronize the agent and its SpriteKit representation."
                        }
                      ]
                    }
                  ],
                  "style": "note",
                  "name": "Tip"
                }
              ]
            }
          ]
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The simulation responsible for agent movement is based on realistic physical behaviors; however, this simulation is "
                },
                {
                  "type": "emphasis",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "not"
                    }
                  ]
                },
                {
                  "type": "text",
                  "text": " connected to the physics subsystems in SpriteKit, SceneKit, or any other graphics engine. For example, setting the "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/gameplaykit/gkagent/1501080-mass"
                },
                {
                  "type": "text",
                  "text": " property of an agent does not affect the collision behavior of any SpriteKit physics bodies."
                }
              ]
            }
          ],
          "style": "note",
          "name": "Note"
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}