{
  "abstract": [
    {
      "type": "text",
      "text": "Requests the user’s permission to record audio."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/avfoundation",
        "doc://com.apple.documentation/documentation/avfoundation/audio_playback_recording_and_processing",
        "doc://com.apple.documentation/documentation/avfoundation/avaudiosession"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/avfoundation/avaudiosession/1616601-requestrecordpermission",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1616601,
  "kind": "symbol",
  "metadata": {
    "title": "requestRecordPermission:",
    "role": "symbol",
    "roleHeading": "Instance Method",
    "modules": [
      {
        "name": "AVFoundation"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "7.0",
        "current": "14.3"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "14.3"
      },
      {
        "name": "watchOS",
        "introducedAt": "4.0",
        "current": "7.2"
      }
    ],
    "externalID": "c:objc(cs)AVAudioSession(im)requestRecordPermission:",
    "symbolKind": "instm"
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/avfoundation/avaudiosession/1616601-requestrecordpermission"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/avfoundation/avaudiosession/1616601-requestrecordpermission"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/avfoundation": {
      "title": "AVFoundation",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation",
      "url": "/documentation/avfoundation",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/avfoundation/audio_playback_recording_and_processing": {
      "title": "Audio Playback, Recording, and Processing",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/audio_playback_recording_and_processing",
      "url": "/documentation/avfoundation/audio_playback_recording_and_processing",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avaudiosession": {
      "title": "AVAudioSession",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avaudiosession",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avaudiosession",
      "abstract": [
        {
          "type": "text",
          "text": "An object that communicates to the system how you intend to use audio in your app."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avaudiosession/1616601-requestrecordpermission#3458269": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avaudiosession/1616601-requestrecordpermission#3458269",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/avfoundation/avaudiosession/1616601-requestrecordpermission#3458269"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avaudiosession/1616463-recordpermission": {
      "title": "recordPermission",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avaudiosession/1616463-recordpermission",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avaudiosession/1616463-recordpermission",
      "abstract": [
        {
          "type": "text",
          "text": "The current recording permission status."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avaudiosession/1616601-requestrecordpermission": {
      "title": "requestRecordPermission:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avaudiosession/1616601-requestrecordpermission",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avaudiosession/1616601-requestrecordpermission",
      "abstract": [
        {
          "type": "text",
          "text": "Requests the user’s permission to record audio."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "requestRecordPermission:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avaudiosession/1616463-recordpermission"
      ],
      "title": "Requesting Permission to Record",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "text",
              "text": "- ("
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "identifier",
              "text": "requestRecordPermission:"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": " (^)("
            },
            {
              "kind": "keyword",
              "text": "BOOL"
            },
            {
              "kind": "text",
              "text": " granted)"
            },
            {
              "kind": "text",
              "text": ")"
            },
            {
              "kind": "internalParam",
              "text": "response"
            },
            {
              "kind": "text",
              "text": ";"
            }
          ],
          "platforms": [
            "iOS",
            "Mac Catalyst",
            "watchOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "response",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A block, of type "
                },
                {
                  "type": "codeVoice",
                  "code": "PermissionBlock"
                },
                {
                  "type": "text",
                  "text": ", whose sole parameter contains a Boolean value indicating whether the user granted or denied permission to record."
                }
              ]
            },
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "When you call this method, if the user previously granted or denied recording permission, the block executes immediately without displaying a recording permission alert. If the user hasn’t yet granted or denied permission when you call this method, the system displays a recording permission alert and executes the block after the user responds to it."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Recording audio requires explicit permission from the user. The first time your app’s audio session attempts to record from an audio input, the system automatically prompts the user for permission. You can explicitly ask earlier by calling this method. Until the user grants your app permission to record, your app records only silence. When a user responds to a recording permission prompt for your app, the system remembers the choice. If the user has denied recording permission, they can reenable it in Settings > Privacy > Microphone."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This method returns immediately, but the "
            },
            {
              "type": "codeVoice",
              "code": "response"
            },
            {
              "type": "text",
              "text": " block waits for user input if the user hasn’t previously granted or denied recording permission."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The framework may call the thread from a different thread context. Dispatch back to the main thread for any changes that update the user interface."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "// Request permission to record.",
            "AVAudioSession.sharedInstance().requestRecordPermission { granted in",
            "    if granted {",
            "        // The user granted access. Present recording interface.",
            "    } else {",
            "        // Present message to user indicating that recording",
            "        // can't be performed until they change their preference",
            "        // under Settings -> Privacy -> Microphone",
            "    }",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3458269",
            "title": "Listing 1"
          }
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "Apps that access any of the device’s microphones must declare their intent to do so. You do this by including the "
                },
                {
                  "type": "codeVoice",
                  "code": "NSMicrophoneUsageDescription"
                },
                {
                  "type": "text",
                  "text": " key and a corresponding purpose string in your app’s "
                },
                {
                  "type": "codeVoice",
                  "code": "Info.plist"
                },
                {
                  "type": "text",
                  "text": ". When the system prompts the user to allow access, it displays the purpose string as part of the alert."
                }
              ]
            },
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "If an application attempts to access any of the device’s microphones without a corresponding purpose string, the app exits."
                }
              ]
            }
          ],
          "style": "important"
        },
        {
          "type": "paragraph",
          "inlineContent": []
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}