{
  "abstract": [
    {
      "type": "text",
      "text": "A protocol you use to load an asset’s or asset track’s media and metadata without blocking the calling thread."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/avfoundation",
        "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/avfoundation/avasynchronouskeyvalueloading",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1388923,
  "kind": "symbol",
  "metadata": {
    "title": "AVAsynchronousKeyValueLoading",
    "role": "symbol",
    "roleHeading": "Protocol",
    "modules": [
      {
        "name": "AVFoundation"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "4.0",
        "current": "14.3"
      },
      {
        "name": "macOS",
        "introducedAt": "10.7",
        "current": "11.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "14.3"
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "current": "14.3"
      },
      {
        "name": "watchOS",
        "introducedAt": "6.0",
        "current": "7.2"
      }
    ],
    "externalID": "c:objc(pl)AVAsynchronousKeyValueLoading",
    "symbolKind": "intf"
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/avfoundation/avasynchronouskeyvalueloading"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/avfoundation/avasynchronouskeyvalueloading"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/avfoundation": {
      "title": "AVFoundation",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation",
      "url": "/documentation/avfoundation",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata": {
      "title": "Media Assets and Metadata",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata",
      "url": "/documentation/avfoundation/media_assets_and_metadata",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avasset": {
      "title": "AVAsset",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avasset",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avasset",
      "abstract": [
        {
          "type": "text",
          "text": "An abstract class that models timed audiovisual media."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avplayeritem": {
      "title": "AVPlayerItem",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avplayeritem",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avplayeritem"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetexportsession": {
      "title": "AVAssetExportSession",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetexportsession",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetexportsession"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetreader": {
      "title": "AVAssetReader",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetreader",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetreader"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avasynchronouskeyvalueloading/1387321-loadvaluesasynchronouslyforkeys": {
      "title": "loadValuesAsynchronouslyForKeys:completionHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avasynchronouskeyvalueloading/1387321-loadvaluesasynchronouslyforkeys",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avasynchronouskeyvalueloading/1387321-loadvaluesasynchronouslyforkeys",
      "required": true,
      "abstract": [
        {
          "type": "text",
          "text": "Tells the asset to load the values of all of the specified keys that aren’t already loaded."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "loadValuesAsynchronouslyForKeys:completionHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avasynchronouskeyvalueloading/1386816-statusofvalueforkey": {
      "title": "statusOfValueForKey:error:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avasynchronouskeyvalueloading/1386816-statusofvalueforkey",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avasynchronouskeyvalueloading/1386816-statusofvalueforkey",
      "required": true,
      "abstract": [
        {
          "type": "text",
          "text": "Returns a status that indicates whether a property value is immediately available without blocking the calling thread."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "statusOfValueForKey:error:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avmetadataitem": {
      "title": "AVMetadataItem",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avmetadataitem",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avmetadataitem"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassettrack": {
      "title": "AVAssetTrack",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassettrack",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassettrack",
      "abstract": [
        {
          "type": "text",
          "text": "An object that provides the track-level interface to inspect an asset’s media tracks."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avkeyvaluestatus": {
      "title": "AVKeyValueStatus",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avkeyvaluestatus",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avkeyvaluestatus",
      "abstract": [
        {
          "type": "text",
          "text": "Values that indicate the status of a property."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/about_the_asset_model": {
      "title": "About the Asset Model",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/about_the_asset_model",
      "kind": "article",
      "role": "article",
      "url": "/documentation/avfoundation/media_assets_and_metadata/about_the_asset_model",
      "abstract": [
        {
          "type": "text",
          "text": "Understand how you use assets as the building blocks for various media use cases."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avurlasset": {
      "title": "AVURLAsset",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avurlasset",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avurlasset",
      "abstract": [
        {
          "type": "text",
          "text": "An asset subclass used to initialize an asset from a local or remote URL."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avasynchronouskeyvalueloading": {
      "title": "AVAsynchronousKeyValueLoading",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avasynchronouskeyvalueloading",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avasynchronouskeyvalueloading",
      "abstract": [
        {
          "type": "text",
          "text": "A protocol you use to load an asset’s or asset track’s media and metadata without blocking the calling thread."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "relationshipsSections": [
    {
      "kind": "relationships",
      "title": "Conforming Types",
      "type": "conformingTypes",
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avasset",
        "doc://com.apple.documentation/documentation/avfoundation/avassettrack",
        "doc://com.apple.documentation/documentation/avfoundation/avmetadataitem"
      ]
    }
  ],
  "topicSections": [
    {
      "kind": "taskGroup",
      "title": "Loading Properties",
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avasynchronouskeyvalueloading/1386816-statusofvalueforkey",
        "doc://com.apple.documentation/documentation/avfoundation/avkeyvaluestatus",
        "doc://com.apple.documentation/documentation/avfoundation/avasynchronouskeyvalueloading/1387321-loadvaluesasynchronouslyforkeys"
      ]
    }
  ],
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/about_the_asset_model",
        "doc://com.apple.documentation/documentation/avfoundation/avasset",
        "doc://com.apple.documentation/documentation/avfoundation/avassettrack",
        "doc://com.apple.documentation/documentation/avfoundation/avurlasset"
      ],
      "title": "Assets",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "@protocol"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "AVAsynchronousKeyValueLoading"
            }
          ],
          "platforms": [
            "iOS",
            "macOS",
            "Mac Catalyst",
            "tvOS",
            "watchOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This protocol includes methods to find out the status of a "
            },
            {
              "type": "emphasis",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "key"
                }
              ]
            },
            {
              "type": "text",
              "text": ", which is any property of an object that uses asynchronous key value loading. You can also ask the object to load its values asynchronously and inform you when the operation has completed."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Due to the nature of timed audiovisual media, sucessfully creating an asset doesn’t necessarily mean that its data is"
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Because of the nature of timed audiovisual media, successful initialization of an asset doesn’t necessarily mean that all of its data is immediately available. Instead, an asset waits to load its data until you perform an operation on it (for example, directly invoking any relevant "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/avasset"
            },
            {
              "type": "text",
              "text": " methods, playback with an "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/avplayeritem"
            },
            {
              "type": "text",
              "text": " object, export using "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetexportsession"
            },
            {
              "type": "text",
              "text": ", reading using an instance of "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetreader"
            },
            {
              "type": "text",
              "text": ", and so on). Although you can request the value of any key at any time, and it returns its value synchronously, the operation may block the calling thread until the request completes. To avoid blocking:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "If the asset hasn’t loaded a value, use the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avasynchronouskeyvalueloading/1387321-loadvaluesasynchronouslyforkeys"
                    },
                    {
                      "type": "text",
                      "text": " method to ask it to asynchronously load one or more of its values and notify you when loaded."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Determine whether the value for a given key is available using the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avasynchronouskeyvalueloading/1386816-statusofvalueforkey"
                    },
                    {
                      "type": "text",
                      "text": " method."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Even for use cases that may typically support ready access to some keys (such as for assets initialized with URLs for files in the local file system), slow I/O may require "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/avasset"
            },
            {
              "type": "text",
              "text": " to block before returning the key’s values. Although blocking may be acceptable for macOS clients if you’re preparing assets on background threads or in operation queues, when blocking should be avoided, use the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/avasynchronouskeyvalueloading/1387321-loadvaluesasynchronouslyforkeys"
            },
            {
              "type": "text",
              "text": " method. iOS and tvOS applications "
            },
            {
              "type": "emphasis",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "should always"
                }
              ]
            },
            {
              "type": "text",
              "text": " load values asynchronously using that method because blocking I/O requests may result in a termination of media services."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}