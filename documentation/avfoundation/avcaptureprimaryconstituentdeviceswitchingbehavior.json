{
  "abstract": [
    {
      "type": "text",
      "text": "Constants that control when to allow a virtual device to switch its active primary constituent device."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/avfoundation",
        "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture",
        "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/avfoundation/avcaptureprimaryconstituentdeviceswitchingbehavior",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 3875319,
  "kind": "symbol",
  "metadata": {
    "title": "AVCapturePrimaryConstituentDeviceSwitchingBehavior",
    "role": "symbol",
    "roleHeading": "Enumeration",
    "modules": [
      {
        "name": "AVFoundation"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "15.0",
        "current": "15.2"
      },
      {
        "name": "iPadOS",
        "introducedAt": "15.0",
        "current": "15.2"
      },
      {
        "name": "macOS",
        "introducedAt": "12.0",
        "current": "12.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "15.0",
        "current": "15.2"
      }
    ],
    "externalID": "c:@T@AVCapturePrimaryConstituentDeviceSwitchingBehavior",
    "symbolKind": "enum"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/avfoundation/avcaptureprimaryconstituentdeviceswitchingbehavior"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/avfoundation/avcapturedevice/primaryconstituentdeviceswitchingbehavior"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/avfoundation": {
      "title": "AVFoundation",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation",
      "url": "/documentation/avfoundation",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture": {
      "title": "Cameras and Media Capture",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture",
      "url": "/documentation/avfoundation/cameras_and_media_capture",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice": {
      "title": "AVCaptureDevice",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice",
      "url": "/documentation/avfoundation/avcapturedevice",
      "type": "topic",
      "kind": "symbol",
      "role": "symbol"
    },
    "doc://com.apple.documentation/documentation/objectivec/nsinteger": {
      "title": "NSInteger",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/objectivec/nsinteger",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/objectivec/nsinteger"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcaptureprimaryconstituentdeviceswitchingbehavior/avcaptureprimaryconstituentdeviceswitchingbehaviorunsupported": {
      "title": "AVCapturePrimaryConstituentDeviceSwitchingBehaviorUnsupported",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcaptureprimaryconstituentdeviceswitchingbehavior/avcaptureprimaryconstituentdeviceswitchingbehaviorunsupported",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcaptureprimaryconstituentdeviceswitchingbehavior/avcaptureprimaryconstituentdeviceswitchingbehaviorunsupported",
      "abstract": [
        {
          "type": "text",
          "text": "The device doesn’t support constituent device switching."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcaptureprimaryconstituentdeviceswitchingbehavior/avcaptureprimaryconstituentdeviceswitchingbehaviorauto": {
      "title": "AVCapturePrimaryConstituentDeviceSwitchingBehaviorAuto",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcaptureprimaryconstituentdeviceswitchingbehavior/avcaptureprimaryconstituentdeviceswitchingbehaviorauto",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcaptureprimaryconstituentdeviceswitchingbehavior/avcaptureprimaryconstituentdeviceswitchingbehaviorauto",
      "abstract": [
        {
          "type": "text",
          "text": "The device automatically selects the best camera for the current scene."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcaptureprimaryconstituentdeviceswitchingbehavior/avcaptureprimaryconstituentdeviceswitchingbehaviorrestricted": {
      "title": "AVCapturePrimaryConstituentDeviceSwitchingBehaviorRestricted",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcaptureprimaryconstituentdeviceswitchingbehavior/avcaptureprimaryconstituentdeviceswitchingbehaviorrestricted",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcaptureprimaryconstituentdeviceswitchingbehavior/avcaptureprimaryconstituentdeviceswitchingbehaviorrestricted",
      "abstract": [
        {
          "type": "text",
          "text": "The device restricts fallback camera selection to certain conditions."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcaptureprimaryconstituentdeviceswitchingbehavior/avcaptureprimaryconstituentdeviceswitchingbehaviorlocked": {
      "title": "AVCapturePrimaryConstituentDeviceSwitchingBehaviorLocked",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcaptureprimaryconstituentdeviceswitchingbehavior/avcaptureprimaryconstituentdeviceswitchingbehaviorlocked",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcaptureprimaryconstituentdeviceswitchingbehavior/avcaptureprimaryconstituentdeviceswitchingbehaviorlocked",
      "abstract": [
        {
          "type": "text",
          "text": "The device locks camera switching to the active primary constituent device."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875310-setprimaryconstituentdeviceswitc": {
      "title": "setPrimaryConstituentDeviceSwitchingBehavior:restrictedSwitchingBehaviorConditions:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875310-setprimaryconstituentdeviceswitc",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcapturedevice/3875310-setprimaryconstituentdeviceswitc",
      "abstract": [
        {
          "type": "text",
          "text": "Sets the switching behavior of the primary constituent device."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "setPrimaryConstituentDeviceSwitchingBehavior:restrictedSwitchingBehaviorConditions:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875309-primaryconstituentdeviceswitchin": {
      "title": "primaryConstituentDeviceSwitchingBehavior",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875309-primaryconstituentdeviceswitchin",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcapturedevice/3875309-primaryconstituentdeviceswitchin",
      "abstract": [
        {
          "type": "text",
          "text": "The switching behavior for the primary constituent device."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcaptureprimaryconstituentdeviceswitchingbehavior": {
      "title": "AVCapturePrimaryConstituentDeviceSwitchingBehavior",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcaptureprimaryconstituentdeviceswitchingbehavior",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcaptureprimaryconstituentdeviceswitchingbehavior",
      "abstract": [
        {
          "type": "text",
          "text": "Constants that control when to allow a virtual device to switch its active primary constituent device."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875308-primaryconstituentdevicerestrict": {
      "title": "primaryConstituentDeviceRestrictedSwitchingBehaviorConditions",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875308-primaryconstituentdevicerestrict",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcapturedevice/3875308-primaryconstituentdevicerestrict",
      "abstract": [
        {
          "type": "text",
          "text": "The conditions that restrict the primary constituent device’s switching behavior."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcaptureprimaryconstituentdevicerestrictedswitchingbehaviorconditions": {
      "title": "AVCapturePrimaryConstituentDeviceRestrictedSwitchingBehaviorConditions",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcaptureprimaryconstituentdevicerestrictedswitchingbehaviorconditions",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcaptureprimaryconstituentdevicerestrictedswitchingbehaviorconditions",
      "abstract": [
        {
          "type": "text",
          "text": "A structure that defines the conditions in which to restrict camera switching."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875304-activeprimaryconstituentdevice": {
      "title": "activePrimaryConstituentDevice",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875304-activeprimaryconstituentdevice",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcapturedevice/3875304-activeprimaryconstituentdevice",
      "abstract": [
        {
          "type": "text",
          "text": "A virtual device’s active primary constituent device."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875306-activeprimaryconstituentdevicesw": {
      "title": "activePrimaryConstituentDeviceSwitchingBehavior",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875306-activeprimaryconstituentdevicesw",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcapturedevice/3875306-activeprimaryconstituentdevicesw",
      "abstract": [
        {
          "type": "text",
          "text": "The switching behavior of the active constituent device."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875305-activeprimaryconstituentdevicere": {
      "title": "activePrimaryConstituentDeviceRestrictedSwitchingBehaviorConditions",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875305-activeprimaryconstituentdevicere",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcapturedevice/3875305-activeprimaryconstituentdevicere",
      "abstract": [
        {
          "type": "text",
          "text": "The conditions that restrict camera switching behavior for the active primary constituent device."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875311-supportedfallbackprimaryconstitu": {
      "title": "supportedFallbackPrimaryConstituentDevices",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875311-supportedfallbackprimaryconstitu",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcapturedevice/3875311-supportedfallbackprimaryconstitu",
      "abstract": [
        {
          "type": "text",
          "text": "The constituent devices available to select as a fallback for a longer focal length primary constituent device."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875307-fallbackprimaryconstituentdevice": {
      "title": "fallbackPrimaryConstituentDevices",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875307-fallbackprimaryconstituentdevice",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcapturedevice/3875307-fallbackprimaryconstituentdevice",
      "abstract": [
        {
          "type": "text",
          "text": "The fallback devices to use when a constituent device with a longer focal length becomes limited by its light sensitivity or minimum focus distance."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "diffAvailability": {
    "major": {
      "change": "modified",
      "platform": "Xcode",
      "versions": [
        "13.0",
        "13.2 beta 1"
      ]
    }
  },
  "topicSections": [
    {
      "kind": "taskGroup",
      "title": "Switching Behaviors",
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avcaptureprimaryconstituentdeviceswitchingbehavior/avcaptureprimaryconstituentdeviceswitchingbehaviorunsupported",
        "doc://com.apple.documentation/documentation/avfoundation/avcaptureprimaryconstituentdeviceswitchingbehavior/avcaptureprimaryconstituentdeviceswitchingbehaviorauto",
        "doc://com.apple.documentation/documentation/avfoundation/avcaptureprimaryconstituentdeviceswitchingbehavior/avcaptureprimaryconstituentdeviceswitchingbehaviorrestricted",
        "doc://com.apple.documentation/documentation/avfoundation/avcaptureprimaryconstituentdeviceswitchingbehavior/avcaptureprimaryconstituentdeviceswitchingbehaviorlocked"
      ],
      "anchor": "3875801"
    }
  ],
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875310-setprimaryconstituentdeviceswitc",
        "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875309-primaryconstituentdeviceswitchin",
        "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875308-primaryconstituentdevicerestrict",
        "doc://com.apple.documentation/documentation/avfoundation/avcaptureprimaryconstituentdevicerestrictedswitchingbehaviorconditions",
        "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875304-activeprimaryconstituentdevice",
        "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875306-activeprimaryconstituentdevicesw",
        "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875305-activeprimaryconstituentdevicere",
        "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875311-supportedfallbackprimaryconstitu",
        "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/3875307-fallbackprimaryconstituentdevice"
      ],
      "title": "Restricting Camera Switching",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "typedef"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "keyword",
              "text": "enum"
            },
            {
              "kind": "text",
              "text": " AVCapturePrimaryConstituentDeviceSwitchingBehavior : "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@NSInteger",
              "identifier": "doc://com.apple.documentation/documentation/objectivec/nsinteger",
              "text": "NSInteger"
            },
            {
              "kind": "text",
              "text": " {"
            },
            {
              "kind": "text",
              "text": "\n"
            },
            {
              "kind": "text",
              "text": "    ..."
            },
            {
              "kind": "text",
              "text": "\n"
            },
            {
              "kind": "text",
              "text": "} "
            },
            {
              "kind": "identifier",
              "text": "AVCapturePrimaryConstituentDeviceSwitchingBehavior"
            },
            {
              "kind": "text",
              "text": ";"
            }
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "macOS",
            "Mac Catalyst"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Virtual devices with multiple constituent video devices (such as the Dual Camera, Dual Wide Camera, or Triple Camera) consist of cameras that each have different properties like focal length, maximum light sensitivity, and minimum focus distance. The system selects one of the constituent video devices as the primary device."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When multiple constituent cameras can achieve a requested zoom factor, the virtual device chooses the best camera for the scene. The system makes this decision primarily using a camera’s focal length, because the camera with the longest focal length requires the least amount of digital upscaling to provide the highest image quality. Secondary conditions are focus and exposure. For example, when the scene requires focus or exposure to go beyond the limits of the active primary constituent device, a camera with a shorter focal length may be able to deliver a better quality image. The system considers such a device a fallback primary constituent device. For example, a telephoto camera with a minimum focus distance of 40 cm isn’t able to deliver a sharp image when the subject in the scene is closer than 40 cm. For such a scene, the virtual device switches to the wide-angle camera, which typically has a smaller minimum focus distance and is able to accurately focus the subject. In this case the wide-angle camera is the fallback primary constitute device."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}