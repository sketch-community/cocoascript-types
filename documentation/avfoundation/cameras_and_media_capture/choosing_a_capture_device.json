{
  "abstract": [
    {
      "type": "text",
      "text": "Select the front or back camera, or use advanced features like the TrueDepth camera or dual camera."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/avfoundation",
        "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture/choosing_a_capture_device",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 2958874,
  "kind": "article",
  "metadata": {
    "title": "Choosing a Capture Device",
    "role": "article",
    "roleHeading": "Article",
    "modules": [
      {
        "name": "AVFoundation"
      }
    ]
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/avfoundation/cameras_and_media_capture/choosing_a_capture_device"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/avfoundation/cameras_and_media_capture/choosing_a_capture_device"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/avfoundation": {
      "title": "AVFoundation",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation",
      "url": "/documentation/avfoundation",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture": {
      "title": "Cameras and Media Capture",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture",
      "url": "/documentation/avfoundation/cameras_and_media_capture",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice": {
      "title": "AVCaptureDevice",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcapturedevice",
      "abstract": [
        {
          "type": "text",
          "text": "A device that provides input (such as audio or video) for capture sessions and offers controls for hardware-specific capture features."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture/choosing_a_capture_device#2958862": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture/choosing_a_capture_device#2958862",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/avfoundation/cameras_and_media_capture/choosing_a_capture_device#2958862"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcapturedevicediscoverysession": {
      "title": "AVCaptureDeviceDiscoverySession",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturedevicediscoverysession",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcapturedevicediscoverysession"
    },
    "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture/choosing_a_capture_device#2958873": {
      "title": "Listing 2",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture/choosing_a_capture_device#2958873",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/avfoundation/cameras_and_media_capture/choosing_a_capture_device#2958873"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcapturedevicediscoverysession/2361002-devices": {
      "title": "devices",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturedevicediscoverysession/2361002-devices",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcapturedevicediscoverysession/2361002-devices"
    },
    "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture/choosing_a_capture_device#2958876": {
      "title": "Listing 3",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture/choosing_a_capture_device#2958876",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/avfoundation/cameras_and_media_capture/choosing_a_capture_device#2958876"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/2361508-defaultdevicewithdevicetype": {
      "title": "defaultDeviceWithDeviceType:mediaType:position:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/2361508-defaultdevicewithdevicetype",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcapturedevice/2361508-defaultdevicewithdevicetype",
      "fragments": [
        {
          "kind": "text",
          "text": "+ "
        },
        {
          "kind": "identifier",
          "text": "defaultDeviceWithDeviceType:mediaType:position:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture/setting_up_a_capture_session": {
      "title": "Setting Up a Capture Session",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture/setting_up_a_capture_session",
      "kind": "article",
      "role": "article",
      "url": "/documentation/avfoundation/cameras_and_media_capture/setting_up_a_capture_session",
      "abstract": [
        {
          "type": "text",
          "text": "Configure input devices, output media, preview views, and basic settings before capturing photos or video."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture/capturing_still_and_live_photos": {
      "title": "Capturing Still and Live Photos",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture/capturing_still_and_live_photos",
      "kind": "article",
      "role": "article",
      "url": "/documentation/avfoundation/cameras_and_media_capture/capturing_still_and_live_photos",
      "abstract": [
        {
          "type": "text",
          "text": "Configure and capture single or multiple still images, Live Photos, and other forms of photography."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture/choosing_a_capture_device": {
      "title": "Choosing a Capture Device",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture/choosing_a_capture_device",
      "kind": "article",
      "role": "article",
      "url": "/documentation/avfoundation/cameras_and_media_capture/choosing_a_capture_device",
      "abstract": [
        {
          "type": "text",
          "text": "Select the front or back camera, or use advanced features like the TrueDepth camera or dual camera."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcapturedeviceinput": {
      "title": "AVCaptureDeviceInput",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturedeviceinput",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcapturedeviceinput",
      "abstract": [
        {
          "type": "text",
          "text": "A capture input that provides media from a capture device to a capture session."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice",
        "doc://com.apple.documentation/documentation/avfoundation/avcapturedeviceinput"
      ],
      "title": "Capture Devices",
      "generated": true
    },
    {
      "title": "Related Documentation",
      "generated": false,
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture/setting_up_a_capture_session",
        "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture/capturing_still_and_live_photos"
      ]
    }
  ],
  "primaryContentSections": [
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Devices offer many options for capturing photos and video, including front- and back-facing cameras, dual cameras, and the TrueDepth camera. Choosing the appropriate camera automatically or offering a user interface for camera selection is an important part of developing any app with camera features."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "AVFoundation offers two main paths to selecting a camera device: the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice/2361508-defaultdevicewithdevicetype"
            },
            {
              "type": "text",
              "text": " method and the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturedevicediscoverysession"
            },
            {
              "type": "text",
              "text": " class."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Quickly Choose a Default Device",
          "anchor": "2958868"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If you know exactly what kind of capture devices you’re looking for, use one of the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturedevice"
            },
            {
              "type": "text",
              "text": " convenience methods to select a default device. For example, the code below selects the best available back-facing camera: either the dual camera on supported devices, or the single (wide-angle) camera on single-camera devices."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "if let device = AVCaptureDevice.default(.builtInDualCamera,",
            "                                        for: .video, position: .back) {",
            "    return device",
            "} else if let device = AVCaptureDevice.default(.builtInWideAngleCamera,",
            "                                               for: .video, position: .back) {",
            "    return device",
            "} else {",
            "    fatalError(\"Missing expected back camera device.\")",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "2958862",
            "title": "Listing 1"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": []
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Sort and Filter Devices with a Discovery Session",
          "anchor": "2958877"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To see the entire set of devices matching certain criteria so that you can use your own logic to choose one, use the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturedevicediscoverysession"
            },
            {
              "type": "text",
              "text": " class. First, create a discovery session for the kinds of devices you need:"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "let discoverySession = AVCaptureDevice.DiscoverySession(deviceTypes:",
            "    [.builtInTrueDepthCamera, .builtInDualCamera, .builtInWideAngleCamera],",
            "    mediaType: .video, position: .unspecified)"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "2958873",
            "title": "Listing 2"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Then, read the discovery session’s "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturedevicediscoverysession/2361002-devices"
            },
            {
              "type": "text",
              "text": " list to find matching devices and choose one that suits your needs. The discovery session automatically sorts its "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturedevicediscoverysession/2361002-devices"
            },
            {
              "type": "text",
              "text": " list based on the device types you asked for, so you can use the array order to find the best device with certain features. For example, because the discovery session shown above searches for depth-capable devices before the wide-angle camera and allows any device position, the first item in its devices list matching a specified position is the best depth capture device for that position (or a fallback device):"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "func bestDevice(in position: AVCaptureDevice.Position) -> AVCaptureDevice {",
            "    let devices = self.discoverySession.devices",
            "    guard !devices.isEmpty else { fatalError(\"Missing capture devices.\")}",
            "",
            "    return devices.first(where: { device in device.position == position })!",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "2958876",
            "title": "Listing 3"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": []
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}