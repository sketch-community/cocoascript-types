{
  "abstract": [
    {
      "type": "text",
      "text": "Change the format used for capturing movie files."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/avfoundation",
        "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture/capturing_video_in_alternative_formats",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 3021722,
  "kind": "article",
  "metadata": {
    "title": "Capturing Video in Alternative Formats",
    "role": "article",
    "roleHeading": "Article",
    "modules": [
      {
        "name": "AVFoundation"
      }
    ]
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/avfoundation/cameras_and_media_capture/capturing_video_in_alternative_formats"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/avfoundation/cameras_and_media_capture/capturing_video_in_alternative_formats"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/avfoundation": {
      "title": "AVFoundation",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation",
      "url": "/documentation/avfoundation",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture": {
      "title": "Cameras and Media Capture",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture",
      "url": "/documentation/avfoundation/cameras_and_media_capture",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avvideocodeckey": {
      "title": "AVVideoCodecKey",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avvideocodeckey",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avvideocodeckey"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avvideocodectypeh264": {
      "title": "AVVideoCodecTypeH264",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avvideocodectypeh264",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avvideocodectypeh264",
      "abstract": [
        {
          "type": "text",
          "text": "The H.264 video codec."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture/capturing_video_in_alternative_formats#3021723": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture/capturing_video_in_alternative_formats#3021723",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/avfoundation/cameras_and_media_capture/capturing_video_in_alternative_formats#3021723"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avvideocodectype": {
      "title": "AVVideoCodecType",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avvideocodectype",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avvideocodectype"
    },
    "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/exporting_video_to_alternative_formats": {
      "title": "Exporting Video to Alternative Formats",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/exporting_video_to_alternative_formats",
      "kind": "article",
      "role": "article",
      "url": "/documentation/avfoundation/media_assets_and_metadata/exporting_video_to_alternative_formats"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avvideocodectypehevc": {
      "title": "AVVideoCodecTypeHEVC",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avvideocodectypehevc",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avvideocodectypehevc",
      "abstract": [
        {
          "type": "text",
          "text": "The HEVC video codec."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avvideocodectypejpeg": {
      "title": "AVVideoCodecTypeJPEG",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avvideocodectypejpeg",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avvideocodectypejpeg",
      "abstract": [
        {
          "type": "text",
          "text": "The JPEG video codec."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avvideocodectypeappleprores422": {
      "title": "AVVideoCodecTypeAppleProRes422",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avvideocodectypeappleprores422",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avvideocodectypeappleprores422",
      "abstract": [
        {
          "type": "text",
          "text": "The Apple ProRes 422 video codec."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avvideocodectypeappleprores4444": {
      "title": "AVVideoCodecTypeAppleProRes4444",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avvideocodectypeappleprores4444",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avvideocodectypeappleprores4444",
      "abstract": [
        {
          "type": "text",
          "text": "The Apple ProRes 4444 video codec."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture/capturing_video_in_alternative_formats": {
      "title": "Capturing Video in Alternative Formats",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/cameras_and_media_capture/capturing_video_in_alternative_formats",
      "kind": "article",
      "role": "article",
      "url": "/documentation/avfoundation/cameras_and_media_capture/capturing_video_in_alternative_formats",
      "abstract": [
        {
          "type": "text",
          "text": "Change the format used for capturing movie files."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcapturemoviefileoutput": {
      "title": "AVCaptureMovieFileOutput",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturemoviefileoutput",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcapturemoviefileoutput",
      "abstract": [
        {
          "type": "text",
          "text": "A capture output that records video and audio to a QuickTime movie file."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcapturevideodataoutput": {
      "title": "AVCaptureVideoDataOutput",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcapturevideodataoutput",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcapturevideodataoutput",
      "abstract": [
        {
          "type": "text",
          "text": "A capture output that records video and provides access to video frames for processing."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avcapturemoviefileoutput",
        "doc://com.apple.documentation/documentation/avfoundation/avcapturevideodataoutput"
      ],
      "title": "Movie and Video Capture",
      "generated": true
    },
    {
      "title": "Related Documentation",
      "generated": false,
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avvideocodectypeh264",
        "doc://com.apple.documentation/documentation/avfoundation/avvideocodectypehevc",
        "doc://com.apple.documentation/documentation/avfoundation/avvideocodectypejpeg",
        "doc://com.apple.documentation/documentation/avfoundation/avvideocodectypeappleprores422",
        "doc://com.apple.documentation/documentation/avfoundation/avvideocodectypeappleprores4444"
      ]
    }
  ],
  "primaryContentSections": [
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Video captured on iPhone 8, iPhone 8 Plus, and iPhone X, and running iOS 11 or later, uses the HEVC format by default. When you use AVFoundation to capture videos, you can change the default format if you know in advance that you need a different format. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If your app shares the captured video using a system share sheet, the video is automatically converted to a format compatible with the destination device, and no more work is needed. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "However, if your app saves or shares captured video internally, for applications outside the system share sheet, you must use a video-capture format compatible with all target devices. This article shows you how to change the capture format dynamically, so that videos captured in your app begin in the desired format."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Change the Default Format Used in Capture",
          "anchor": "3021724"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Change the default format at capture time by specifying it in the output settings for capturing movie files. Each capture device has a dictionary of settings that you tweak to control properties of the output movie file. For example, to capture video in H.264/MPEG-4 AVC, set the output settings key "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/avvideocodeckey"
            },
            {
              "type": "text",
              "text": " to "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/avvideocodectypeh264"
            },
            {
              "type": "text",
              "text": ":"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "#import <AVFoundation/AVFoundation.h>",
            "",
            "AVCaptureMovieFileOutput* movieFileOutput = // Your AVCaptureMovieFileOutput //;",
            "AVCaptureConnection* connection = [movieFileOutput connectionWithMediaType:AVMediaTypeVideo];",
            "    ",
            "if ([movieFileOutput.availableVideoCodecTypes containsObject:AVVideoCodecTypeH264]) {",
            "    // Use the H.264 codec to encode the video.",
            "    [movieFileOutput setOutputSettings:@{AVVideoCodecKey: AVVideoCodecTypeH264} forConnection:connection];",
            "}"
          ],
          "syntax": "occ",
          "metadata": {
            "anchor": "3021723",
            "title": "Listing 1"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For a list of supported capture codecs, see "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/avvideocodectype"
            },
            {
              "type": "text",
              "text": " and the Related Documentation section."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Convert Previously Captured Movie Files",
          "anchor": "3021725"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "In addition to saving or sharing captured video using a different default format, you can also convert existing movie file content. For more information, see "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/exporting_video_to_alternative_formats"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}