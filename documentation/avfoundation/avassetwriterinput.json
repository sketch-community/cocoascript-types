{
  "abstract": [
    {
      "type": "text",
      "text": "A writer used to append media samples to a single track of an asset writer's output file."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/avfoundation",
        "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata",
        "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1388830,
  "kind": "symbol",
  "metadata": {
    "title": "AVAssetWriterInput",
    "role": "symbol",
    "roleHeading": "Class",
    "modules": [
      {
        "name": "AVFoundation"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "4.1",
        "current": "14.3"
      },
      {
        "name": "macOS",
        "introducedAt": "10.7",
        "current": "11.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "14.3"
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "current": "14.3"
      }
    ],
    "externalID": "c:objc(cs)AVAssetWriterInput",
    "symbolKind": "cl"
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/avfoundation/avassetwriterinput"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/avfoundation/avassetwriterinput"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/avfoundation": {
      "title": "AVFoundation",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation",
      "url": "/documentation/avfoundation",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata": {
      "title": "Media Assets and Metadata",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata",
      "url": "/documentation/avfoundation/media_assets_and_metadata",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing": {
      "title": "Sample-level Reading and Writing",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing",
      "url": "/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/coremedia/cmsamplebufferref": {
      "title": "CMSampleBufferRef",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coremedia/cmsamplebufferref",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coremedia/cmsamplebufferref"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389084-readyformoremediadata": {
      "title": "readyForMoreMediaData",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389084-readyformoremediadata",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1389084-readyformoremediadata",
      "abstract": [
        {
          "type": "text",
          "text": "A Boolean value that indicates the readiness of the input to accept more media data."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/objectivec/yes": {
      "title": "YES",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/objectivec/yes",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/objectivec/yes"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetreader": {
      "title": "AVAssetReader",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetreader",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetreader"
    },
    "doc://com.apple.documentation/documentation/objectivec/no": {
      "title": "NO",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/objectivec/no",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/objectivec/no"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387508-requestmediadatawhenreadyonqueue": {
      "title": "requestMediaDataWhenReadyOnQueue:usingBlock:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387508-requestmediadatawhenreadyonqueue",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1387508-requestmediadatawhenreadyonqueue",
      "abstract": [
        {
          "type": "text",
          "text": "Instructs the receiver to invoke a block repeatedly, at its convenience, to gather media data for writing to the output."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "requestMediaDataWhenReadyOnQueue:usingBlock:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avcaptureoutput": {
      "title": "AVCaptureOutput",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcaptureoutput",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avcaptureoutput"
    },
    "doc://com.apple.documentation/documentation/objectivec/nsobject": {
      "title": "NSObject",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/objectivec/nsobject",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/objectivec/nsobject"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1449070-assetwriterinputwithmediatype": {
      "title": "assetWriterInputWithMediaType:outputSettings:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1449070-assetwriterinputwithmediatype",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1449070-assetwriterinputwithmediatype",
      "abstract": [
        {
          "type": "text",
          "text": "Returns a new writer input object initialized with the specified media type and output settings. "
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "+ "
        },
        {
          "kind": "identifier",
          "text": "assetWriterInputWithMediaType:outputSettings:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1449091-assetwriterinputwithmediatype": {
      "title": "assetWriterInputWithMediaType:outputSettings:sourceFormatHint:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1449091-assetwriterinputwithmediatype",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1449091-assetwriterinputwithmediatype",
      "abstract": [
        {
          "type": "text",
          "text": "Returns a new writer input object initialized with the specified media type, output settings, and source format hint. "
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "+ "
        },
        {
          "kind": "identifier",
          "text": "assetWriterInputWithMediaType:outputSettings:sourceFormatHint:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1385912-initwithmediatype": {
      "title": "initWithMediaType:outputSettings:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1385912-initwithmediatype",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1385912-initwithmediatype",
      "abstract": [
        {
          "type": "text",
          "text": "Initialize a writer input object with the specified media type and output settings."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "initWithMediaType:outputSettings:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389994-initwithmediatype": {
      "title": "initWithMediaType:outputSettings:sourceFormatHint:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389994-initwithmediatype",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1389994-initwithmediatype",
      "abstract": [
        {
          "type": "text",
          "text": "Initialize a writer input object with the specified media type, output settings, and source hint."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "initWithMediaType:outputSettings:sourceFormatHint:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/video_settings": {
      "title": "Video Settings",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/video_settings",
      "kind": "article",
      "role": "collectionGroup",
      "url": "/documentation/avfoundation/avassetwriterinput/video_settings",
      "abstract": [
        {
          "type": "text",
          "text": "Define output image and video formats by using the key and value constants."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389566-appendsamplebuffer": {
      "title": "appendSampleBuffer:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389566-appendsamplebuffer",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1389566-appendsamplebuffer",
      "abstract": [
        {
          "type": "text",
          "text": "Appends samples to the receiver."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "appendSampleBuffer:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390122-markasfinished": {
      "title": "markAsFinished",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390122-markasfinished",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1390122-markasfinished",
      "abstract": [
        {
          "type": "text",
          "text": "Tells the writer it can't append more buffers to this input."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "markAsFinished"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386328-metadata": {
      "title": "metadata",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386328-metadata",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1386328-metadata",
      "abstract": [
        {
          "type": "text",
          "text": "The collection of track-level metadata to associate with the asset and for carriage in the output file."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390183-transform": {
      "title": "transform",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390183-transform",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1390183-transform",
      "abstract": [
        {
          "type": "text",
          "text": "The transform specified in the output file as the preferred transformation of the visual media data for display purposes."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386902-mediatimescale": {
      "title": "mediaTimeScale",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386902-mediatimescale",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1386902-mediatimescale",
      "abstract": [
        {
          "type": "text",
          "text": "Specifies the media time scale to be used."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387827-expectsmediadatainrealtime": {
      "title": "expectsMediaDataInRealTime",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387827-expectsmediadatainrealtime",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1387827-expectsmediadatainrealtime",
      "abstract": [
        {
          "type": "text",
          "text": "A Boolean value that indicates whether the input should tailor its processing of media data for real-time sources."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386764-marksoutputtrackasenabled": {
      "title": "marksOutputTrackAsEnabled",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386764-marksoutputtrackasenabled",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1386764-marksoutputtrackasenabled",
      "abstract": [
        {
          "type": "text",
          "text": "Returns whether the receiver’s track is enabled."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387437-naturalsize": {
      "title": "naturalSize",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387437-naturalsize",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1387437-naturalsize",
      "abstract": [
        {
          "type": "text",
          "text": "Size specified in the output file as the natural dimensions of the visual media data for display."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389949-preferredvolume": {
      "title": "preferredVolume",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389949-preferredvolume",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1389949-preferredvolume",
      "abstract": [
        {
          "type": "text",
          "text": "The preferred volume level for storing in the output file."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388347-addtrackassociationwithtrackofin": {
      "title": "addTrackAssociationWithTrackOfInput:type:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388347-addtrackassociationwithtrackofin",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1388347-addtrackassociationwithtrackofin",
      "abstract": [
        {
          "type": "text",
          "text": "Associates the track corresponding to the specified input with the track corresponding with the receiver."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "addTrackAssociationWithTrackOfInput:type:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388292-canaddtrackassociationwithtracko": {
      "title": "canAddTrackAssociationWithTrackOfInput:type:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388292-canaddtrackassociationwithtracko",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1388292-canaddtrackassociationwithtracko",
      "abstract": [
        {
          "type": "text",
          "text": "Validates the association between the tracks and their corresponding pair of inputs."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "canAddTrackAssociationWithTrackOfInput:type:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1385565-mediatype": {
      "title": "mediaType",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1385565-mediatype",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1385565-mediatype",
      "abstract": [
        {
          "type": "text",
          "text": "The media type of the samples that are appendable to the input."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388406-outputsettings": {
      "title": "outputSettings",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388406-outputsettings",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1388406-outputsettings",
      "abstract": [
        {
          "type": "text",
          "text": "The settings used for encoding the media appended to the output."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387647-sourceformathint": {
      "title": "sourceFormatHint",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387647-sourceformathint",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1387647-sourceformathint",
      "abstract": [
        {
          "type": "text",
          "text": "A hint about the format of the buffers to appended."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386316-samplereferencebaseurl": {
      "title": "sampleReferenceBaseURL",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386316-samplereferencebaseurl",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1386316-samplereferencebaseurl",
      "abstract": [
        {
          "type": "text",
          "text": "The base URL sample references are relative to."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390768-extendedlanguagetag": {
      "title": "extendedLanguageTag",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390768-extendedlanguagetag",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1390768-extendedlanguagetag",
      "abstract": [
        {
          "type": "text",
          "text": "Language tag to associate with the track corresponding to the receiver"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388507-languagecode": {
      "title": "languageCode",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388507-languagecode",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1388507-languagecode",
      "abstract": [
        {
          "type": "text",
          "text": "Language to associate with the track corresponding to the receiver."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388284-canperformmultiplepasses": {
      "title": "canPerformMultiplePasses",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388284-canperformmultiplepasses",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1388284-canperformmultiplepasses",
      "abstract": [
        {
          "type": "text",
          "text": "A Boolean value that indicates whether the input might perform multiple passes over appended media data."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390627-currentpassdescription": {
      "title": "currentPassDescription",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390627-currentpassdescription",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1390627-currentpassdescription",
      "abstract": [
        {
          "type": "text",
          "text": "An object that describes the requirements, such as source time ranges to append or re-append, to the current pass."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputpassdescription": {
      "title": "AVAssetWriterInputPassDescription",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputpassdescription",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinputpassdescription",
      "abstract": [
        {
          "type": "text",
          "text": "An object that defines an interface for querying about the requirements of the current pass."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389652-markcurrentpassasfinished": {
      "title": "markCurrentPassAsFinished",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389652-markcurrentpassasfinished",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1389652-markcurrentpassasfinished",
      "abstract": [
        {
          "type": "text",
          "text": "Instructs the receiver to analyze the appended media data and determine whether to improve the results by re-encoding certain segments."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "markCurrentPassAsFinished"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386570-performsmultipassencodingifsuppo": {
      "title": "performsMultiPassEncodingIfSupported",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386570-performsmultipassencodingifsuppo",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1386570-performsmultipassencodingifsuppo",
      "abstract": [
        {
          "type": "text",
          "text": "A Boolean value that indicates whether the input should attempt to encode the source media data using multiple passes."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388163-preferredmediachunkalignment": {
      "title": "preferredMediaChunkAlignment",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388163-preferredmediachunkalignment",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1388163-preferredmediachunkalignment",
      "abstract": [
        {
          "type": "text",
          "text": "The boundary, in bytes, for aligning media chunks."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390463-preferredmediachunkduration": {
      "title": "preferredMediaChunkDuration",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390463-preferredmediachunkduration",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1390463-preferredmediachunkduration",
      "abstract": [
        {
          "type": "text",
          "text": "The duration used for each chunk of sample data in the output file."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388489-respondtoeachpassdescriptiononqu": {
      "title": "respondToEachPassDescriptionOnQueue:usingBlock:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388489-respondtoeachpassdescriptiononqu",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1388489-respondtoeachpassdescriptiononqu",
      "abstract": [
        {
          "type": "text",
          "text": "Instructs the receiver to invoke a client-supplied block whenever a new pass has begun."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "respondToEachPassDescriptionOnQueue:usingBlock:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/2867633-mediadatalocation": {
      "title": "mediaDataLocation",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/2867633-mediadatalocation",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/2867633-mediadatalocation",
      "abstract": [
        {
          "type": "text",
          "text": "Specifies where to lay out the media data and whether to interleave the media data as the main media data."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputmediadatalocation": {
      "title": "AVAssetWriterInputMediaDataLocation",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputmediadatalocation",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinputmediadatalocation",
      "abstract": [
        {
          "type": "text",
          "text": "A value indicating how to lay out different media data and whether to interleave that media data."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing/writing_fragmented_mpeg-4_files_for_http_live_streaming": {
      "title": "Writing Fragmented MPEG-4 Files for HTTP Live Streaming",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing/writing_fragmented_mpeg-4_files_for_http_live_streaming",
      "kind": "article",
      "role": "sampleCode",
      "url": "/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing/writing_fragmented_mpeg-4_files_for_http_live_streaming",
      "abstract": [
        {
          "type": "text",
          "text": "Create an HTTP Live Streaming presentation by turning a movie file into a sequence of fragmented MPEG-4 files."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing/tagging_media_with_video_color_information": {
      "title": "Tagging Media with Video Color Information",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing/tagging_media_with_video_color_information",
      "kind": "article",
      "role": "article",
      "url": "/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing/tagging_media_with_video_color_information",
      "abstract": [
        {
          "type": "text",
          "text": "Inspect and set video color space information when writing and transcoding media."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriter": {
      "title": "AVAssetWriter",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriter",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriter",
      "abstract": [
        {
          "type": "text",
          "text": "An object used to write media data to a new file of a specified audiovisual container type."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterdelegate": {
      "title": "AVAssetWriterDelegate",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterdelegate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterdelegate",
      "abstract": [
        {
          "type": "text",
          "text": "A delegate protocol that defines the methods to implement to be an asset writer delegate."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput": {
      "title": "AVAssetWriterInput",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput",
      "abstract": [
        {
          "type": "text",
          "text": "A writer used to append media samples to a single track of an asset writer's output file."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputpixelbufferadaptor": {
      "title": "AVAssetWriterInputPixelBufferAdaptor",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputpixelbufferadaptor",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinputpixelbufferadaptor",
      "abstract": [
        {
          "type": "text",
          "text": "A buffer used to append video samples packaged as pixel buffers to a single asset writer input."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputmetadataadaptor": {
      "title": "AVAssetWriterInputMetadataAdaptor",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputmetadataadaptor",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinputmetadataadaptor",
      "abstract": [
        {
          "type": "text",
          "text": "An object that defines an interface for writing metadata packaged as timed metadata groups into a single asset writer input."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputgroup": {
      "title": "AVAssetWriterInputGroup",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputgroup",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinputgroup",
      "abstract": [
        {
          "type": "text",
          "text": "A group of tracks in a mutually exclusive relationship."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "diffAvailability": {
    "major": {
      "change": "modified",
      "platform": "Xcode",
      "versions": [
        "12.0",
        "12.3 Release Candidate"
      ]
    }
  },
  "relationshipsSections": [
    {
      "kind": "relationships",
      "title": "Inherits From",
      "type": "inheritsFrom",
      "identifiers": [
        "doc://com.apple.documentation/documentation/objectivec/nsobject"
      ]
    }
  ],
  "topicSections": [
    {
      "kind": "taskGroup",
      "title": "Creating an Asset Writer Input Instance",
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1449070-assetwriterinputwithmediatype",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1449091-assetwriterinputwithmediatype",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1385912-initwithmediatype",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389994-initwithmediatype",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/video_settings"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Adding Media Samples",
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389566-appendsamplebuffer",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389084-readyformoremediadata",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390122-markasfinished",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387508-requestmediadatawhenreadyonqueue"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Configuring a Writer Input",
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386328-metadata",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390183-transform",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386902-mediatimescale",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387827-expectsmediadatainrealtime",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386764-marksoutputtrackasenabled",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387437-naturalsize",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389949-preferredvolume"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Managing Track Associations",
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388347-addtrackassociationwithtrackofin",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388292-canaddtrackassociationwithtracko"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Inspecting a Writer Input",
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1385565-mediatype",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388406-outputsettings",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387647-sourceformathint",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386316-samplereferencebaseurl"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Managing Language Settings",
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390768-extendedlanguagetag",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388507-languagecode"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Performing Multiple-Pass Encoding",
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388284-canperformmultiplepasses",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390627-currentpassdescription",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputpassdescription",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389652-markcurrentpassasfinished",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386570-performsmultipassencodingifsuppo",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388163-preferredmediachunkalignment",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390463-preferredmediachunkduration",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388489-respondtoeachpassdescriptiononqu"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Specifying Media Data Layout",
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/2867633-mediadatalocation",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputmediadatalocation"
      ]
    }
  ],
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing/writing_fragmented_mpeg-4_files_for_http_live_streaming",
        "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing/tagging_media_with_video_color_information",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriter",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterdelegate",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputpixelbufferadaptor",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputmetadataadaptor",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputgroup"
      ],
      "title": "Media Writing",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "@interface"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "AVAssetWriterInput"
            },
            {
              "kind": "text",
              "text": " : "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSObject",
              "identifier": "doc://com.apple.documentation/documentation/objectivec/nsobject",
              "text": "NSObject"
            }
          ],
          "platforms": [
            "iOS",
            "macOS",
            "Mac Catalyst",
            "tvOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "An "
            },
            {
              "type": "codeVoice",
              "code": "AVAssetWriterInput"
            },
            {
              "type": "text",
              "text": " object can append media samples packaged as "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coremedia/cmsamplebufferref"
            },
            {
              "type": "text",
              "text": " objects, or collections of metadata, to a single track of the output file of an AVAssetWriter object."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When there are multiple inputs, "
            },
            {
              "type": "codeVoice",
              "code": "AVAssetWriter"
            },
            {
              "type": "text",
              "text": " tries to write media data in an ideal interleaving pattern for efficiency in storage and playback. Each of its inputs signals its readiness to receive media data for writing according to that pattern via the value of "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389084-readyformoremediadata"
            },
            {
              "type": "text",
              "text": ". If "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389084-readyformoremediadata"
            },
            {
              "type": "text",
              "text": " is "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/objectivec/yes"
            },
            {
              "type": "text",
              "text": ", an input can accept additional media data while maintaining appropriate interleaving. You can only append media data to an input while its "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389084-readyformoremediadata"
            },
            {
              "type": "text",
              "text": " property is "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/objectivec/yes"
            },
            {
              "type": "text",
              "text": ". "
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "If you’re writing media data from a non-real-time source, such as an instance of "
                    },
                    {
                      "type": "reference",
                      "isActive": false,
                      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetreader"
                    },
                    {
                      "type": "text",
                      "text": ", you should hold off on generating or obtaining more media data to append to an input when the value of "
                    },
                    {
                      "type": "reference",
                      "isActive": false,
                      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389084-readyformoremediadata"
                    },
                    {
                      "type": "text",
                      "text": " is "
                    },
                    {
                      "type": "reference",
                      "isActive": false,
                      "identifier": "doc://com.apple.documentation/documentation/objectivec/no"
                    },
                    {
                      "type": "text",
                      "text": ". To help with control of the supply of non-real-time media data, you can use "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387508-requestmediadatawhenreadyonqueue"
                    },
                    {
                      "type": "text",
                      "text": " to specify a block that the input should invoke whenever it’s ready to append input."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "If you’re writing media data from a real-time source such as an "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avcaptureoutput"
                    },
                    {
                      "type": "text",
                      "text": " object, you should set the input’s "
                    },
                    {
                      "type": "codeVoice",
                      "code": "expectsMediaDataInRealTime"
                    },
                    {
                      "type": "text",
                      "text": " property to "
                    },
                    {
                      "type": "reference",
                      "isActive": false,
                      "identifier": "doc://com.apple.documentation/documentation/objectivec/yes"
                    },
                    {
                      "type": "text",
                      "text": " to ensure to calculate the value of "
                    },
                    {
                      "type": "reference",
                      "isActive": false,
                      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389084-readyformoremediadata"
                    },
                    {
                      "type": "text",
                      "text": " appropriately. When "
                    },
                    {
                      "type": "codeVoice",
                      "code": "expectsMediaDataInRealTime"
                    },
                    {
                      "type": "text",
                      "text": " is "
                    },
                    {
                      "type": "reference",
                      "isActive": false,
                      "identifier": "doc://com.apple.documentation/documentation/objectivec/yes"
                    },
                    {
                      "type": "text",
                      "text": ", "
                    },
                    {
                      "type": "reference",
                      "isActive": false,
                      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389084-readyformoremediadata"
                    },
                    {
                      "type": "text",
                      "text": " will become "
                    },
                    {
                      "type": "reference",
                      "isActive": false,
                      "identifier": "doc://com.apple.documentation/documentation/objectivec/no"
                    },
                    {
                      "type": "text",
                      "text": " only when the input cannot process media samples as quickly as they are provided by the client. If "
                    },
                    {
                      "type": "reference",
                      "isActive": false,
                      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389084-readyformoremediadata"
                    },
                    {
                      "type": "text",
                      "text": " becomes "
                    },
                    {
                      "type": "reference",
                      "isActive": false,
                      "identifier": "doc://com.apple.documentation/documentation/objectivec/no"
                    },
                    {
                      "type": "text",
                      "text": " for a real-time source, the client may need to drop samples or consider reducing the data rate of appended samples."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The value of "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389084-readyformoremediadata"
            },
            {
              "type": "text",
              "text": " will often change from "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/objectivec/no"
            },
            {
              "type": "text",
              "text": " to "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/objectivec/yes"
            },
            {
              "type": "text",
              "text": " asynchronously while processing and writing previously-supplied media data to the output. It is possible for all of an asset writer’s inputs temporarily to return "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/objectivec/no"
            },
            {
              "type": "text",
              "text": " for "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389084-readyformoremediadata"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}