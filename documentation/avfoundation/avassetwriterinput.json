{
  "abstract": [
    {
      "type": "text",
      "text": "An object that appends media samples to a track in an asset writer’s output file."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/avfoundation",
        "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata",
        "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1388830,
  "kind": "symbol",
  "metadata": {
    "title": "AVAssetWriterInput",
    "role": "symbol",
    "roleHeading": "Class",
    "modules": [
      {
        "name": "AVFoundation"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "4.1",
        "current": "15.2"
      },
      {
        "name": "iPadOS",
        "introducedAt": "4.1",
        "current": "15.2"
      },
      {
        "name": "macOS",
        "introducedAt": "10.7",
        "current": "12.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "15.2"
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "current": "15.2"
      }
    ],
    "externalID": "c:objc(cs)AVAssetWriterInput",
    "symbolKind": "cl"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/avfoundation/avassetwriterinput"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/avfoundation/avassetwriterinput"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/avfoundation": {
      "title": "AVFoundation",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation",
      "url": "/documentation/avfoundation",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata": {
      "title": "Media Assets and Metadata",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata",
      "url": "/documentation/avfoundation/media_assets_and_metadata",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing": {
      "title": "Sample-level Reading and Writing",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing",
      "url": "/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389084-readyformoremediadata": {
      "title": "readyForMoreMediaData",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389084-readyformoremediadata",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1389084-readyformoremediadata",
      "abstract": [
        {
          "type": "text",
          "text": "A Boolean value that indicates whether the input is ready to accept media data."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/objectivec/nsobject": {
      "title": "NSObject",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/objectivec/nsobject",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/objectivec/nsobject"
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1449070-assetwriterinputwithmediatype": {
      "title": "assetWriterInputWithMediaType:outputSettings:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1449070-assetwriterinputwithmediatype",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1449070-assetwriterinputwithmediatype",
      "abstract": [
        {
          "type": "text",
          "text": "Returns a new input to append sample buffers of the specified type to the output file."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "+ "
        },
        {
          "kind": "identifier",
          "text": "assetWriterInputWithMediaType:outputSettings:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1385912-initwithmediatype": {
      "title": "initWithMediaType:outputSettings:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1385912-initwithmediatype",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1385912-initwithmediatype",
      "abstract": [
        {
          "type": "text",
          "text": "Creates an input to append sample buffers of the specified type to the output file."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "initWithMediaType:outputSettings:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1449091-assetwriterinputwithmediatype": {
      "title": "assetWriterInputWithMediaType:outputSettings:sourceFormatHint:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1449091-assetwriterinputwithmediatype",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1449091-assetwriterinputwithmediatype",
      "abstract": [
        {
          "type": "text",
          "text": "Returns a new input that appends sample buffers of the specified type and format hint to the output file."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "+ "
        },
        {
          "kind": "identifier",
          "text": "assetWriterInputWithMediaType:outputSettings:sourceFormatHint:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389994-initwithmediatype": {
      "title": "initWithMediaType:outputSettings:sourceFormatHint:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389994-initwithmediatype",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1389994-initwithmediatype",
      "abstract": [
        {
          "type": "text",
          "text": "Creates an input that appends sample buffers of the specified type and format hint to the output file."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "initWithMediaType:outputSettings:sourceFormatHint:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387437-naturalsize": {
      "title": "naturalSize",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387437-naturalsize",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1387437-naturalsize",
      "abstract": [
        {
          "type": "text",
          "text": "The natural display dimensions of the output’s visual media."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390183-transform": {
      "title": "transform",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390183-transform",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1390183-transform",
      "abstract": [
        {
          "type": "text",
          "text": "The transform to use for display of the output’s visual media."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389949-preferredvolume": {
      "title": "preferredVolume",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389949-preferredvolume",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1389949-preferredvolume",
      "abstract": [
        {
          "type": "text",
          "text": "The volume to prefer for playback of the output’s audio data."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386902-mediatimescale": {
      "title": "mediaTimeScale",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386902-mediatimescale",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1386902-mediatimescale",
      "abstract": [
        {
          "type": "text",
          "text": "The time scale of the track in the output file."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386764-marksoutputtrackasenabled": {
      "title": "marksOutputTrackAsEnabled",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386764-marksoutputtrackasenabled",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1386764-marksoutputtrackasenabled",
      "abstract": [
        {
          "type": "text",
          "text": "A Boolean value that indicates whether to enable a track in the output for playback and processing."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388507-languagecode": {
      "title": "languageCode",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388507-languagecode",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1388507-languagecode",
      "abstract": [
        {
          "type": "text",
          "text": "The language code of the input’s track."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390768-extendedlanguagetag": {
      "title": "extendedLanguageTag",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390768-extendedlanguagetag",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1390768-extendedlanguagetag",
      "abstract": [
        {
          "type": "text",
          "text": "The extended language for the input’s track."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386328-metadata": {
      "title": "metadata",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386328-metadata",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1386328-metadata",
      "abstract": [
        {
          "type": "text",
          "text": "The track-level metadata to write to the output."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388163-preferredmediachunkalignment": {
      "title": "preferredMediaChunkAlignment",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388163-preferredmediachunkalignment",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1388163-preferredmediachunkalignment",
      "abstract": [
        {
          "type": "text",
          "text": "The boundary, in bytes, for aligning media chunks."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390463-preferredmediachunkduration": {
      "title": "preferredMediaChunkDuration",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390463-preferredmediachunkduration",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1390463-preferredmediachunkduration",
      "abstract": [
        {
          "type": "text",
          "text": "The duration to use for each chunk of sample data in the output file."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386316-samplereferencebaseurl": {
      "title": "sampleReferenceBaseURL",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386316-samplereferencebaseurl",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1386316-samplereferencebaseurl",
      "abstract": [
        {
          "type": "text",
          "text": "The base URL sample references are relative to."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/2867633-mediadatalocation": {
      "title": "mediaDataLocation",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/2867633-mediadatalocation",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/2867633-mediadatalocation",
      "abstract": [
        {
          "type": "text",
          "text": "Specifies how the input lays out and interleaves media data."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputmediadatalocation": {
      "title": "AVAssetWriterInputMediaDataLocation",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputmediadatalocation",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinputmediadatalocation",
      "abstract": [
        {
          "type": "text",
          "text": "A structure that indicates how to lay out and interleave media data."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388292-canaddtrackassociationwithtracko": {
      "title": "canAddTrackAssociationWithTrackOfInput:type:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388292-canaddtrackassociationwithtracko",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1388292-canaddtrackassociationwithtracko",
      "abstract": [
        {
          "type": "text",
          "text": "Determines whether it’s valid to associate another input’s track with this input’s track."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "canAddTrackAssociationWithTrackOfInput:type:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388347-addtrackassociationwithtrackofin": {
      "title": "addTrackAssociationWithTrackOfInput:type:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388347-addtrackassociationwithtrackofin",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1388347-addtrackassociationwithtrackofin",
      "abstract": [
        {
          "type": "text",
          "text": "Adds an association between input tracks."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "addTrackAssociationWithTrackOfInput:type:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387827-expectsmediadatainrealtime": {
      "title": "expectsMediaDataInRealTime",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387827-expectsmediadatainrealtime",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1387827-expectsmediadatainrealtime",
      "abstract": [
        {
          "type": "text",
          "text": "A Boolean value that indicates whether the input tailors its processing for real-time sources."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387508-requestmediadatawhenreadyonqueue": {
      "title": "requestMediaDataWhenReadyOnQueue:usingBlock:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387508-requestmediadatawhenreadyonqueue",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1387508-requestmediadatawhenreadyonqueue",
      "abstract": [
        {
          "type": "text",
          "text": "Tells the input to request media data, at its convenience, to write to the output file."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "requestMediaDataWhenReadyOnQueue:usingBlock:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389566-appendsamplebuffer": {
      "title": "appendSampleBuffer:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389566-appendsamplebuffer",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1389566-appendsamplebuffer",
      "abstract": [
        {
          "type": "text",
          "text": "Appends a sample buffer to an input to write to the output file."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "appendSampleBuffer:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390122-markasfinished": {
      "title": "markAsFinished",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390122-markasfinished",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1390122-markasfinished",
      "abstract": [
        {
          "type": "text",
          "text": "Marks the input as finished to indicate that you’re done appending samples to it."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "markAsFinished"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388284-canperformmultiplepasses": {
      "title": "canPerformMultiplePasses",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388284-canperformmultiplepasses",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1388284-canperformmultiplepasses",
      "abstract": [
        {
          "type": "text",
          "text": "A Boolean value that indicates whether the input may perform multiple passes over appended media data."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390627-currentpassdescription": {
      "title": "currentPassDescription",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390627-currentpassdescription",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1390627-currentpassdescription",
      "abstract": [
        {
          "type": "text",
          "text": "An object that describes the requirements for the current pass."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputpassdescription": {
      "title": "AVAssetWriterInputPassDescription",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputpassdescription",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinputpassdescription",
      "abstract": [
        {
          "type": "text",
          "text": "An object that defines the interface to query for the requirements of the current pass."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389652-markcurrentpassasfinished": {
      "title": "markCurrentPassAsFinished",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389652-markcurrentpassasfinished",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1389652-markcurrentpassasfinished",
      "abstract": [
        {
          "type": "text",
          "text": "Tells the input to analyze the appended media to determine whether it can improve the results by reencoding certain segments."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "markCurrentPassAsFinished"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386570-performsmultipassencodingifsuppo": {
      "title": "performsMultiPassEncodingIfSupported",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386570-performsmultipassencodingifsuppo",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1386570-performsmultipassencodingifsuppo",
      "abstract": [
        {
          "type": "text",
          "text": "A Boolean value that indicates whether the input attempts to encode the source media data using multiple passes."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388489-respondtoeachpassdescriptiononqu": {
      "title": "respondToEachPassDescriptionOnQueue:usingBlock:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388489-respondtoeachpassdescriptiononqu",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1388489-respondtoeachpassdescriptiononqu",
      "abstract": [
        {
          "type": "text",
          "text": "Tells the input to invoke a callback whenever it begins a new pass."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "respondToEachPassDescriptionOnQueue:usingBlock:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1385565-mediatype": {
      "title": "mediaType",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1385565-mediatype",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1385565-mediatype",
      "abstract": [
        {
          "type": "text",
          "text": "The media type of the samples that the input accepts."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388406-outputsettings": {
      "title": "outputSettings",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388406-outputsettings",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1388406-outputsettings",
      "abstract": [
        {
          "type": "text",
          "text": "The settings to use for encoding media data you append to the output."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387647-sourceformathint": {
      "title": "sourceFormatHint",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387647-sourceformathint",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput/1387647-sourceformathint",
      "abstract": [
        {
          "type": "text",
          "text": "A hint about the format of the sample buffers to append to the input."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing/writing_fragmented_mpeg-4_files_for_http_live_streaming": {
      "title": "Writing Fragmented MPEG-4 Files for HTTP Live Streaming",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing/writing_fragmented_mpeg-4_files_for_http_live_streaming",
      "kind": "article",
      "role": "sampleCode",
      "url": "/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing/writing_fragmented_mpeg-4_files_for_http_live_streaming",
      "abstract": [
        {
          "type": "text",
          "text": "Create an HTTP Live Streaming presentation by turning a movie file into a sequence of fragmented MPEG-4 files."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing/tagging_media_with_video_color_information": {
      "title": "Tagging Media with Video Color Information",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing/tagging_media_with_video_color_information",
      "kind": "article",
      "role": "article",
      "url": "/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing/tagging_media_with_video_color_information",
      "abstract": [
        {
          "type": "text",
          "text": "Inspect and set video color space information when writing and transcoding media."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing/evaluating_an_app_s_video_color": {
      "title": "Evaluating an App’s Video Color",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing/evaluating_an_app_s_video_color",
      "kind": "article",
      "role": "article",
      "url": "/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing/evaluating_an_app_s_video_color",
      "abstract": [
        {
          "type": "text",
          "text": "Check color reproduction for a video in your app by using test patterns, video test equipment, and light-measurement instruments."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avoutputsettingsassistant": {
      "title": "AVOutputSettingsAssistant",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avoutputsettingsassistant",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avoutputsettingsassistant",
      "abstract": [
        {
          "type": "text",
          "text": "An object that builds audio and video output settings dictionaries."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriter": {
      "title": "AVAssetWriter",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriter",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriter",
      "abstract": [
        {
          "type": "text",
          "text": "An object that writes media data to a container file."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput": {
      "title": "AVAssetWriterInput",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinput",
      "abstract": [
        {
          "type": "text",
          "text": "An object that appends media samples to a track in an asset writer’s output file."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputpixelbufferadaptor": {
      "title": "AVAssetWriterInputPixelBufferAdaptor",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputpixelbufferadaptor",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinputpixelbufferadaptor",
      "abstract": [
        {
          "type": "text",
          "text": "An object that appends video samples to an asset writer input."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputmetadataadaptor": {
      "title": "AVAssetWriterInputMetadataAdaptor",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputmetadataadaptor",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinputmetadataadaptor",
      "abstract": [
        {
          "type": "text",
          "text": "An object that appends timed metadata groups to an asset writer input."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputgroup": {
      "title": "AVAssetWriterInputGroup",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputgroup",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/avfoundation/avassetwriterinputgroup",
      "abstract": [
        {
          "type": "text",
          "text": "A group of inputs with tracks that are mutually exclusive to each other for playback or processing."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "relationshipsSections": [
    {
      "kind": "relationships",
      "title": "Inherits From",
      "type": "inheritsFrom",
      "identifiers": [
        "doc://com.apple.documentation/documentation/objectivec/nsobject"
      ]
    }
  ],
  "topicSections": [
    {
      "kind": "taskGroup",
      "title": "Creating an Input",
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1449070-assetwriterinputwithmediatype",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1385912-initwithmediatype",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1449091-assetwriterinputwithmediatype",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389994-initwithmediatype"
      ],
      "anchor": "1669695"
    },
    {
      "kind": "taskGroup",
      "title": "Configuring Presentation",
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387437-naturalsize",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390183-transform",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389949-preferredvolume",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386902-mediatimescale",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386764-marksoutputtrackasenabled"
      ],
      "anchor": "3853067"
    },
    {
      "kind": "taskGroup",
      "title": "Configuring Language Support",
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388507-languagecode",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390768-extendedlanguagetag"
      ],
      "anchor": "3853065"
    },
    {
      "kind": "taskGroup",
      "title": "Configuring Metadata",
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386328-metadata"
      ],
      "anchor": "1669799"
    },
    {
      "kind": "taskGroup",
      "title": "Configuring Media Data Layout",
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388163-preferredmediachunkalignment",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390463-preferredmediachunkduration",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386316-samplereferencebaseurl",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/2867633-mediadatalocation",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputmediadatalocation"
      ],
      "anchor": "2882470"
    },
    {
      "kind": "taskGroup",
      "title": "Configuring Track Associations",
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388292-canaddtrackassociationwithtracko",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388347-addtrackassociationwithtrackofin"
      ],
      "anchor": "1669880"
    },
    {
      "kind": "taskGroup",
      "title": "Appending Media Samples",
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387827-expectsmediadatainrealtime",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389084-readyformoremediadata",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387508-requestmediadatawhenreadyonqueue",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389566-appendsamplebuffer",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390122-markasfinished"
      ],
      "anchor": "1669746"
    },
    {
      "kind": "taskGroup",
      "title": "Performing Multiple-Pass Encoding",
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388284-canperformmultiplepasses",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1390627-currentpassdescription",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputpassdescription",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389652-markcurrentpassasfinished",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1386570-performsmultipassencodingifsuppo",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388489-respondtoeachpassdescriptiononqu"
      ],
      "anchor": "1678086"
    },
    {
      "kind": "taskGroup",
      "title": "Inspecting an Input",
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1385565-mediatype",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1388406-outputsettings",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1387647-sourceformathint"
      ],
      "anchor": "1669917"
    }
  ],
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing/writing_fragmented_mpeg-4_files_for_http_live_streaming",
        "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing/tagging_media_with_video_color_information",
        "doc://com.apple.documentation/documentation/avfoundation/media_assets_and_metadata/sample-level_reading_and_writing/evaluating_an_app_s_video_color",
        "doc://com.apple.documentation/documentation/avfoundation/avoutputsettingsassistant",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriter",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputpixelbufferadaptor",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputmetadataadaptor",
        "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinputgroup"
      ],
      "title": "Media Writing",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "@interface"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "AVAssetWriterInput"
            },
            {
              "kind": "text",
              "text": " : "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSObject",
              "identifier": "doc://com.apple.documentation/documentation/objectivec/nsobject",
              "text": "NSObject"
            }
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "macOS",
            "Mac Catalyst",
            "tvOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Create an asset writer input to write a single track of media, and optional track-level metadata, to the output file. To write multiple concurrent tracks with ideal interleaving of media data, observe the value of the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/avfoundation/avassetwriterinput/1389084-readyformoremediadata"
            },
            {
              "type": "text",
              "text": " property of each input."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You can use an asset writer input to create tracks in a QuickTime movie file that aren’t self-contained, and instead reference sample data that exists in another file."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}