{
  "abstract": [
    {
      "type": "text",
      "text": "A conduit to your app’s databases."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/cloudkit"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1399162,
  "kind": "symbol",
  "metadata": {
    "title": "CKContainer",
    "role": "symbol",
    "roleHeading": "Class",
    "modules": [
      {
        "name": "CloudKit"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "8.0",
        "current": "15.2"
      },
      {
        "name": "iPadOS",
        "introducedAt": "8.0",
        "current": "15.2"
      },
      {
        "name": "macOS",
        "introducedAt": "10.10",
        "current": "12.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "15.2"
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "current": "15.2"
      },
      {
        "name": "watchOS",
        "introducedAt": "3.0",
        "current": "8.3"
      }
    ],
    "externalID": "c:objc(cs)CKContainer",
    "symbolKind": "cl"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/cloudkit/ckcontainer"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/cloudkit/ckcontainer"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/cloudkit": {
      "title": "CloudKit",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit",
      "url": "/documentation/cloudkit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/uikit/uiapplicationopensettingsurlstring": {
      "title": "UIApplicationOpenSettingsURLString",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiapplicationopensettingsurlstring",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiapplicationopensettingsurlstring"
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckuseridentity": {
      "title": "CKUserIdentity",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckuseridentity",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckuseridentity"
    },
    "doc://com.apple.documentation/documentation/foundation/nsqualityofservice/nsqualityofserviceuserinitiated": {
      "title": "NSQualityOfServiceUserInitiated",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsqualityofservice/nsqualityofserviceuserinitiated",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsqualityofservice/nsqualityofserviceuserinitiated"
    },
    "devLink-1758214": {
      "identifier": "devLink-1758214",
      "type": "link",
      "title": "Prioritize Work with Quality of Service Classes",
      "url": "https://developer.apple.com/library/archive/documentation/Performance/Conceptual/EnergyGuide-iOS/PrioritizeWorkWithQoS.html#//apple_ref/doc/uid/TP40015243-CH39"
    },
    "devLink-1758034": {
      "identifier": "devLink-1758034",
      "type": "link",
      "title": "Energy Efficiency Guide for iOS Apps",
      "url": "https://developer.apple.com/library/archive/documentation/Performance/Conceptual/EnergyGuide-iOS/index.html#//apple_ref/doc/uid/TP40015243"
    },
    "devLink-1750695": {
      "identifier": "devLink-1750695",
      "type": "link",
      "title": "Prioritize Work at the Task Level",
      "url": "https://developer.apple.com/library/archive/documentation/Performance/Conceptual/power_efficiency_guidelines_osx/PrioritizeWorkAtTheTaskLevel.html#//apple_ref/doc/uid/TP40013929-CH35"
    },
    "devLink-1750536": {
      "identifier": "devLink-1750536",
      "type": "link",
      "title": "Energy Efficiency Guide for Mac Apps",
      "url": "https://developer.apple.com/library/archive/documentation/Performance/Conceptual/power_efficiency_guidelines_osx/index.html#//apple_ref/doc/uid/TP40013929"
    },
    "doc://com.apple.documentation/documentation/objectivec/nsobject": {
      "title": "NSObject",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/objectivec/nsobject",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/objectivec/nsobject"
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399189-defaultcontainer": {
      "title": "defaultContainer",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399189-defaultcontainer",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/1399189-defaultcontainer",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the app’s default container."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "+ "
        },
        {
          "kind": "identifier",
          "text": "defaultContainer"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399193-containerwithidentifier": {
      "title": "containerWithIdentifier:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399193-containerwithidentifier",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/1399193-containerwithidentifier",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a container for the specified identifier."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "+ "
        },
        {
          "kind": "identifier",
          "text": "containerWithIdentifier:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399205-privateclouddatabase": {
      "title": "privateCloudDatabase",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399205-privateclouddatabase",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/1399205-privateclouddatabase",
      "abstract": [
        {
          "type": "text",
          "text": "The user’s private database."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399166-publicclouddatabase": {
      "title": "publicCloudDatabase",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399166-publicclouddatabase",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/1399166-publicclouddatabase",
      "abstract": [
        {
          "type": "text",
          "text": "The app’s public database."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640408-sharedclouddatabase": {
      "title": "sharedCloudDatabase",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640408-sharedclouddatabase",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/1640408-sharedclouddatabase",
      "abstract": [
        {
          "type": "text",
          "text": "The database that contains shared data."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640475-databasewithdatabasescope": {
      "title": "databaseWithDatabaseScope:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640475-databasewithdatabasescope",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/1640475-databasewithdatabasescope",
      "abstract": [
        {
          "type": "text",
          "text": "Returns the database with the specified scope."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "databaseWithDatabaseScope:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399182-containeridentifier": {
      "title": "containerIdentifier",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399182-containeridentifier",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/1399182-containeridentifier",
      "abstract": [
        {
          "type": "text",
          "text": "The container’s unique identifier."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399180-accountstatuswithcompletionhandl": {
      "title": "accountStatusWithCompletionHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399180-accountstatuswithcompletionhandl",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/1399180-accountstatuswithcompletionhandl",
      "abstract": [
        {
          "type": "text",
          "text": "Determines whether the system can access the user’s iCloud account. "
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "accountStatusWithCompletionHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckaccountstatus": {
      "title": "CKAccountStatus",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckaccountstatus",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckaccountstatus",
      "abstract": [
        {
          "type": "text",
          "text": "Constants that indicate the availability of the user’s iCloud account. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399174-requestapplicationpermission": {
      "title": "requestApplicationPermission:completionHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399174-requestapplicationpermission",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/1399174-requestapplicationpermission",
      "abstract": [
        {
          "type": "text",
          "text": "Prompts the user to authorize the specified permission.  "
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "requestApplicationPermission:completionHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399195-statusforapplicationpermission": {
      "title": "statusForApplicationPermission:completionHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399195-statusforapplicationpermission",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/1399195-statusforapplicationpermission",
      "abstract": [
        {
          "type": "text",
          "text": "Determines the authorization status of the specified permission."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "statusForApplicationPermission:completionHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckapplicationpermissions": {
      "title": "CKApplicationPermissions",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckapplicationpermissions",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckapplicationpermissions",
      "abstract": [
        {
          "type": "text",
          "text": "Constants that represent the permissions that a user grants. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckapplicationpermissionblock": {
      "title": "CKApplicationPermissionBlock",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckapplicationpermissionblock",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckapplicationpermissionblock",
      "abstract": [
        {
          "type": "text",
          "text": "A block that processes the outcome of a permissions request."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckapplicationpermissionstatus": {
      "title": "CKApplicationPermissionStatus",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckapplicationpermissionstatus",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckapplicationpermissionstatus",
      "abstract": [
        {
          "type": "text",
          "text": "Constants that represent the status of a permission."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399215-addoperation": {
      "title": "addOperation:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399215-addoperation",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/1399215-addoperation",
      "abstract": [
        {
          "type": "text",
          "text": "Adds an operation to the container’s queue."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "addOperation:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640421-discoverallidentitieswithcomplet": {
      "title": "discoverAllIdentitiesWithCompletionHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640421-discoverallidentitieswithcomplet",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/1640421-discoverallidentitieswithcomplet",
      "abstract": [
        {
          "type": "text",
          "text": "Fetches all user identities that match entries in the user’s Contacts."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "discoverAllIdentitiesWithCompletionHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640430-discoveruseridentitywithemailadd": {
      "title": "discoverUserIdentityWithEmailAddress:completionHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640430-discoveruseridentitywithemailadd",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/1640430-discoveruseridentitywithemailadd",
      "abstract": [
        {
          "type": "text",
          "text": "Fetches the user identity for the specified email address."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "discoverUserIdentityWithEmailAddress:completionHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640516-discoveruseridentitywithphonenum": {
      "title": "discoverUserIdentityWithPhoneNumber:completionHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640516-discoveruseridentitywithphonenum",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/1640516-discoveruseridentitywithphonenum",
      "abstract": [
        {
          "type": "text",
          "text": "Fetches the user identity for the specified phone number."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "discoverUserIdentityWithPhoneNumber:completionHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640517-discoveruseridentitywithuserreco": {
      "title": "discoverUserIdentityWithUserRecordID:completionHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640517-discoveruseridentitywithuserreco",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/1640517-discoveruseridentitywithuserreco",
      "abstract": [
        {
          "type": "text",
          "text": "Fetches the user identity for the specified user record ID."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "discoverUserIdentityWithUserRecordID:completionHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640489-fetchshareparticipantwithemailad": {
      "title": "fetchShareParticipantWithEmailAddress:completionHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640489-fetchshareparticipantwithemailad",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/1640489-fetchshareparticipantwithemailad",
      "abstract": [
        {
          "type": "text",
          "text": "Fetches the share participant with the specified email address. "
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "fetchShareParticipantWithEmailAddress:completionHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640493-fetchshareparticipantwithphonenu": {
      "title": "fetchShareParticipantWithPhoneNumber:completionHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640493-fetchshareparticipantwithphonenu",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/1640493-fetchshareparticipantwithphonenu",
      "abstract": [
        {
          "type": "text",
          "text": "Fetches the share participant with the specified phone number."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "fetchShareParticipantWithPhoneNumber:completionHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640387-fetchshareparticipantwithuserrec": {
      "title": "fetchShareParticipantWithUserRecordID:completionHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640387-fetchshareparticipantwithuserrec",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/1640387-fetchshareparticipantwithuserrec",
      "abstract": [
        {
          "type": "text",
          "text": "Fetches the share participant with the specified user record ID."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "fetchShareParticipantWithUserRecordID:completionHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399191-fetchuserrecordidwithcompletionh": {
      "title": "fetchUserRecordIDWithCompletionHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399191-fetchuserrecordidwithcompletionh",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/1399191-fetchuserrecordidwithcompletionh",
      "abstract": [
        {
          "type": "text",
          "text": "Fetches the user record ID for the current user."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "fetchUserRecordIDWithCompletionHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcurrentuserdefaultname": {
      "title": "CKCurrentUserDefaultName",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcurrentuserdefaultname",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcurrentuserdefaultname",
      "abstract": [
        {
          "type": "text",
          "text": "A constant that provides the current user’s default name."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckownerdefaultname": {
      "title": "CKOwnerDefaultName",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckownerdefaultname",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckownerdefaultname",
      "abstract": [
        {
          "type": "text",
          "text": "A constant that provides the default owner’s name."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399160-fetchalllonglivedoperationidswit": {
      "title": "fetchAllLongLivedOperationIDsWithCompletionHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399160-fetchalllonglivedoperationidswit",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/1399160-fetchalllonglivedoperationidswit",
      "abstract": [
        {
          "type": "text",
          "text": "Fetches the IDs of any long-lived operations that are running."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "fetchAllLongLivedOperationIDsWithCompletionHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399164-fetchlonglivedoperationwithid": {
      "title": "fetchLongLivedOperationWithID:completionHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399164-fetchlonglivedoperationwithid",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/1399164-fetchlonglivedoperationwithid",
      "abstract": [
        {
          "type": "text",
          "text": "Fetches the long-lived operation for the specified operation ID."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "fetchLongLivedOperationWithID:completionHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/2113666-fetchsharemetadatawithurl": {
      "title": "fetchShareMetadataWithURL:completionHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/2113666-fetchsharemetadatawithurl",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/2113666-fetchsharemetadatawithurl",
      "abstract": [
        {
          "type": "text",
          "text": "Fetches the share metadata for the specified share URL."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "fetchShareMetadataWithURL:completionHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/2113667-acceptsharemetadata": {
      "title": "acceptShareMetadata:completionHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/2113667-acceptsharemetadata",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer/2113667-acceptsharemetadata",
      "abstract": [
        {
          "type": "text",
          "text": "Accepts the specified share metadata."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "acceptShareMetadata:completionHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckaccountchangednotification": {
      "title": "CKAccountChangedNotification",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckaccountchangednotification",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckaccountchangednotification",
      "abstract": [
        {
          "type": "text",
          "text": "A notification that a container posts when the status of an iCloud account changes."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckcontainer": {
      "title": "CKContainer",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckcontainer",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckcontainer",
      "abstract": [
        {
          "type": "text",
          "text": "A conduit to your app’s databases."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckdatabase": {
      "title": "CKDatabase",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckdatabase",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckdatabase",
      "abstract": [
        {
          "type": "text",
          "text": "A collection of record zones and subscriptions."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckoperationgroup": {
      "title": "CKOperationGroup",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckoperationgroup",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckoperationgroup",
      "abstract": [
        {
          "type": "text",
          "text": "An explicit association between two or more operations."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckrecordvalue": {
      "title": "CKRecordValue",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckrecordvalue",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckrecordvalue",
      "abstract": [
        {
          "type": "text",
          "text": "The protocol that provides strong type-checking for objects that the CloudKit framework stores on the server."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "relationshipsSections": [
    {
      "kind": "relationships",
      "title": "Inherits From",
      "type": "inheritsFrom",
      "identifiers": [
        "doc://com.apple.documentation/documentation/objectivec/nsobject"
      ]
    }
  ],
  "topicSections": [
    {
      "kind": "taskGroup",
      "title": "Creating Containers",
      "identifiers": [
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399189-defaultcontainer",
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399193-containerwithidentifier"
      ],
      "anchor": "1666300"
    },
    {
      "kind": "taskGroup",
      "title": "Getting the Public and Private Databases",
      "identifiers": [
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399205-privateclouddatabase",
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399166-publicclouddatabase",
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640408-sharedclouddatabase",
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640475-databasewithdatabasescope"
      ],
      "anchor": "1666349"
    },
    {
      "kind": "taskGroup",
      "title": "Getting the Container’s Identifier",
      "identifiers": [
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399182-containeridentifier"
      ],
      "anchor": "1666410"
    },
    {
      "kind": "taskGroup",
      "title": "Determining the User’s iCloud Access Status",
      "identifiers": [
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399180-accountstatuswithcompletionhandl",
        "doc://com.apple.documentation/documentation/cloudkit/ckaccountstatus"
      ],
      "anchor": "1666446"
    },
    {
      "kind": "taskGroup",
      "title": "Requesting and Determining App Permissions",
      "identifiers": [
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399174-requestapplicationpermission",
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399195-statusforapplicationpermission",
        "doc://com.apple.documentation/documentation/cloudkit/ckapplicationpermissions",
        "doc://com.apple.documentation/documentation/cloudkit/ckapplicationpermissionblock",
        "doc://com.apple.documentation/documentation/cloudkit/ckapplicationpermissionstatus"
      ],
      "anchor": "1666484"
    },
    {
      "kind": "taskGroup",
      "title": "Performing Operations on the Container",
      "identifiers": [
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399215-addoperation"
      ],
      "anchor": "1666551"
    },
    {
      "kind": "taskGroup",
      "title": "Discovering User Records",
      "identifiers": [
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640421-discoverallidentitieswithcomplet",
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640430-discoveruseridentitywithemailadd",
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640516-discoveruseridentitywithphonenum",
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640517-discoveruseridentitywithuserreco",
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640489-fetchshareparticipantwithemailad",
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640493-fetchshareparticipantwithphonenu",
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1640387-fetchshareparticipantwithuserrec",
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399191-fetchuserrecordidwithcompletionh",
        "doc://com.apple.documentation/documentation/cloudkit/ckcurrentuserdefaultname",
        "doc://com.apple.documentation/documentation/cloudkit/ckownerdefaultname"
      ],
      "anchor": "1666586"
    },
    {
      "kind": "taskGroup",
      "title": "Fetching Long-Lived Operations",
      "identifiers": [
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399160-fetchalllonglivedoperationidswit",
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/1399164-fetchlonglivedoperationwithid"
      ],
      "anchor": "1682585"
    },
    {
      "kind": "taskGroup",
      "title": "Accessing Container Metadata",
      "identifiers": [
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/2113666-fetchsharemetadatawithurl",
        "doc://com.apple.documentation/documentation/cloudkit/ckcontainer/2113667-acceptsharemetadata",
        "doc://com.apple.documentation/documentation/cloudkit/ckaccountchangednotification"
      ],
      "anchor": "3640583"
    }
  ],
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/cloudkit/ckdatabase",
        "doc://com.apple.documentation/documentation/cloudkit/ckoperationgroup",
        "doc://com.apple.documentation/documentation/cloudkit/ckrecordvalue"
      ],
      "title": "Core Objects",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "@interface"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "CKContainer"
            },
            {
              "kind": "text",
              "text": " : "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSObject",
              "identifier": "doc://com.apple.documentation/documentation/objectivec/nsobject",
              "text": "NSObject"
            }
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "macOS",
            "Mac Catalyst",
            "tvOS",
            "watchOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A container manages all explicit and implicit attempts to access its contents."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Every app has a default container that manages its own content. If you develop a suite of apps, you can access any containers that you have the appropriate entitlements for. Each new container distinguishes between public and private data. CloudKit always stores private data in the appropriate container directory in the user’s iCloud account."
            }
          ]
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "codeVoice",
                  "code": "CKContainer"
                },
                {
                  "type": "text",
                  "text": " instances operate with a "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/foundation/nsqualityofservice/nsqualityofserviceuserinitiated"
                },
                {
                  "type": "text",
                  "text": " quality of service level by default. For information about quality of service, see "
                },
                {
                  "type": "link",
                  "title": "Prioritize Work with Quality of Service Classes",
                  "destination": "https://developer.apple.com/library/archive/documentation/Performance/Conceptual/EnergyGuide-iOS/PrioritizeWorkWithQoS.html#//apple_ref/doc/uid/TP40015243-CH39"
                },
                {
                  "type": "text",
                  "text": " in "
                },
                {
                  "type": "link",
                  "title": "Energy Efficiency Guide for iOS Apps",
                  "destination": "https://developer.apple.com/library/archive/documentation/Performance/Conceptual/EnergyGuide-iOS/index.html#//apple_ref/doc/uid/TP40015243"
                },
                {
                  "type": "text",
                  "text": " and "
                },
                {
                  "type": "link",
                  "title": "Prioritize Work at the Task Level",
                  "destination": "https://developer.apple.com/library/archive/documentation/Performance/Conceptual/power_efficiency_guidelines_osx/PrioritizeWorkAtTheTaskLevel.html#//apple_ref/doc/uid/TP40013929-CH35"
                },
                {
                  "type": "text",
                  "text": " in "
                },
                {
                  "type": "link",
                  "title": "Energy Efficiency Guide for Mac Apps",
                  "destination": "https://developer.apple.com/library/archive/documentation/Performance/Conceptual/power_efficiency_guidelines_osx/index.html#//apple_ref/doc/uid/TP40013929"
                },
                {
                  "type": "text",
                  "text": "."
                }
              ]
            }
          ],
          "style": "note",
          "name": "Note"
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Interacting with a Container",
          "anchor": "1666188"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A container coordinates all interactions between your app and the server. Most of these interactions involve the following tasks:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Determining whether the user has an iCloud account, which lets you know if you can write data to the user’s personal storage."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "With the user’s permission, discovering other users who the current user knows, and making the current user’s information discoverable."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Getting the container or one of its databases to use with an operation."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Public and Private Databases",
          "anchor": "1666212"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Each container provides a public and a private database for storing data. The contents of the public database are accessible to all users of the app, whereas the contents of the private database are, by default, visible only to the current user. Content that is specific to a single user usually belongs in that user’s private database, whereas app-related content that you provide (or that users want to share) belongs in the public database."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The public database is always available, regardless of whether the device has an active iCloud account. When there isn’t an iCloud account, your app can fetch records from and query the public database, but it can’t save changes. Saving records to the public database requires an active iCloud account to identify the owner of those records. Access to the private database always requires an active iCloud account on the device."
            }
          ]
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The data in a public database counts toward the iCloud storage quota of the app that owns the container. That data doesn’t count toward the storage quota of any single user. Data in the private database counts toward the user’s iCloud storage quota."
                }
              ]
            }
          ],
          "style": "note",
          "name": "Note"
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Using iCloud",
          "anchor": "2530669"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Whenever possible, design your app to run gracefully with or without an active iCloud account. Even without an active iCloud account, apps can fetch records from the public database and display that information to the user. If your app requires the ability to write to the public database or requires access to the private database, notify the user of the reason and encourage them to enable iCloud. You can even provide a button that takes the user directly to Settings so that they can enable iCloud. To implement such a button, have the button’s action open the URL that the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uiapplicationopensettingsurlstring"
            },
            {
              "type": "text",
              "text": " constant provides."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "User Records and Permissions",
          "anchor": "1666237"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Each user who accesses a container has a corresponding user record in that container. By default, user records contain no identifying personal information about the user or their iCloud account. User records differentiate users with unique identifiers. Every user gets their own unique identifier in a container. Because there is a record that has the same identifier as the user identifier, you can use the record to store information about the current user. Always do so carefully, understanding that other users of the app can see any data that you add to the user record. Never store sensitive personal information in the user record. This user record isn’t the same as the user’s "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckuseridentity"
            },
            {
              "type": "text",
              "text": ", which is a separate record and, by default, doesn’t contain any personally identifying information."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Testing Your Code Using the Development Container",
          "anchor": "1666267"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "At runtime, CloudKit uses your app’s "
            },
            {
              "type": "codeVoice",
              "code": "com.apple.developer.icloud-container-environment"
            },
            {
              "type": "text",
              "text": " entitlement to discover whether you’re using a "
            },
            {
              "type": "codeVoice",
              "code": "Development"
            },
            {
              "type": "text",
              "text": " or "
            },
            {
              "type": "codeVoice",
              "code": "Production"
            },
            {
              "type": "text",
              "text": " version of your provisioning profile. When you configure the entitlement for development, CloudKit configures the app’s containers to use the development server. The development environment is a safe place to make changes during the development process without disrupting users of your app. You can add new fields to records programmatically, and you can delete or modify fields using iCloud Dashboard."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Before shipping your app, always test your app’s behavior in the production environment. The production server generates errors when your app tries to add record types or add new fields to existing record types. Testing in the production environment helps you find and fix the places in your code where you’re making those types of changes. You can use CloudKit Dashboard to modify record types in the development environment, and then migrate those changes to the production environment."
            }
          ]
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "Simulator works only with the development environment. When you’re ready to test your app in a production environment, do so from a device."
                }
              ]
            }
          ],
          "style": "note",
          "name": "Note"
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}