{
  "abstract": [
    {
      "type": "text",
      "text": "The block to execute when the system finishes processing all changes."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/cloudkit",
        "doc://com.apple.documentation/documentation/cloudkit/record_operations",
        "doc://com.apple.documentation/documentation/cloudkit/record_operations/deprecated_symbols",
        "doc://com.apple.documentation/documentation/cloudkit/ckfetchrecordchangesoperation"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/cloudkit/ckfetchrecordchangesoperation/1515267-fetchrecordchangescompletionbloc",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1515267,
  "kind": "symbol",
  "metadata": {
    "title": "fetchRecordChangesCompletionBlock",
    "role": "symbol",
    "roleHeading": "Instance Property",
    "modules": [
      {
        "name": "CloudKit"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "8.0",
        "deprecatedAt": "10.0",
        "current": "14.3",
        "deprecated": true
      },
      {
        "name": "macOS",
        "introducedAt": "10.10",
        "deprecatedAt": "10.12",
        "current": "11.1",
        "deprecated": true
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "deprecatedAt": "13.0",
        "current": "14.3",
        "deprecated": true
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "deprecatedAt": "10.0",
        "current": "14.3",
        "deprecated": true
      },
      {
        "name": "watchOS",
        "introducedAt": "3.0",
        "deprecatedAt": "3.0",
        "current": "7.2",
        "deprecated": true
      }
    ],
    "externalID": "c:objc(cs)CKFetchRecordChangesOperation(py)fetchRecordChangesCompletionBlock",
    "symbolKind": "instp"
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/cloudkit/ckfetchrecordchangesoperation/1515267-fetchrecordchangescompletionbloc"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/cloudkit/ckfetchrecordchangesoperation/1515267-fetchrecordchangescompletionbloc"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/cloudkit": {
      "title": "CloudKit",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit",
      "url": "/documentation/cloudkit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/cloudkit/record_operations": {
      "title": "Record Operations",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/record_operations",
      "url": "/documentation/cloudkit/record_operations",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/cloudkit/record_operations/deprecated_symbols": {
      "title": "Deprecated Symbols",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/record_operations/deprecated_symbols",
      "url": "/documentation/cloudkit/record_operations/deprecated_symbols",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckfetchrecordchangesoperation": {
      "title": "CKFetchRecordChangesOperation",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckfetchrecordchangesoperation",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckfetchrecordchangesoperation",
      "abstract": [
        {
          "type": "text",
          "text": "An operation that reports on the changed and deleted records in the specified record zone."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/objectivec/nil-2gl": {
      "title": "nil",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/objectivec/nil-2gl",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/objectivec/nil-2gl"
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckfetchrecordchangesoperation/1515322-morecoming": {
      "title": "moreComing",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckfetchrecordchangesoperation/1515322-morecoming",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckfetchrecordchangesoperation/1515322-morecoming"
    },
    "doc://com.apple.documentation/documentation/objectivec/yes": {
      "title": "YES",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/objectivec/yes",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/objectivec/yes"
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckserverchangetoken": {
      "title": "CKServerChangeToken",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckserverchangetoken",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckserverchangetoken"
    },
    "doc://com.apple.documentation/documentation/foundation/nsdata": {
      "title": "NSData",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsdata",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsdata"
    },
    "doc://com.apple.documentation/documentation/foundation/nserror": {
      "title": "NSError",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nserror",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nserror"
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckfetchrecordchangesoperation/1515155-recordchangedblock": {
      "title": "recordChangedBlock",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckfetchrecordchangesoperation/1515155-recordchangedblock",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckfetchrecordchangesoperation/1515155-recordchangedblock",
      "abstract": [
        {
          "type": "text",
          "text": "The block to execute with the contents of a changed record."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckfetchrecordchangesoperation/1515054-recordwithidwasdeletedblock": {
      "title": "recordWithIDWasDeletedBlock",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckfetchrecordchangesoperation/1515054-recordwithidwasdeletedblock",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckfetchrecordchangesoperation/1515054-recordwithidwasdeletedblock",
      "abstract": [
        {
          "type": "text",
          "text": "The block to execute with the ID of a deleted record."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckfetchrecordchangesoperation/1515267-fetchrecordchangescompletionbloc": {
      "title": "fetchRecordChangesCompletionBlock",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckfetchrecordchangesoperation/1515267-fetchrecordchangescompletionbloc",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckfetchrecordchangesoperation/1515267-fetchrecordchangescompletionbloc",
      "abstract": [
        {
          "type": "text",
          "text": "The block to execute when the system finishes processing all changes."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/cloudkit/ckfetchrecordchangesoperation/1515155-recordchangedblock",
        "doc://com.apple.documentation/documentation/cloudkit/ckfetchrecordchangesoperation/1515054-recordwithidwasdeletedblock"
      ],
      "title": "Processing the Fetch Record Changes Results",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "@property"
            },
            {
              "kind": "text",
              "text": "(nonatomic, copy, nullable) "
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": " (^"
            },
            {
              "kind": "identifier",
              "text": "fetchRecordChangesCompletionBlock"
            },
            {
              "kind": "text",
              "text": ")("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)CKServerChangeToken",
              "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckserverchangetoken",
              "text": "CKServerChangeToken"
            },
            {
              "kind": "text",
              "text": " *serverChangeToken, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSData",
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsdata",
              "text": "NSData"
            },
            {
              "kind": "text",
              "text": " *clientChangeTokenData, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSError",
              "identifier": "doc://com.apple.documentation/documentation/foundation/nserror",
              "text": "NSError"
            },
            {
              "kind": "text",
              "text": " *operationError);"
            }
          ],
          "platforms": [
            "iOS",
            "macOS",
            "Mac Catalyst",
            "tvOS",
            "watchOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The block returns no value and takes the following parameters:"
            }
          ]
        },
        {
          "type": "termList",
          "items": [
            {
              "term": {
                "inlineContent": [
                  {
                    "type": "codeVoice",
                    "code": "serverChangeToken"
                  }
                ]
              },
              "definition": {
                "content": [
                  {
                    "type": "paragraph",
                    "inlineContent": [
                      {
                        "type": "text",
                        "text": "The new change token from the server. You can store this token locally and use it during subsequent fetch operations to limit the results to records that the system changes after executing the operation."
                      }
                    ]
                  }
                ]
              }
            },
            {
              "term": {
                "inlineContent": [
                  {
                    "type": "codeVoice",
                    "code": "clientChangeToken"
                  }
                ]
              },
              "definition": {
                "content": [
                  {
                    "type": "paragraph",
                    "inlineContent": [
                      {
                        "type": "text",
                        "text": "The most recent client change token from the device. If the change token isn’t the most recent change token you provided, the server might not have received the associated changes."
                      }
                    ]
                  }
                ]
              }
            },
            {
              "term": {
                "inlineContent": [
                  {
                    "type": "codeVoice",
                    "code": "operationError"
                  }
                ]
              },
              "definition": {
                "content": [
                  {
                    "type": "paragraph",
                    "inlineContent": [
                      {
                        "type": "text",
                        "text": "An error object that contains information about a problem, or "
                      },
                      {
                        "type": "reference",
                        "isActive": false,
                        "identifier": "doc://com.apple.documentation/documentation/objectivec/nil-2gl"
                      },
                      {
                        "type": "text",
                        "text": " if the system successfully retrieves the changes."
                      }
                    ]
                  }
                ]
              }
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When implementing this block, check the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckfetchrecordchangesoperation/1515322-morecoming"
            },
            {
              "type": "text",
              "text": " property of the operation object to ensure that the server was able to deliver all results. If that property is "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/objectivec/yes"
            },
            {
              "type": "text",
              "text": ", you must create another operation object using the value in the "
            },
            {
              "type": "codeVoice",
              "code": "serverChangeToken"
            },
            {
              "type": "text",
              "text": " parameter to fetch any remaining changes."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The operation object executes this block only once at the conclusion of the operation. It executes after all individual change blocks, but before the operation’s completion block. The block executes serially with respect to the other progress blocks of the operation. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If you intend to use this block to process results, set it before executing the operation or submitting the operation object to a queue."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}