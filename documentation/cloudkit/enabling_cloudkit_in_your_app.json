{
  "abstract": [
    {
      "type": "text",
      "text": "Configure your app to store data in iCloud using CloudKit."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/cloudkit"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/cloudkit/enabling_cloudkit_in_your_app",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 3403121,
  "kind": "article",
  "metadata": {
    "title": "Enabling CloudKit in Your App",
    "role": "article",
    "roleHeading": "Article",
    "modules": [
      {
        "name": "CloudKit"
      }
    ]
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/cloudkit/enabling_cloudkit_in_your_app"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/cloudkit/enabling_cloudkit_in_your_app"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/cloudkit": {
      "title": "CloudKit",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit",
      "url": "/documentation/cloudkit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "link-media-3699095": {
      "identifier": "link-media-3699095",
      "type": "link",
      "title": "Figure 1",
      "url": "/documentation/cloudkit/enabling_cloudkit_in_your_app#3699095"
    },
    "media-3699095": {
      "identifier": "media-3699095",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x"
          ],
          "size": {
            "width": 710,
            "height": 500
          },
          "url": "https://docs-assets.developer.apple.com/published/86388fde1a/rendered2x-1604920522.png"
        }
      ],
      "alt": "Labeled screenshot of the Xcode window with the Signing & Capabilities page open. From left to right is the project navigator, the button you use to add a Capability, the Target menu, the Automatically manage signing checkbox, the Team menu, and the target’s Bundle Identifier.",
      "title": "Figure 1"
    },
    "link-media-3699096": {
      "identifier": "link-media-3699096",
      "type": "link",
      "title": "Figure 2",
      "url": "/documentation/cloudkit/enabling_cloudkit_in_your_app#3699096"
    },
    "media-3699096": {
      "identifier": "media-3699096",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x"
          ],
          "size": {
            "width": 710,
            "height": 419
          },
          "url": "https://docs-assets.developer.apple.com/published/34c76f3917/rendered2x-1604920526.png"
        }
      ],
      "alt": "Screenshot showing an Xcode window with the Signing & Capabilities page open. The screenshot highlights the CloudKit service checkbox, the Containers checkbox, and the Push Notifications capability.",
      "title": "Figure 2"
    },
    "link-media-3697735": {
      "identifier": "link-media-3697735",
      "type": "link",
      "title": "Figure 3",
      "url": "/documentation/cloudkit/enabling_cloudkit_in_your_app#3697735"
    },
    "media-3697735": {
      "identifier": "media-3697735",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x"
          ],
          "size": {
            "width": 735,
            "height": 500
          },
          "url": "https://docs-assets.developer.apple.com/published/f43a3fae52/rendered2x-1604486161.png"
        }
      ],
      "alt": "Two screenshots of the Settings app in iOS. The first screenshot highlights the Sign in to your iPhone button that you use to connect your Apple ID to the device. The second screenshot highlights the iCloud Drive checkbox within  iCloud settings, which is accessible once a user signs in.",
      "title": "Figure 3"
    },
    "link-3403214": {
      "title": "https://icloud.developer.apple.com/",
      "type": "topic",
      "identifier": "link-3403214",
      "kind": "article",
      "role": "link",
      "url": "https://icloud.developer.apple.com/"
    },
    "link-media-3699094": {
      "identifier": "link-media-3699094",
      "type": "link",
      "title": "Figure 4",
      "url": "/documentation/cloudkit/enabling_cloudkit_in_your_app#3699094"
    },
    "media-3699094": {
      "identifier": "media-3699094",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x"
          ],
          "size": {
            "width": 710,
            "height": 484
          },
          "url": "https://docs-assets.developer.apple.com/published/d03378103d/rendered2x-1604920529.png"
        }
      ],
      "alt": "Screenshot showing the iCloud Dashboard in which the user can view the options for a specific container by selecting one from the list on the left.",
      "title": "Figure 4"
    },
    "doc://com.apple.documentation/documentation/cloudkit/managing_icloud_containers_with_the_cloudkit_database_app": {
      "title": "Managing iCloud Containers with the CloudKit Database App",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/managing_icloud_containers_with_the_cloudkit_database_app",
      "kind": "article",
      "role": "article",
      "url": "/documentation/cloudkit/managing_icloud_containers_with_the_cloudkit_database_app"
    },
    "doc://com.apple.documentation/documentation/cloudkit/determining_if_cloudkit_is_right_for_your_app": {
      "title": "Determining If CloudKit Is Right for Your App",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/determining_if_cloudkit_is_right_for_your_app",
      "kind": "article",
      "role": "article",
      "url": "/documentation/cloudkit/determining_if_cloudkit_is_right_for_your_app",
      "abstract": [
        {
          "type": "text",
          "text": "Explore various ways of storing your app’s data in iCloud."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/enabling_cloudkit_in_your_app": {
      "title": "Enabling CloudKit in Your App",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/enabling_cloudkit_in_your_app",
      "kind": "article",
      "role": "article",
      "url": "/documentation/cloudkit/enabling_cloudkit_in_your_app",
      "abstract": [
        {
          "type": "text",
          "text": "Configure your app to store data in iCloud using CloudKit."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/cloudkit/determining_if_cloudkit_is_right_for_your_app"
      ],
      "title": "Essentials",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Once you’ve determined that CloudKit is right for your app, you’re ready to set up your Xcode project to enable CloudKit development."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Add the iCloud Capability to Your Xcode Project",
          "anchor": "3403127"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Adding the iCloud capability to your project sets up the initial project entitlements. Before you proceed, verify that your Apple Developer Program membership is active and has admin permissions."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To add the iCloud capability:"
            }
          ]
        },
        {
          "type": "orderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "In the Xcode Project navigator, select your project and your project target."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Click the “Signing and Capabilities” tab and select “Automatically manage signing.”"
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Specify your development team."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Make sure that your bundle identifier is one you want to use for your app. (This identifier determines the name of the iCloud container created in a later step.)"
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Click the + Capability button, then search for iCloud in the Add Capability editor and select that capability. An iCloud section appears on your app’s Signing and Capabilities page."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "image",
              "identifier": "media-3699095",
              "metadata": {
                "anchor": "3699095",
                "title": "Figure 1"
              }
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": []
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Create Your Container",
          "anchor": "3403299"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Next, add the CloudKit service to add the appropriate entitlements to your project and tell iCloud to create a container for your app data:"
            }
          ]
        },
        {
          "type": "orderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Select the CloudKit checkbox. In addition to adding the CloudKit capability to your app, this selection also creates an iCloud container and adds the Push Notifications capability. The name of the container is your app’s bundle identifier prefixed with “iCloud.\""
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Check the box next to the container name."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "image",
              "identifier": "media-3699096",
              "metadata": {
                "anchor": "3699096",
                "title": "Figure 2"
              }
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Multiple apps and users have access to iCloud, but each app’s data and schema, together, are typically in separate containers. Although an app can have multiple containers or share a container, each app has one default container. Once you’ve created a container, you can’t delete or rename it."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Select or Create an iCloud Account for Development",
          "anchor": "3403833"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You need an iCloud account to save records to a container. In your app or the simulator on which you test your app during development, enter the credentials for this iCloud account. If you don’t have an iCloud account, create one for use during development. In macOS, launch System Preferences and click Sign In. Click Create Apple ID under the Apple ID text field and follow the instructions."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Note that your iCloud account is distinct from your Apple Developer account; however, you can use the same email address for both. Doing so gives you access to your iCloud account’s private user data in CloudKit Dashboard, which can be helpful for debugging."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Enter iCloud Credentials Before Running Your App",
          "anchor": "3403831"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Enter your iCloud account credentials on a simulator or app-testing device. Entering the iCloud credentials enables reading from—and writing to—users’ own private and shared databases and, potentially, writing to the container’s public database."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To enter your credentials on an iOS or iPadOS device:"
            }
          ]
        },
        {
          "type": "orderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Launch the Settings app and click \"Sign in to your iPhone/iPad.\""
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Enter your Apple ID and password."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Click Next. Wait until the system verifies your iCloud account."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "To enable iCloud Drive, choose iCloud and then click the iCloud Drive switch. If the switch doesn’t appear, iCloud Drive is already enabled."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "image",
              "identifier": "media-3697735",
              "metadata": {
                "anchor": "3697735",
                "title": "Figure 3"
              }
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Perform the same sign-in process for each iOS or iPadOS simulator you test your app on. You can access the simulators from Xcode by choosing Xcode > Open Developer Tool > Simulator."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To enter your credentials for macOS, go to System Preferences."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "View Your Container in CloudKit Dashboard",
          "anchor": "3403130"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "CloudKit Dashboard is a web-based tool that lets you manage your app’s iCloud containers. It appears within the Apple Developer web portal, and you can use it to ensure that your container exists."
            }
          ]
        },
        {
          "type": "orderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Using a web browser, such as Safari, navigate to the CloudKit Dashboard webpage at "
                    },
                    {
                      "type": "link",
                      "title": "https://icloud.developer.apple.com/",
                      "destination": "https://icloud.developer.apple.com/"
                    },
                    {
                      "type": "text",
                      "text": "."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "If you’re asked to sign in, enter your credentials and click Sign In."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "On the CloudKit Dashboard page, verify that your container appears in the container list."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "image",
              "identifier": "media-3699094",
              "metadata": {
                "anchor": "3699094",
                "title": "Figure 4"
              }
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For more information on CloudKit Dashboard, see "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/cloudkit/managing_icloud_containers_with_the_cloudkit_database_app"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}