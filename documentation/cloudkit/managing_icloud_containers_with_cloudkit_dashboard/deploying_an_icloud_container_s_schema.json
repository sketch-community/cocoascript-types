{
  "abstract": [
    {
      "type": "text",
      "text": "Reset your container’s state during development and deploy your container’s schema to production."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/cloudkit",
        "doc://com.apple.documentation/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard/deploying_an_icloud_container_s_schema",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 3431333,
  "kind": "article",
  "metadata": {
    "title": "Deploying an iCloud Container’s Schema",
    "role": "article",
    "roleHeading": "Article",
    "modules": [
      {
        "name": "CloudKit"
      }
    ]
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard/deploying_an_icloud_container_s_schema"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard/deploying_an_icloud_container_s_schema"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/cloudkit": {
      "title": "CloudKit",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit",
      "url": "/documentation/cloudkit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard": {
      "title": "Managing iCloud Containers with CloudKit Dashboard",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard",
      "url": "/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard",
      "type": "topic",
      "kind": "article",
      "role": "article"
    },
    "link-3403857": {
      "title": "https://icloud.developer.apple.com/",
      "type": "topic",
      "identifier": "link-3403857",
      "kind": "article",
      "role": "link",
      "url": "https://icloud.developer.apple.com/"
    },
    "link-media-3699106": {
      "identifier": "link-media-3699106",
      "type": "link",
      "title": "Figure 2",
      "url": "/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard/deploying_an_icloud_container_s_schema#3699106"
    },
    "media-3699106": {
      "identifier": "media-3699106",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x"
          ],
          "size": {
            "width": 735,
            "height": 536
          },
          "url": "https://docs-assets.developer.apple.com/published/a9e0b919eb/rendered2x-1604922113.png"
        }
      ],
      "alt": "Screenshot showing the details of a selected container in the CloudKit Dashboard. The development environment’s settings menu is open. The screenshot highlights the Reset Development Environment option.",
      "title": "Figure 2"
    },
    "link-media-3699097": {
      "identifier": "link-media-3699097",
      "type": "link",
      "title": "Figure 3",
      "url": "/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard/deploying_an_icloud_container_s_schema#3699097"
    },
    "media-3699097": {
      "identifier": "media-3699097",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x"
          ],
          "size": {
            "width": 735,
            "height": 536
          },
          "url": "https://docs-assets.developer.apple.com/published/9dfc9bf886/rendered2x-1604922132.png"
        }
      ],
      "alt": "Screenshot showing the details of a selected container in the CloudKit Dashboard. The development environment’s settings menu is open. The screenshot highlights the Deploy Schema to Production option.",
      "title": "Figure 3"
    },
    "link-media-3562414": {
      "identifier": "link-media-3562414",
      "type": "link",
      "title": "Figure 1",
      "url": "/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard/deploying_an_icloud_container_s_schema#3562414"
    },
    "media-3562414": {
      "identifier": "media-3562414",
      "type": "image",
      "variants": [
        {
          "traits": [
            "1x"
          ],
          "size": {
            "width": 1360,
            "height": 411
          },
          "url": "https://docs-assets.developer.apple.com/published/def3cf1cad/original-1584666776.png"
        },
        {
          "traits": [
            "1x"
          ],
          "size": {
            "width": 1360,
            "height": 411
          },
          "url": "https://docs-assets.developer.apple.com/published/ed91a68cf7/rendered1x-1584666778.png"
        }
      ],
      "alt": "Flow chart showing a development workflow for iterating on a schema in the development environment before deploying it to the production environment.",
      "title": "Figure 1"
    },
    "doc://com.apple.documentation/documentation/cloudkitjs": {
      "title": "CloudKit JS",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkitjs",
      "kind": "article",
      "role": "collection",
      "url": "/documentation/cloudkitjs"
    },
    "doc://com.apple.documentation/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard/inspecting_and_editing_an_icloud_container_s_schema": {
      "title": "Inspecting and Editing an iCloud Container’s Schema",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard/inspecting_and_editing_an_icloud_container_s_schema",
      "kind": "article",
      "role": "article",
      "url": "/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard/inspecting_and_editing_an_icloud_container_s_schema",
      "abstract": [
        {
          "type": "text",
          "text": "Check and edit the schema for your app’s container using CloudKit Dashboard."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard/handling_an_icloud_container_s_data": {
      "title": "Handling an iCloud Container’s Data",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard/handling_an_icloud_container_s_data",
      "kind": "article",
      "role": "article",
      "url": "/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard/handling_an_icloud_container_s_data",
      "abstract": [
        {
          "type": "text",
          "text": "Inspect and manage your app’s iCloud container data using CloudKit Dashboard."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard/deploying_an_icloud_container_s_schema": {
      "title": "Deploying an iCloud Container’s Schema",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard/deploying_an_icloud_container_s_schema",
      "kind": "article",
      "role": "article",
      "url": "/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard/deploying_an_icloud_container_s_schema",
      "abstract": [
        {
          "type": "text",
          "text": "Reset your container’s state during development and deploy your container’s schema to production."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard/obtaining_an_api_token_for_an_icloud_container": {
      "title": "Obtaining an API Token for an iCloud Container",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard/obtaining_an_api_token_for_an_icloud_container",
      "kind": "article",
      "role": "article",
      "url": "/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard/obtaining_an_api_token_for_an_icloud_container",
      "abstract": [
        {
          "type": "text",
          "text": "Generate an API token to access CloudKit web services or use "
        },
        {
          "type": "reference",
          "isActive": false,
          "identifier": "doc://com.apple.documentation/documentation/cloudkitjs"
        },
        {
          "type": "text",
          "text": "."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard/inspecting_and_editing_an_icloud_container_s_schema",
        "doc://com.apple.documentation/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard/handling_an_icloud_container_s_data",
        "doc://com.apple.documentation/documentation/cloudkit/managing_icloud_containers_with_cloudkit_dashboard/obtaining_an_api_token_for_an_icloud_container"
      ],
      "title": "Container Management",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "During initial development of your app, you create your schema and add records for testing in the development environment. Apps sold in the App Store can access only the production environment. Before you publish your app, you must deploy the development schema to the production environment to copy over its record types, fields, and indexes."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "As you continue to develop your app, you can add record types and fields to the development environment. To prevent conflicts, you can’t delete record types or fields that have been previously deployed to production. Every time you deploy the development schema, its additive changes merge into the production schema. For testing purposes, your app in development can access either the development or the production environment."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "image",
              "identifier": "media-3562414",
              "metadata": {
                "anchor": "3562414",
                "title": "Figure 1"
              }
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Reset the Development Environment",
          "anchor": "3403940"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You can reset the development environment in CloudKit Dashboard between runs of your app to remove all records. If your schema isn’t in production, resetting the development environment also deletes all record types. Otherwise, the development schema reverts to the state of the production environment."
            }
          ]
        },
        {
          "type": "orderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Sign in to CloudKit Dashboard at "
                    },
                    {
                      "type": "link",
                      "title": "https://icloud.developer.apple.com/",
                      "destination": "https://icloud.developer.apple.com/"
                    },
                    {
                      "type": "text",
                      "text": "."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "In the left sidebar, choose your app’s container from the list."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "In the upper-right of the Development environment panel, click the gear icon. In the menu that appears, select Reset Development Environment."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "In the dialog that appears, read the warning, select the checkbox, and click Reset."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "image",
              "identifier": "media-3699106",
              "metadata": {
                "anchor": "3699106",
                "title": "Figure 2"
              }
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": []
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Deploy the Development Schema",
          "anchor": "3403939"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "After you finalize your schema and test your app in the development environment, you’re ready to deploy the schema to production in CloudKit Dashboard. Deploying the schema copies its record types, fields, and indexes to the production environment, but doesn’t copy any records. After deployment, you can populate the production environment with records as needed, and test your app in it."
            }
          ]
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "To deploy a schema, you must have privileges to edit the production environment. If you’re an individual, you’re the team admin and have these privileges. If you’re a member of a team, ask your team admin to perform these steps for you, or to grant you the Admin privilege."
                }
              ]
            }
          ],
          "style": "note",
          "name": "Note"
        },
        {
          "type": "orderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Sign in to CloudKit Dashboard at "
                    },
                    {
                      "type": "link",
                      "title": "https://icloud.developer.apple.com/",
                      "destination": "https://icloud.developer.apple.com/"
                    },
                    {
                      "type": "text",
                      "text": "."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "In the left sidebar, choose your app’s container from the list."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "In the upper-right of the Development environment panel, click the gear icon. In the menu that appears, select Deploy Schema to Production."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Review the pending deployment changes and click Deploy."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "image",
              "identifier": "media-3699097",
              "metadata": {
                "anchor": "3699097",
                "title": "Figure 3"
              }
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": []
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}