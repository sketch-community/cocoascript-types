{
  "abstract": [
    {
      "type": "text",
      "text": "An operation that retrieves unread notifications from a CloudKit container."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/cloudkit",
        "doc://com.apple.documentation/documentation/cloudkit/notifications",
        "doc://com.apple.documentation/documentation/cloudkit/notifications/deprecated_symbols"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1515162,
  "kind": "symbol",
  "metadata": {
    "title": "CKFetchNotificationChangesOperation",
    "role": "symbol",
    "roleHeading": "Class",
    "modules": [
      {
        "name": "CloudKit"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "8.0",
        "deprecatedAt": "11.0",
        "current": "14.3",
        "deprecated": true
      },
      {
        "name": "macOS",
        "introducedAt": "10.10",
        "deprecatedAt": "10.13",
        "current": "11.1",
        "deprecated": true
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "deprecatedAt": "13.0",
        "current": "14.3",
        "deprecated": true
      },
      {
        "name": "tvOS",
        "introducedAt": "9.0",
        "deprecatedAt": "11.0",
        "current": "14.3",
        "deprecated": true
      },
      {
        "name": "watchOS",
        "introducedAt": "3.0",
        "deprecatedAt": "4.0",
        "current": "7.2",
        "deprecated": true
      }
    ],
    "externalID": "c:objc(cs)CKFetchNotificationChangesOperation",
    "symbolKind": "cl"
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/cloudkit/ckfetchnotificationchangesoperation"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/cloudkit/ckfetchnotificationchangesoperation"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/cloudkit": {
      "title": "CloudKit",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit",
      "url": "/documentation/cloudkit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/cloudkit/notifications": {
      "title": "Notifications",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/notifications",
      "url": "/documentation/cloudkit/notifications",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/cloudkit/notifications/deprecated_symbols": {
      "title": "Deprecated Symbols",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/notifications/deprecated_symbols",
      "url": "/documentation/cloudkit/notifications/deprecated_symbols",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/cloudkit/cknotification": {
      "title": "CKNotification",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/cknotification",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/cknotification"
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckmarknotificationsreadoperation": {
      "title": "CKMarkNotificationsReadOperation",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckmarknotificationsreadoperation",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckmarknotificationsreadoperation",
      "abstract": [
        {
          "type": "text",
          "text": "An operation that marks push notifications as read by your app."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/foundation/nsoperation/1408085-completionblock": {
      "title": "completionBlock",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsoperation/1408085-completionblock",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsoperation/1408085-completionblock"
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckoperation": {
      "title": "CKOperation",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckoperation",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckoperation"
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation/1515141-initwithpreviousserverchangetoke": {
      "title": "initWithPreviousServerChangeToken:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation/1515141-initwithpreviousserverchangetoke",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckfetchnotificationchangesoperation/1515141-initwithpreviousserverchangetoke",
      "abstract": [
        {
          "type": "text",
          "text": "Creates an operation for fetching notification changes that occur after the specified change token."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "initWithPreviousServerChangeToken:"
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation/2715837-init": {
      "title": "init",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation/2715837-init",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckfetchnotificationchangesoperation/2715837-init",
      "abstract": [
        {
          "type": "text",
          "text": "Creates an operation for fetching notification changes."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "init"
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation/1515139-previousserverchangetoken": {
      "title": "previousServerChangeToken",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation/1515139-previousserverchangetoken",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckfetchnotificationchangesoperation/1515139-previousserverchangetoken",
      "abstract": [
        {
          "type": "text",
          "text": "The change token from a previous fetch operation."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation/1515275-resultslimit": {
      "title": "resultsLimit",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation/1515275-resultslimit",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckfetchnotificationchangesoperation/1515275-resultslimit",
      "abstract": [
        {
          "type": "text",
          "text": "The maximum number of results to fetch with the operation."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation/1515108-morecoming": {
      "title": "moreComing",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation/1515108-morecoming",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckfetchnotificationchangesoperation/1515108-morecoming",
      "abstract": [
        {
          "type": "text",
          "text": "A Boolean value that indicates whether more notifications are available."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation/1515253-notificationchangedblock": {
      "title": "notificationChangedBlock",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation/1515253-notificationchangedblock",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckfetchnotificationchangesoperation/1515253-notificationchangedblock",
      "abstract": [
        {
          "type": "text",
          "text": "The block that processes a single push notification."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation/1515125-fetchnotificationchangescompleti": {
      "title": "fetchNotificationChangesCompletionBlock",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation/1515125-fetchnotificationchangescompleti",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckfetchnotificationchangesoperation/1515125-fetchnotificationchangescompleti",
      "abstract": [
        {
          "type": "text",
          "text": "The block that executes after the system fetches all requested notifications. "
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation": {
      "title": "CKFetchNotificationChangesOperation",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/cloudkit/ckfetchnotificationchangesoperation",
      "abstract": [
        {
          "type": "text",
          "text": "An operation that retrieves unread notifications from a CloudKit container."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "diffAvailability": {
    "major": {
      "change": "modified",
      "platform": "Xcode",
      "versions": [
        "12.0",
        "12.3 Release Candidate"
      ]
    }
  },
  "relationshipsSections": [
    {
      "kind": "relationships",
      "title": "Inherits From",
      "type": "inheritsFrom",
      "identifiers": [
        "doc://com.apple.documentation/documentation/cloudkit/ckoperation"
      ]
    }
  ],
  "topicSections": [
    {
      "kind": "taskGroup",
      "title": "Creating a Notification Change Operation",
      "identifiers": [
        "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation/1515141-initwithpreviousserverchangetoke",
        "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation/2715837-init"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Configuring the Notification Change Operation",
      "identifiers": [
        "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation/1515139-previousserverchangetoken",
        "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation/1515275-resultslimit"
      ]
    },
    {
      "kind": "taskGroup",
      "title": "Processing the Notification Change Results",
      "identifiers": [
        "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation/1515108-morecoming",
        "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation/1515253-notificationchangedblock",
        "doc://com.apple.documentation/documentation/cloudkit/ckfetchnotificationchangesoperation/1515125-fetchnotificationchangescompleti"
      ]
    }
  ],
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/cloudkit/ckmarknotificationsreadoperation"
      ],
      "title": "Deprecated Classes",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "@interface"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "CKFetchNotificationChangesOperation"
            },
            {
              "kind": "text",
              "text": " : "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)CKOperation",
              "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckoperation",
              "text": "CKOperation"
            }
          ],
          "platforms": [
            "iOS",
            "macOS",
            "Mac Catalyst",
            "tvOS",
            "watchOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A "
            },
            {
              "type": "codeVoice",
              "code": "CKFetchNotificationChangesOperation"
            },
            {
              "type": "text",
              "text": " object retrieves unread "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/cloudkit/cknotification"
            },
            {
              "type": "text",
              "text": " objects from a container. Notification objects contain the data for push notifications that CloudKit sends to an app. Fetch notification objects to identify changes that your app might have missed or to retrieve the complete push notification payload, which CloudKit might truncate when delivering it to the device."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "After fetching the current notifications, you can mark some or all of them as read using a "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/cloudkit/ckmarknotificationsreadoperation"
            },
            {
              "type": "text",
              "text": " object. Marking a notification as read prevents subsequent fetch operations from returning it."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The blocks you assign to process the fetched notifications execute serially on an internal queue that the operation object manages. Your blocks must be capable of executing on a background thread, so any tasks that require access to the main thread must redirect accordingly."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If you assign a completion block to the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsoperation/1408085-completionblock"
            },
            {
              "type": "text",
              "text": " property of the operation object, CloudKit calls the completion block after the operation executes and returns its results to you. You can use a completion block to perform housekeeping tasks for the operation, but do not use it to process the results of the operation. Any completion block you specify should handle the failure of the operation to complete its task, whether due to an error or an explicit cancellation. "
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}