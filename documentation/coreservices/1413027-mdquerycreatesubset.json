{
  "abstract": [
    {
      "type": "text",
      "text": "Creates a new query that is a subset of the specified parentquery."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/coreservices",
        "doc://com.apple.documentation/documentation/coreservices/file_metadata",
        "doc://com.apple.documentation/documentation/coreservices/file_metadata/mdquery"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/coreservices/1413027-mdquerycreatesubset",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1413027,
  "kind": "symbol",
  "metadata": {
    "title": "MDQueryCreateSubset",
    "role": "symbol",
    "roleHeading": "Function",
    "modules": [
      {
        "name": "Core Services"
      }
    ],
    "platforms": [
      {
        "name": "macOS",
        "introducedAt": "10.4",
        "current": "12.1"
      }
    ],
    "externalID": "c:@F@MDQueryCreateSubset",
    "symbolKind": "func"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/coreservices/1413027-mdquerycreatesubset"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/coreservices/1413027-mdquerycreatesubset"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/coreservices": {
      "title": "Core Services",
      "identifier": "doc://com.apple.documentation/documentation/coreservices",
      "url": "/documentation/coreservices",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/coreservices/file_metadata": {
      "title": "File Metadata",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/file_metadata",
      "url": "/documentation/coreservices/file_metadata",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/coreservices/file_metadata/mdquery": {
      "title": "MDQuery",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/file_metadata/mdquery",
      "url": "/documentation/coreservices/file_metadata/mdquery",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/coreservices/mdqueryref": {
      "title": "MDQueryRef",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/mdqueryref",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/mdqueryref"
    },
    "doc://com.apple.documentation/documentation/corefoundation/cfallocatorref": {
      "title": "CFAllocatorRef",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfallocatorref",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corefoundation/cfallocatorref"
    },
    "doc://com.apple.documentation/documentation/corefoundation/cfstringref": {
      "title": "CFStringRef",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfstringref",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corefoundation/cfstringref"
    },
    "doc://com.apple.documentation/documentation/corefoundation/cfarrayref": {
      "title": "CFArrayRef",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfarrayref",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corefoundation/cfarrayref"
    },
    "doc://com.apple.documentation/documentation/coreservices/1413029-mdquerycreate": {
      "title": "MDQueryCreate",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1413029-mdquerycreate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/1413029-mdquerycreate",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a new query instance."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/1413027-mdquerycreatesubset": {
      "title": "MDQueryCreateSubset",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1413027-mdquerycreatesubset",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/1413027-mdquerycreatesubset",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a new query that is a subset of the specified parentquery."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/1413048-mdquerysetsearchscope": {
      "title": "MDQuerySetSearchScope",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1413048-mdquerysetsearchscope",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/1413048-mdquerysetsearchscope",
      "abstract": [
        {
          "type": "text",
          "text": "Sets the search scope for a query instance."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/1413019-mdquerysetdispatchqueue": {
      "title": "MDQuerySetDispatchQueue",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1413019-mdquerysetdispatchqueue",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/1413019-mdquerysetdispatchqueue",
      "abstract": [
        {
          "type": "text",
          "text": "Sets the dispatch queue on which query results will be delivered by MDQueryExecute."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/coreservices/1413029-mdquerycreate",
        "doc://com.apple.documentation/documentation/coreservices/1413048-mdquerysetsearchscope",
        "doc://com.apple.documentation/documentation/coreservices/1413019-mdquerysetdispatchqueue"
      ],
      "title": "Creating Queries",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@MDQueryRef",
              "identifier": "doc://com.apple.documentation/documentation/coreservices/mdqueryref",
              "text": "MDQueryRef"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "MDQueryCreateSubset"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CFAllocatorRef",
              "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfallocatorref",
              "text": "CFAllocatorRef"
            },
            {
              "kind": "text",
              "text": " allocator, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@MDQueryRef",
              "identifier": "doc://com.apple.documentation/documentation/coreservices/mdqueryref",
              "text": "MDQueryRef"
            },
            {
              "kind": "text",
              "text": " query, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CFStringRef",
              "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfstringref",
              "text": "CFStringRef"
            },
            {
              "kind": "text",
              "text": " queryString, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CFArrayRef",
              "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfarrayref",
              "text": "CFArrayRef"
            },
            {
              "kind": "text",
              "text": " valueListAttrs, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CFArrayRef",
              "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfarrayref",
              "text": "CFArrayRef"
            },
            {
              "kind": "text",
              "text": " sortingAttrs);"
            }
          ],
          "platforms": [
            "macOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "allocator",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The CFAllocator object to be used to allocate memory for the new object. Pass NULL or "
                },
                {
                  "type": "codeVoice",
                  "code": "kCFAllocatorDefault"
                },
                {
                  "type": "text",
                  "text": " to use the current default allocator."
                }
              ]
            }
          ]
        },
        {
          "name": "query",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The parent query"
                }
              ]
            }
          ]
        },
        {
          "name": "queryString",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The query expression string for this query."
                }
              ]
            }
          ]
        },
        {
          "name": "valueListAttrs",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "An optional array of attribute names. The query will collect the values of these attributes into uniqued lists that can be used to summarize the results of the query and allow the user to further qualify the search. This parameter may be "
                },
                {
                  "type": "codeVoice",
                  "code": "NULL"
                },
                {
                  "type": "text",
                  "text": " if no value lists are required. Value list collection increases CPU usage and significantly increases the memory usage of an MDQuery. The attribute names are CFStrings."
                }
              ]
            }
          ]
        },
        {
          "name": "sortingAttrs",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A n array of attribute names used to sort the results, or "
                },
                {
                  "type": "codeVoice",
                  "code": "NULL"
                },
                {
                  "type": "text",
                  "text": " if no sorting is required. The first name in the array is used as the primary sort key, the second as the secondary key, and so on. The comparison of like-typed values is a simple, literal comparison. Sorting increases memory usage and significantly increases the CPU usage of an MDQuery. It is usually more efficient to allow the MDQuery to sort the results than retrieving the values and sorting the results yourself. The attribute names are CFStrings."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "An MDQueryRef, or "
            },
            {
              "type": "codeVoice",
              "code": "NULL"
            },
            {
              "type": "text",
              "text": " on failure. If the query string is empty or malformed the function returns NULL."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}