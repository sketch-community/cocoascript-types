{
  "abstract": [
    {
      "type": "text",
      "text": "Defines a pointer to a function that convertsa Unicode text element for which there is no destination encodingequivalent in the appropriate mapping table to the fallback character sequencedefined by your fallback handler, and returns the converted charactersequence to the Unicode Converter."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/coreservices",
        "doc://com.apple.documentation/documentation/coreservices/carbon_core",
        "doc://com.apple.documentation/documentation/coreservices/carbon_core/text_encoding_conversion_manager"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/coreservices/unicodetotextfallbackprocptr",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1433591,
  "kind": "symbol",
  "metadata": {
    "title": "UnicodeToTextFallbackProcPtr",
    "role": "symbol",
    "roleHeading": "Type Alias",
    "modules": [
      {
        "name": "Core Services"
      }
    ],
    "platforms": [
      {
        "name": "macOS",
        "introducedAt": "10.0",
        "current": "12.1"
      }
    ],
    "externalID": "c:@T@UnicodeToTextFallbackProcPtr",
    "symbolKind": "tdef"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/coreservices/unicodetotextfallbackprocptr"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/coreservices": {
      "title": "Core Services",
      "identifier": "doc://com.apple.documentation/documentation/coreservices",
      "url": "/documentation/coreservices",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/coreservices/carbon_core": {
      "title": "Carbon Core",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/carbon_core",
      "url": "/documentation/coreservices/carbon_core",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/coreservices/carbon_core/text_encoding_conversion_manager": {
      "title": "Text Encoding Conversion Manager",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/carbon_core/text_encoding_conversion_manager",
      "kind": "article",
      "role": "collectionGroup",
      "url": "/documentation/coreservices/carbon_core/text_encoding_conversion_manager"
    },
    "doc://com.apple.documentation/documentation/coreservices/1433614-setfallbackunicodetotext": {
      "title": "SetFallbackUnicodeToText",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1433614-setfallbackunicodetotext",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/1433614-setfallbackunicodetotext"
    },
    "doc://com.apple.documentation/documentation/coreservices/1433644-setfallbackunicodetotextrun": {
      "title": "SetFallbackUnicodeToTextRun",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1433644-setfallbackunicodetotextrun",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/1433644-setfallbackunicodetotextrun"
    },
    "doc://com.apple.documentation/documentation/coreservices/1433550-createunicodetotextinfobyencodin": {
      "title": "CreateUnicodeToTextInfoByEncoding",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1433550-createunicodetotextinfobyencodin",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/1433550-createunicodetotextinfobyencodin"
    },
    "doc://com.apple.documentation/documentation/coreservices/1433581-convertfromunicodetopstring": {
      "title": "ConvertFromUnicodeToPString",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1433581-convertfromunicodetopstring",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/1433581-convertfromunicodetopstring"
    },
    "doc://com.apple.documentation/documentation/coreservices/1433511-convertfromunicodetotextrun": {
      "title": "ConvertFromUnicodeToTextRun",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1433511-convertfromunicodetotextrun",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/1433511-convertfromunicodetotextrun"
    },
    "doc://com.apple.documentation/documentation/coreservices/1433662-convertfromunicodetoscriptcoderu": {
      "title": "ConvertFromUnicodeToScriptCodeRun",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1433662-convertfromunicodetoscriptcoderu",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/1433662-convertfromunicodetoscriptcoderu"
    },
    "doc://com.apple.documentation/documentation/coreservices/carbon_core/text_encoding_conversion_manager#1664324": {
      "title": "Result Codes",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/carbon_core/text_encoding_conversion_manager#1664324",
      "kind": "article",
      "role": "task",
      "url": "/documentation/coreservices/carbon_core/text_encoding_conversion_manager#1664324"
    },
    "doc://com.apple.documentation/documentation/coreservices/unicodemapping": {
      "title": "UnicodeMapping",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/unicodemapping",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/unicodemapping"
    },
    "doc://com.apple.documentation/documentation/coreservices/textptr": {
      "title": "TextPtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/textptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/textptr"
    },
    "doc://com.apple.documentation/documentation/coreservices/constunicodemappingptr": {
      "title": "ConstUnicodeMappingPtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/constunicodemappingptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/constunicodemappingptr"
    },
    "doc://com.apple.documentation/documentation/coreservices/unicodetotextfallbackprocptr": {
      "title": "UnicodeToTextFallbackProcPtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/unicodetotextfallbackprocptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/unicodetotextfallbackprocptr",
      "abstract": [
        {
          "type": "text",
          "text": "Defines a pointer to a function that convertsa Unicode text element for which there is no destination encodingequivalent in the appropriate mapping table to the fallback character sequencedefined by your fallback handler, and returns the converted charactersequence to the Unicode Converter."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/tecplugingetplugindispatchtableptr": {
      "title": "TECPluginGetPluginDispatchTablePtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/tecplugingetplugindispatchtableptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/tecplugingetplugindispatchtableptr",
      "abstract": [
        {
          "type": "text",
          "text": "Defines a pointer to a function that returnsa pointer to a plug-in dispatch table."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/tecpluginnewencodingconverterptr": {
      "title": "TECPluginNewEncodingConverterPtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/tecpluginnewencodingconverterptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/tecpluginnewencodingconverterptr",
      "abstract": [
        {
          "type": "text",
          "text": "Defines a pointer to a function that determinesa conversion path for a source and destination encoding, then createsa text encoding converter object and returns a pointer to it."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/tecpluginclearcontextinfoptr": {
      "title": "TECPluginClearContextInfoPtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/tecpluginclearcontextinfoptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/tecpluginclearcontextinfoptr",
      "abstract": [
        {
          "type": "text",
          "text": "Defines a pointer to a function that resets aconverter object to its initial state."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/tecpluginconverttextencodingptr": {
      "title": "TECPluginConvertTextEncodingPtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/tecpluginconverttextencodingptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/tecpluginconverttextencodingptr",
      "abstract": [
        {
          "type": "text",
          "text": "Defines a pointer to a function that convertsstream of text from a source encoding to a destination encoding,using the conversion path specified by the converter object you supply."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/tecpluginflushconversionptr": {
      "title": "TECPluginFlushConversionPtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/tecpluginflushconversionptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/tecpluginflushconversionptr",
      "abstract": [
        {
          "type": "text",
          "text": "Defines a pointer to a function that flushesout any data in a converter objectâ€™s temporary buffers and resetsthe converter object."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/tecplugindisposeencodingconverterptr": {
      "title": "TECPluginDisposeEncodingConverterPtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/tecplugindisposeencodingconverterptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/tecplugindisposeencodingconverterptr",
      "abstract": [
        {
          "type": "text",
          "text": "Defines a pointer to a function that disposesof a converter object."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/tecpluginnewencodingsnifferptr": {
      "title": "TECPluginNewEncodingSnifferPtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/tecpluginnewencodingsnifferptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/tecpluginnewencodingsnifferptr",
      "abstract": [
        {
          "type": "text",
          "text": "Defines a pointer to a function that createsa sniffer object and returns a reference to it."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/tecpluginclearsniffercontextinfoptr": {
      "title": "TECPluginClearSnifferContextInfoPtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/tecpluginclearsniffercontextinfoptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/tecpluginclearsniffercontextinfoptr",
      "abstract": [
        {
          "type": "text",
          "text": "Defines a pointer to a function that resets asniffer object to its initial settings."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/tecpluginsnifftextencodingptr": {
      "title": "TECPluginSniffTextEncodingPtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/tecpluginsnifftextencodingptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/tecpluginsnifftextencodingptr",
      "abstract": [
        {
          "type": "text",
          "text": "Defines a pointer toa function that analyzes a text stream and returns the probable encodingsin a ranked list, based on an array of possible encodings you supply;it also returns the number of errors and features for each encoding. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/tecplugindisposeencodingsnifferptr": {
      "title": "TECPluginDisposeEncodingSnifferPtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/tecplugindisposeencodingsnifferptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/tecplugindisposeencodingsnifferptr",
      "abstract": [
        {
          "type": "text",
          "text": "Defines a pointer to a function that disposesof a sniffer object."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/tecplugingetcountavailabletextencodingsptr": {
      "title": "TECPluginGetCountAvailableTextEncodingsPtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/tecplugingetcountavailabletextencodingsptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/tecplugingetcountavailabletextencodingsptr",
      "abstract": [
        {
          "type": "text",
          "text": "Defines a pointer to a function that obtainsthe available text encodings."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/tecplugingetcountavailabletextencodingpairsptr": {
      "title": "TECPluginGetCountAvailableTextEncodingPairsPtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/tecplugingetcountavailabletextencodingpairsptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/tecplugingetcountavailabletextencodingpairsptr",
      "abstract": [
        {
          "type": "text",
          "text": "Defines a pointer to a function that obtainsthe available text encoding pairs."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/tecplugingetcountdestinationtextencodingsptr": {
      "title": "TECPluginGetCountDestinationTextEncodingsPtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/tecplugingetcountdestinationtextencodingsptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/tecplugingetcountdestinationtextencodingsptr",
      "abstract": [
        {
          "type": "text",
          "text": "Defines a pointer to a function that counts andreturns the number of destination encodings to which a specifiedsource encoding can be converted in one step."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/tecplugingetcountsubtextencodingsptr": {
      "title": "TECPluginGetCountSubTextEncodingsPtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/tecplugingetcountsubtextencodingsptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/tecplugingetcountsubtextencodingsptr",
      "abstract": [
        {
          "type": "text",
          "text": "Defines a pointer to a function that obtainsthe text encoding specifications for the subencodings the encodingscheme supports."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/tecplugingetcountavailablesniffersptr": {
      "title": "TECPluginGetCountAvailableSniffersPtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/tecplugingetcountavailablesniffersptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/tecplugingetcountavailablesniffersptr",
      "abstract": [
        {
          "type": "text",
          "text": "Defines a pointer to a function that counts andreturns the number of sniffers available in all installed plug-ins."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/tecplugingetcountwebencodingsptr": {
      "title": "TECPluginGetCountWebEncodingsPtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/tecplugingetcountwebencodingsptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/tecplugingetcountwebencodingsptr",
      "abstract": [
        {
          "type": "text",
          "text": "Defines a pointer to a function that obtainsthe available web text encodings."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/tecplugingetcountmailencodingsptr": {
      "title": "TECPluginGetCountMailEncodingsPtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/tecplugingetcountmailencodingsptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/tecplugingetcountmailencodingsptr",
      "abstract": [
        {
          "type": "text",
          "text": "Defines a pointer to a function that obtainsthe text encodings available for email."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/tecplugingettextencodinginternetnameptr": {
      "title": "TECPluginGetTextEncodingInternetNamePtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/tecplugingettextencodinginternetnameptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/tecplugingettextencodinginternetnameptr",
      "abstract": [
        {
          "type": "text",
          "text": "Defines a pointer to a function that obtainsthe Internet text encoding name for a text encoding specification."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/tecplugingettextencodingfrominternetnameptr": {
      "title": "TECPluginGetTextEncodingFromInternetNamePtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/tecplugingettextencodingfrominternetnameptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/tecplugingettextencodingfrominternetnameptr",
      "abstract": [
        {
          "type": "text",
          "text": "Defines a pointer to a function that obtainsthe text encoding for an Internet text encoding name."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/coreservices/tecplugingetplugindispatchtableptr",
        "doc://com.apple.documentation/documentation/coreservices/tecpluginnewencodingconverterptr",
        "doc://com.apple.documentation/documentation/coreservices/tecpluginclearcontextinfoptr",
        "doc://com.apple.documentation/documentation/coreservices/tecpluginconverttextencodingptr",
        "doc://com.apple.documentation/documentation/coreservices/tecpluginflushconversionptr",
        "doc://com.apple.documentation/documentation/coreservices/tecplugindisposeencodingconverterptr",
        "doc://com.apple.documentation/documentation/coreservices/tecpluginnewencodingsnifferptr",
        "doc://com.apple.documentation/documentation/coreservices/tecpluginclearsniffercontextinfoptr",
        "doc://com.apple.documentation/documentation/coreservices/tecpluginsnifftextencodingptr",
        "doc://com.apple.documentation/documentation/coreservices/tecplugindisposeencodingsnifferptr",
        "doc://com.apple.documentation/documentation/coreservices/tecplugingetcountavailabletextencodingsptr",
        "doc://com.apple.documentation/documentation/coreservices/tecplugingetcountavailabletextencodingpairsptr",
        "doc://com.apple.documentation/documentation/coreservices/tecplugingetcountdestinationtextencodingsptr",
        "doc://com.apple.documentation/documentation/coreservices/tecplugingetcountsubtextencodingsptr",
        "doc://com.apple.documentation/documentation/coreservices/tecplugingetcountavailablesniffersptr",
        "doc://com.apple.documentation/documentation/coreservices/tecplugingetcountwebencodingsptr",
        "doc://com.apple.documentation/documentation/coreservices/tecplugingetcountmailencodingsptr",
        "doc://com.apple.documentation/documentation/coreservices/tecplugingettextencodinginternetnameptr",
        "doc://com.apple.documentation/documentation/coreservices/tecplugingettextencodingfrominternetnameptr"
      ],
      "title": "Callbacks",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "typedef"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@OSStatus",
              "identifier": "symbol-1480124",
              "text": "OSStatus"
            },
            {
              "kind": "text",
              "text": " (*"
            },
            {
              "kind": "identifier",
              "text": "UnicodeToTextFallbackProcPtr"
            },
            {
              "kind": "text",
              "text": ")("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@UniChar",
              "text": "UniChar"
            },
            {
              "kind": "text",
              "text": " *iSrcUniStr, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@ByteCount",
              "text": "ByteCount"
            },
            {
              "kind": "text",
              "text": " iSrcUniStrLen, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@ByteCount",
              "text": "ByteCount"
            },
            {
              "kind": "text",
              "text": " *oSrcConvLen, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@TextPtr",
              "identifier": "doc://com.apple.documentation/documentation/coreservices/textptr",
              "text": "TextPtr"
            },
            {
              "kind": "text",
              "text": " oDestStr, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@ByteCount",
              "text": "ByteCount"
            },
            {
              "kind": "text",
              "text": " iDestStrLen, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@ByteCount",
              "text": "ByteCount"
            },
            {
              "kind": "text",
              "text": " *oDestConvLen, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@LogicalAddress",
              "text": "LogicalAddress"
            },
            {
              "kind": "text",
              "text": " iInfoPtr, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@ConstUnicodeMappingPtr",
              "identifier": "doc://com.apple.documentation/documentation/coreservices/constunicodemappingptr",
              "text": "ConstUnicodeMappingPtr"
            },
            {
              "kind": "text",
              "text": " iUnicodeMappingPtr);"
            }
          ],
          "platforms": [
            "macOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "iSrcUniStr",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A pointer to a single UTF-16 character to be mapped by the fallback handler. "
                }
              ]
            }
          ]
        },
        {
          "name": "iSrcUniStrLen",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The length in bytes of the UTF-16 character indicated by the "
                },
                {
                  "type": "codeVoice",
                  "code": "iSrcUniStr"
                },
                {
                  "type": "text",
                  "text": " parameter. Usually this is 2 bytes, but it could be 4 bytes for a non-BMP character. "
                }
              ]
            }
          ]
        },
        {
          "name": "oSrcConvLen",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "On return, a pointer to the length in bytes of the portion of the Unicode character that was actually processed by your fallback handler. Your fallback handler returns this value. It should set this to 0 if none of the text was handled, or 2 or 4 if the Unicode character was handled. This value is initialized to 0 before the fallback handler is called."
                }
              ]
            }
          ]
        },
        {
          "name": "oDestStr",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A pointer to the output buffer where your handler should place any converted text. "
                }
              ]
            }
          ]
        },
        {
          "name": "iDestStrLen",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The maximum size in bytes of the buffer provided by the "
                },
                {
                  "type": "codeVoice",
                  "code": "oDestStr"
                },
                {
                  "type": "text",
                  "text": " parameter."
                }
              ]
            }
          ]
        },
        {
          "name": "oDestConvLen",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "On return, a pointer to the length in bytes of the fallback character sequence generated by your fallback handler. Your handler should return this length. It is initialized to 0 (zero)before the fallback handler is called."
                }
              ]
            }
          ]
        },
        {
          "name": "iInfoPtr",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A pointer to a block of memory allocated by your application, which can be used by your fallback handler in any way that you like. This is the same pointer passed as the last parameter of "
                },
                {
                  "type": "codeVoice",
                  "code": "SetFallbackUnicodeToText"
                },
                {
                  "type": "text",
                  "text": " or "
                },
                {
                  "type": "codeVoice",
                  "code": "SetFallbackUnicodeToTextRun"
                },
                {
                  "type": "text",
                  "text": ". How you use the data passed to you in this memory block is particular to your handler. This is similar in use to a reference constant(refcon). "
                }
              ]
            }
          ]
        },
        {
          "name": "iUnicodeMappingPtr",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A constant pointer to a structure of type "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/coreservices/unicodemapping"
                },
                {
                  "type": "text",
                  "text": ". This structure identifies a Unicode encoding specification and a particular base encoding specification. "
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A resultcode. See "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coreservices/carbon_core/text_encoding_conversion_manager#1664324"
            },
            {
              "type": "text",
              "text": ". Your handler should return "
            },
            {
              "type": "codeVoice",
              "code": "noErr"
            },
            {
              "type": "text",
              "text": " ifit can handle the fallback, or "
            },
            {
              "type": "codeVoice",
              "code": "kTECUnmappableElementErr"
            },
            {
              "type": "text",
              "text": " ifit cannot. It can return other errors for exceptional conditions,such as when the output buffer is too small. If your handler returns "
            },
            {
              "type": "codeVoice",
              "code": "kTECUnmappableElementErr"
            },
            {
              "type": "text",
              "text": ",then "
            },
            {
              "type": "codeVoice",
              "code": "oSrcConvLen"
            },
            {
              "type": "text",
              "text": " and "
            },
            {
              "type": "codeVoice",
              "code": "oDestConvLen"
            },
            {
              "type": "text",
              "text": " areignored because either the default handler will be called or thedefault fallback sequence will be used."
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The Unicode Converter calls your fallback handler when itcannot convert a text string using the mapping table specified bythe Unicode converter object passed to either "
            },
            {
              "type": "codeVoice",
              "code": "ConvertFromUnicodeToText"
            },
            {
              "type": "text",
              "text": " or "
            },
            {
              "type": "codeVoice",
              "code": "ConvertFromUnicodeToPString"
            },
            {
              "type": "text",
              "text": ".The control flags you set for the "
            },
            {
              "type": "codeVoice",
              "code": "controlFlags"
            },
            {
              "type": "text",
              "text": " parameterof the function "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coreservices/1433614-setfallbackunicodetotext"
            },
            {
              "type": "text",
              "text": " orthe "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coreservices/1433644-setfallbackunicodetotextrun"
            },
            {
              "type": "text",
              "text": " stipulatewhich fallback handler the Unicode Converter should call and whichone to try first if both can be used. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When the Unicode Converter calls your handler, it passes toit the Unicode character to be converted and its length, a bufferfor the converted string you return and the buffer length, and apointer to a block of memory containing the data your applicationsupplied to be passed on to your fallback handler. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "After you convert the Unicode text segment to fallback characters,you return the fallback character sequence of the converted textin the buffer provided to you and the length in bytes of this fallbackcharacter sequence. You also return the length in bytes of the portion ofthe source Unicode text element that your handler actually processed. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You provide a fallback-handler function for use with the function "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coreservices/1433550-createunicodetotextinfobyencodin"
            },
            {
              "type": "text",
              "text": ", "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coreservices/1433581-convertfromunicodetopstring"
            },
            {
              "type": "text",
              "text": ", "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coreservices/1433511-convertfromunicodetotextrun"
            },
            {
              "type": "text",
              "text": ",or "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coreservices/1433662-convertfromunicodetoscriptcoderu"
            },
            {
              "type": "text",
              "text": ".You associate an application-defined fallback handler with a particularUnicode converter object you intend to pass to the conversion functionwhen you call it. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Text converted from UTF-8 will already have been convertedto UTF-16 before the fallback handler is called to process it. Yourfallback handler should do all of its processing on text encodedin UTF-16. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Your application-defined fallback handler should not movememory or call any toolbox function that would move memory. If itneeds memory, the memory should be allocated before the call to "
            },
            {
              "type": "codeVoice",
              "code": "SetFallbackUnicodeToText"
            },
            {
              "type": "text",
              "text": " or "
            },
            {
              "type": "codeVoice",
              "code": "SetFallbackUnicodeToTextRun"
            },
            {
              "type": "text",
              "text": ",and a memory reference should be passed either directly as "
            },
            {
              "type": "codeVoice",
              "code": "iInfoPtr"
            },
            {
              "type": "text",
              "text": " orin the data referenced by "
            },
            {
              "type": "codeVoice",
              "code": "iInfoPtr"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To associate a fallback-handler function with a Unicode converterobject you use the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coreservices/1433614-setfallbackunicodetotext"
            },
            {
              "type": "text",
              "text": " and "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coreservices/1433644-setfallbackunicodetotextrun"
            },
            {
              "type": "text",
              "text": " functions.For these functions, you must pass a universal procedure pointer("
            },
            {
              "type": "codeVoice",
              "code": "UniversalProcPtr"
            },
            {
              "type": "text",
              "text": "). Thisis derived from a pointer to your function by using the predefinedmacro "
            },
            {
              "type": "codeVoice",
              "code": "NewUnicodeToTextFallbackProc"
            },
            {
              "type": "text",
              "text": ". "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For versions of the Unicode Converter prior to 1.2, the fallbackhandler may receive a multiple character text element, so the sourcestring length value could be greater than 2 and the fallback handlermay set "
            },
            {
              "type": "codeVoice",
              "code": "srcConvLen"
            },
            {
              "type": "text",
              "text": " toa value greater than 2. In versions earlier than 1.2.1, the "
            },
            {
              "type": "codeVoice",
              "code": "srcConvLen"
            },
            {
              "type": "text",
              "text": " and "
            },
            {
              "type": "codeVoice",
              "code": "destConvLen"
            },
            {
              "type": "text",
              "text": " variablesare not initialized to 0; both values are ignored unless the fallbackhandler returns "
            },
            {
              "type": "codeVoice",
              "code": "noErr"
            },
            {
              "type": "text",
              "text": ". "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The following example shows how to install an application-definedfallback handler. You can name your application-defined fallbackhandler anything you choose. The name, "
            },
            {
              "type": "codeVoice",
              "code": "MyUnicodeToTextFallbackProc"
            },
            {
              "type": "text",
              "text": ",used in this example is not significant. However, you must adhereto the parameters, the return type, and the calling convention asexpressed in this example, which follows the prototype, becausea pointer to this function must be of type "
            },
            {
              "type": "codeVoice",
              "code": "UnicodeToTextFallbackProcPtr"
            },
            {
              "type": "text",
              "text": " asdefined in the "
            },
            {
              "type": "codeVoice",
              "code": "UnicodeConverter.h"
            },
            {
              "type": "text",
              "text": " headerfile. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The "
            },
            {
              "type": "codeVoice",
              "code": "UnicodeConverter.h"
            },
            {
              "type": "text",
              "text": " headerfile also defines the "
            },
            {
              "type": "codeVoice",
              "code": "UnicodeToTextFallbackUPP"
            },
            {
              "type": "text",
              "text": " typeand the "
            },
            {
              "type": "codeVoice",
              "code": "NewUnicodeToTextFallbackProc"
            },
            {
              "type": "text",
              "text": " macro. "
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}