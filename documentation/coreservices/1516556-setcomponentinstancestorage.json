{
  "abstract": [
    {
      "type": "text",
      "text": "Allows your component to associate memory with a connection. "
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/coreservices",
        "doc://com.apple.documentation/documentation/coreservices/carbon_core",
        "doc://com.apple.documentation/documentation/coreservices/carbon_core/component_manager"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/coreservices/1516556-setcomponentinstancestorage",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1516556,
  "kind": "symbol",
  "metadata": {
    "title": "SetComponentInstanceStorage",
    "role": "symbol",
    "roleHeading": "Function",
    "modules": [
      {
        "name": "Core Services"
      }
    ],
    "platforms": [
      {
        "name": "macOS",
        "introducedAt": "10.0",
        "deprecatedAt": "10.8",
        "current": "12.1",
        "deprecated": true
      }
    ],
    "externalID": "c:@F@SetComponentInstanceStorage",
    "symbolKind": "func"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/coreservices/1516556-setcomponentinstancestorage"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/coreservices": {
      "title": "Core Services",
      "identifier": "doc://com.apple.documentation/documentation/coreservices",
      "url": "/documentation/coreservices",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/coreservices/carbon_core": {
      "title": "Carbon Core",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/carbon_core",
      "url": "/documentation/coreservices/carbon_core",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/coreservices/carbon_core/component_manager": {
      "title": "Component Manager",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/carbon_core/component_manager",
      "url": "/documentation/coreservices/carbon_core/component_manager",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/coreservices/componentinstance": {
      "title": "ComponentInstance",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/componentinstance",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/componentinstance"
    },
    "doc://com.apple.documentation/documentation/coreservices/1516394-countcomponentinstances": {
      "title": "CountComponentInstances",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1516394-countcomponentinstances",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/1516394-countcomponentinstances",
      "abstract": [
        {
          "type": "text",
          "text": "Determines the number of open connections being managed by a specified component. "
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/coreservices/1516517-getcomponentinstancestorage": {
      "title": "GetComponentInstanceStorage",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1516517-getcomponentinstancestorage",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/1516517-getcomponentinstancestorage",
      "abstract": [
        {
          "type": "text",
          "text": "Allows your component to retrieve a handle to the memory associated with a connection. "
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/coreservices/1516556-setcomponentinstancestorage": {
      "title": "SetComponentInstanceStorage",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1516556-setcomponentinstancestorage",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/1516556-setcomponentinstancestorage",
      "abstract": [
        {
          "type": "text",
          "text": "Allows your component to associate memory with a connection. "
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/coreservices/1516394-countcomponentinstances",
        "doc://com.apple.documentation/documentation/coreservices/1516517-getcomponentinstancestorage"
      ],
      "title": "Managing Component Connections",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "SetComponentInstanceStorage"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@ComponentInstance",
              "identifier": "doc://com.apple.documentation/documentation/coreservices/componentinstance",
              "text": "ComponentInstance"
            },
            {
              "kind": "text",
              "text": " aComponentInstance, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@Handle",
              "text": "Handle"
            },
            {
              "kind": "text",
              "text": " theStorage);"
            }
          ],
          "platforms": [
            "macOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "aComponentInstance",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The connection to associate with the allocated memory. The Component Manager provides a component instance to your component when the connection is opened. You can use a component identifier here, but you must coerce the data type appropriately. "
                }
              ]
            }
          ]
        },
        {
          "name": "theStorage",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A handle to the memory that your component has allocated for the connection. Your component must allocate this memory in the current heap. The Component Manager saves this handle and provides it to your component, along with other parameters, in subsequent requests to this connection. "
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When an application or component opens a connection to your component, the Component Manager sends your component an open request. In response to this open request, your component should set up an environment to service the connection. Typically, your component should allocate some memory for the connection. Your component can then use that memory to maintain state information appropriate to the connection."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Your component should dispose of any allocated memory for the connection only in response to the close request. Note that whenever an open request fails, the Component Manager always issues the close request. Furthermore, the value stored with this function is always passed to the close request, so it must be valid or "
            },
            {
              "type": "codeVoice",
              "code": "NULL"
            },
            {
              "type": "text",
              "text": ". If the open request tries to dispose of its allocated memory before returning, it should call this function again with a "
            },
            {
              "type": "codeVoice",
              "code": "NULL"
            },
            {
              "type": "text",
              "text": " handle to keep the Component Manager from passing an invalid handle to the close request. "
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}