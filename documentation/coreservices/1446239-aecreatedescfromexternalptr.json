{
  "abstract": [
    {
      "type": "text",
      "text": "Creates a new descriptor that uses a memory buffer supplied by the caller."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/coreservices",
        "doc://com.apple.documentation/documentation/coreservices/apple_events"
      ],
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/applicationservices",
        "doc://com.apple.documentation/documentation/applicationservices/apple_event_manager"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/coreservices/1446239-aecreatedescfromexternalptr",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1446239,
  "kind": "symbol",
  "metadata": {
    "title": "AECreateDescFromExternalPtr",
    "role": "symbol",
    "roleHeading": "Function",
    "modules": [
      {
        "name": "Core Services"
      }
    ],
    "platforms": [
      {
        "name": "macOS",
        "introducedAt": "10.2",
        "current": "12.1"
      }
    ],
    "externalID": "c:@F@AECreateDescFromExternalPtr",
    "symbolKind": "func"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/coreservices/1446239-aecreatedescfromexternalptr"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/coreservices/1446239-aecreatedescfromexternalptr"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/coreservices": {
      "title": "Core Services",
      "identifier": "doc://com.apple.documentation/documentation/coreservices",
      "url": "/documentation/coreservices",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/coreservices/apple_events": {
      "title": "Apple Events",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/apple_events",
      "url": "/documentation/coreservices/apple_events",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/applicationservices": {
      "title": "Application Services",
      "identifier": "doc://com.apple.documentation/documentation/applicationservices",
      "url": "/documentation/applicationservices",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/applicationservices/apple_event_manager": {
      "title": "Apple Event Manager",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/apple_event_manager",
      "kind": "article",
      "role": "collectionGroup",
      "url": "/documentation/applicationservices/apple_event_manager"
    },
    "doc://com.apple.documentation/documentation/applicationservices/apple_event_manager#1656145": {
      "title": "Result Codes",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/applicationservices/apple_event_manager#1656145",
      "kind": "article",
      "role": "task",
      "url": "/documentation/applicationservices/apple_event_manager#1656145"
    },
    "doc://com.apple.documentation/documentation/coreservices/1448535-aecreatedesc": {
      "title": "AECreateDesc",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1448535-aecreatedesc",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/1448535-aecreatedesc",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a new descriptor that incorporates the specified data."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/1446560-aegetdescdatarange": {
      "title": "AEGetDescDataRange",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1446560-aegetdescdatarange",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/1446560-aegetdescdatarange"
    },
    "doc://com.apple.documentation/documentation/coreservices/aedisposeexternalprocptr": {
      "title": "AEDisposeExternalProcPtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/aedisposeexternalprocptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/aedisposeexternalprocptr"
    },
    "doc://com.apple.documentation/documentation/coreservices/1444208-aedisposedesc": {
      "title": "AEDisposeDesc",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1444208-aedisposedesc",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/1444208-aedisposedesc"
    },
    "doc://com.apple.documentation/documentation/coreservices/aedisposeexternalupp": {
      "title": "AEDisposeExternalUPP",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/aedisposeexternalupp",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/aedisposeexternalupp"
    },
    "doc://com.apple.documentation/documentation/coreservices/aedesc": {
      "title": "AEDesc",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/aedesc",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/aedesc"
    },
    "doc://com.apple.documentation/documentation/coreservices/1446239-aecreatedescfromexternalptr": {
      "title": "AECreateDescFromExternalPtr",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1446239-aecreatedescfromexternalptr",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/1446239-aecreatedescfromexternalptr",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a new descriptor that uses a memory buffer supplied by the caller."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/coreservices/1442661-aeduplicatedesc": {
      "title": "AEDuplicateDesc",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/coreservices/1442661-aeduplicatedesc",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/coreservices/1442661-aeduplicatedesc",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a copy of a descriptor."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/coreservices/1448535-aecreatedesc",
        "doc://com.apple.documentation/documentation/coreservices/1442661-aeduplicatedesc"
      ],
      "title": "Creating and Duplicating Descriptors",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@OSStatus",
              "identifier": "symbol-1480124",
              "text": "OSStatus"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "AECreateDescFromExternalPtr"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@OSType",
              "text": "OSType"
            },
            {
              "kind": "text",
              "text": " descriptorType, "
            },
            {
              "kind": "keyword",
              "text": "const"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": " *dataPtr, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@Size",
              "text": "Size"
            },
            {
              "kind": "text",
              "text": " dataLength, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@AEDisposeExternalUPP",
              "identifier": "doc://com.apple.documentation/documentation/coreservices/aedisposeexternalupp",
              "text": "AEDisposeExternalUPP"
            },
            {
              "kind": "text",
              "text": " disposeCallback, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@SRefCon",
              "text": "SRefCon"
            },
            {
              "kind": "text",
              "text": " disposeRefcon, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@AEDesc",
              "identifier": "doc://com.apple.documentation/documentation/coreservices/aedesc",
              "text": "AEDesc"
            },
            {
              "kind": "text",
              "text": " *theDesc);"
            }
          ],
          "platforms": [
            "macOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "descriptorType",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The descriptor type for the new descriptor."
                }
              ]
            }
          ]
        },
        {
          "name": "dataPtr",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A pointer to the data for the new descriptor. The memory that is pointed to cannot be a "
                },
                {
                  "type": "codeVoice",
                  "code": "Handle"
                },
                {
                  "type": "text",
                  "text": " (which may move in memory), cannot be modified by the caller, and must be preserved in place (and not freed), until the "
                },
                {
                  "type": "codeVoice",
                  "code": "disposeCallback"
                },
                {
                  "type": "text",
                  "text": " function is called."
                }
              ]
            },
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "If possible, the descriptor will be mapped into the address space of the recipient using shared memory, avoiding an actual memory copy."
                }
              ]
            },
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The pointer that is passed in does not need to be aligned to any particular boundary, but is optimized to transfer data on a page boundary. You can get the current page size (4096 on all current macOS systems) with the "
                },
                {
                  "type": "codeVoice",
                  "code": "getpagesize(3)"
                },
                {
                  "type": "text",
                  "text": " call. (Type"
                },
                {
                  "type": "codeVoice",
                  "code": " man 3 getpagesize"
                },
                {
                  "type": "text",
                  "text": " in a Terminal window for documentation.)"
                }
              ]
            }
          ]
        },
        {
          "name": "dataLength",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The length, in bytes, of the data for the new descriptor."
                }
              ]
            }
          ]
        },
        {
          "name": "disposeCallback",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A universal procedure pointer to a dispose callback function of type "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/coreservices/aedisposeexternalprocptr"
                },
                {
                  "type": "text",
                  "text": ". Your callback function will be called when the block of memory provided by "
                },
                {
                  "type": "codeVoice",
                  "code": "dataPtr"
                },
                {
                  "type": "text",
                  "text": " is no longer needed by the Apple Event Manager. The function can be called at any time, including during creation of the descriptor."
                }
              ]
            }
          ]
        },
        {
          "name": "disposeRefcon",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A reference constant the Apple Event Manager passes to the "
                },
                {
                  "type": "codeVoice",
                  "code": "disposeCallback"
                },
                {
                  "type": "text",
                  "text": " function whenever it calls the function. If your dispose function doesn’t require a reference constant, pass 0 for this parameter. "
                }
              ]
            }
          ]
        },
        {
          "name": "theDesc",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A pointer to a descriptor. On successful return, a descriptor that incorporates the data specified by the "
                },
                {
                  "type": "codeVoice",
                  "code": "dataPtr"
                },
                {
                  "type": "text",
                  "text": " parameter. On error, a null descriptor. If the function returns successfully, your application should call the "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/coreservices/1444208-aedisposedesc"
                },
                {
                  "type": "text",
                  "text": " function to dispose of the resulting descriptor after it has finished using it."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A result code. See "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/applicationservices/apple_event_manager#1656145"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This function is different than "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coreservices/1448535-aecreatedesc"
            },
            {
              "type": "text",
              "text": ", in that it creates a descriptor that uses the data block provided by the caller “in place,” rather than allocate a block of memory and copy the data to it. This function can provide dramatically improved performance if you’re working with large chunks of data. It attempts to copy the descriptor to the address space of any recipient process using virtual memory APIs, avoiding an actual memory copy. For example, you might want to use this function to pass a large image in an Apple event."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You can use the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/coreservices/1446560-aegetdescdatarange"
            },
            {
              "type": "text",
              "text": " function to access a specific section of a large block of data."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Version-Notes",
          "anchor": "1770173"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Thread safe starting in OS X v10.2."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}