{
  "abstract": [
    {
      "type": "text",
      "text": "Creates a security session."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/security",
        "doc://com.apple.documentation/documentation/security/sessions"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/security/1593378-sessioncreate",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1593378,
  "kind": "symbol",
  "metadata": {
    "title": "SessionCreate",
    "role": "symbol",
    "roleHeading": "Function",
    "modules": [
      {
        "name": "Security"
      }
    ],
    "platforms": [
      {
        "name": "macOS",
        "introducedAt": "10.3",
        "current": "12.1"
      }
    ],
    "externalID": "c:@F@SessionCreate",
    "symbolKind": "func"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/security/1593378-sessioncreate"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/security/1593378-sessioncreate"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/security": {
      "title": "Security",
      "identifier": "doc://com.apple.documentation/documentation/security",
      "url": "/documentation/security",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/security/sessions": {
      "title": "Sessions",
      "identifier": "doc://com.apple.documentation/documentation/security/sessions",
      "url": "/documentation/security/sessions",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/security/sessioncreationflags": {
      "title": "SessionCreationFlags",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/sessioncreationflags",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/sessioncreationflags",
      "abstract": [
        {
          "type": "text",
          "text": "The flags that affect the creation of a security session."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/security/sessionattributebits": {
      "title": "SessionAttributeBits",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/sessionattributebits",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/sessionattributebits",
      "abstract": [
        {
          "type": "text",
          "text": "The attributes of a security session."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/security/sessioncreationflags/sessionkeepcurrentbootstrap": {
      "title": "sessionKeepCurrentBootstrap",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/sessioncreationflags/sessionkeepcurrentbootstrap",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/sessioncreationflags/sessionkeepcurrentbootstrap"
    },
    "doc://com.apple.documentation/documentation/security/1593378-sessioncreate": {
      "title": "SessionCreate",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1593378-sessioncreate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1593378-sessioncreate",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a security session."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/security/1593376-sessions_api_result_codes": {
      "title": "Sessions API Result Codes",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1593376-sessions_api_result_codes",
      "kind": "symbol",
      "role": "containerSymbol",
      "url": "/documentation/security/1593376-sessions_api_result_codes"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/security/sessioncreationflags",
        "doc://com.apple.documentation/documentation/security/sessionattributebits"
      ],
      "title": "Creating a Session",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@OSStatus",
              "identifier": "symbol-1480124",
              "text": "OSStatus"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "SessionCreate"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@SessionCreationFlags",
              "identifier": "doc://com.apple.documentation/documentation/security/sessioncreationflags",
              "text": "SessionCreationFlags"
            },
            {
              "kind": "text",
              "text": " flags, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@SessionAttributeBits",
              "identifier": "doc://com.apple.documentation/documentation/security/sessionattributebits",
              "text": "SessionAttributeBits"
            },
            {
              "kind": "text",
              "text": " attributes);"
            }
          ],
          "platforms": [
            "macOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "flags",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "Flags controlling how the session is created. See "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/security/sessioncreationflags"
                },
                {
                  "type": "text",
                  "text": " for valid values."
                }
              ]
            }
          ]
        },
        {
          "name": "attributes",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The set of attribute bits to set for the new session. Not all bits can be set this way. See "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/security/sessionattributebits"
                },
                {
                  "type": "text",
                  "text": " for valid values."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A result code. See "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/1593376-sessions_api_result_codes"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Upon completion, the new session contains the calling process (and none other). You can't create a session for someone else, and can't avoid being placed into the new session. This is (currently) the only call that changes a process's session membership."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "By default, a new bootstrap subset port is created for the calling process. The process acquires this new port as its bootstrap port, which all its children will inherit. If you happen to have created the subset port on your own, you can pass the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/sessioncreationflags/sessionkeepcurrentbootstrap"
            },
            {
              "type": "text",
              "text": " flag, and "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/security/1593378-sessioncreate"
            },
            {
              "type": "text",
              "text": " will use it. Note however that you cannot supersede a prior "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/security/1593378-sessioncreate"
            },
            {
              "type": "text",
              "text": " call that way; only a single "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/security/1593378-sessioncreate"
            },
            {
              "type": "text",
              "text": " call is allowed for each session (however made)."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This call will discard any security information established for the calling process. In particular, any authorization handles acquired will become invalid, and so will any keychain related information. Call "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/security/1593378-sessioncreate"
            },
            {
              "type": "text",
              "text": " before making any other security-related calls that establish rights of any kind, to the extent this is practical. Also, do not perform security-related calls in any other threads while calling "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/security/1593378-sessioncreate"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}