{
  "abstract": [
    {
      "type": "text",
      "text": "Asynchronously stores (or updates) a shared password for a website."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/security",
        "doc://com.apple.documentation/documentation/security/shared_web_credentials"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/security/1617986-secaddsharedwebcredential",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1617986,
  "kind": "symbol",
  "metadata": {
    "title": "SecAddSharedWebCredential",
    "role": "symbol",
    "roleHeading": "Function",
    "modules": [
      {
        "name": "Security"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "8.0",
        "current": "15.2"
      },
      {
        "name": "iPadOS",
        "introducedAt": "8.0",
        "current": "15.2"
      },
      {
        "name": "macOS",
        "introducedAt": "11.0",
        "current": "12.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "14.0",
        "current": "15.2"
      }
    ],
    "externalID": "c:@F@SecAddSharedWebCredential",
    "symbolKind": "func"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/security/1617986-secaddsharedwebcredential"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/security/1617986-secaddsharedwebcredential"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/security": {
      "title": "Security",
      "identifier": "doc://com.apple.documentation/documentation/security",
      "url": "/documentation/security",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/security/shared_web_credentials": {
      "title": "Shared Web Credentials",
      "identifier": "doc://com.apple.documentation/documentation/security/shared_web_credentials",
      "url": "/documentation/security/shared_web_credentials",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/corefoundation/cferrorref": {
      "title": "CFErrorRef",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corefoundation/cferrorref",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corefoundation/cferrorref"
    },
    "doc://com.apple.documentation/documentation/bundleresources/entitlements/com_apple_developer_associated-domains": {
      "title": "Associated Domains Entitlement",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/bundleresources/entitlements/com_apple_developer_associated-domains",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/bundleresources/entitlements/com_apple_developer_associated-domains"
    },
    "doc://com.apple.documentation/documentation/corefoundation/cfstringref": {
      "title": "CFStringRef",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfstringref",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corefoundation/cfstringref"
    },
    "doc://com.apple.documentation/documentation/security/1617986-secaddsharedwebcredential": {
      "title": "SecAddSharedWebCredential",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1617986-secaddsharedwebcredential",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1617986-secaddsharedwebcredential",
      "abstract": [
        {
          "type": "text",
          "text": "Asynchronously stores (or updates) a shared password for a website."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/security/1617896-secrequestsharedwebcredential": {
      "title": "SecRequestSharedWebCredential",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1617896-secrequestsharedwebcredential",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1617896-secrequestsharedwebcredential",
      "abstract": [
        {
          "type": "text",
          "text": "Asynchronously obtains one or more shared passwords for a website."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/security/1618050-seccreatesharedwebcredentialpass": {
      "title": "SecCreateSharedWebCredentialPassword",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1618050-seccreatesharedwebcredentialpass",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1618050-seccreatesharedwebcredentialpass",
      "abstract": [
        {
          "type": "text",
          "text": "Returns a randomly generated password."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/security/ksecsharedpassword": {
      "title": "kSecSharedPassword",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/ksecsharedpassword",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/ksecsharedpassword",
      "abstract": [
        {
          "type": "text",
          "text": "A dictionary key whose value is the shared password."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/security/1617896-secrequestsharedwebcredential",
        "doc://com.apple.documentation/documentation/security/1618050-seccreatesharedwebcredentialpass",
        "doc://com.apple.documentation/documentation/security/ksecsharedpassword"
      ],
      "title": "Password Sharing",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "SecAddSharedWebCredential"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CFStringRef",
              "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfstringref",
              "text": "CFStringRef"
            },
            {
              "kind": "text",
              "text": " fqdn, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CFStringRef",
              "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfstringref",
              "text": "CFStringRef"
            },
            {
              "kind": "text",
              "text": " account, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CFStringRef",
              "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfstringref",
              "text": "CFStringRef"
            },
            {
              "kind": "text",
              "text": " password, "
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": " (^completionHandler)("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CFErrorRef",
              "identifier": "doc://com.apple.documentation/documentation/corefoundation/cferrorref",
              "text": "CFErrorRef"
            },
            {
              "kind": "text",
              "text": " error));"
            }
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "macOS",
            "Mac Catalyst"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "fqdn",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The fully qualified domain name of the website requiring the password."
                }
              ]
            }
          ]
        },
        {
          "name": "account",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The account name associated with this password."
                }
              ]
            }
          ]
        },
        {
          "name": "password",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The password to be stored. Pass "
                },
                {
                  "type": "codeVoice",
                  "code": "NULL"
                },
                {
                  "type": "text",
                  "text": " to remove a shared password if it exists."
                }
              ]
            }
          ]
        },
        {
          "name": "completionHandler",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A block invoked when the function has completed."
                }
              ]
            },
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The block takes one argument:"
                }
              ]
            },
            {
              "type": "termList",
              "items": [
                {
                  "term": {
                    "inlineContent": [
                      {
                        "type": "codeVoice",
                        "code": "error"
                      }
                    ]
                  },
                  "definition": {
                    "content": [
                      {
                        "type": "paragraph",
                        "inlineContent": [
                          {
                            "type": "text",
                            "text": "If the shared password was successfully added (or removed), "
                          },
                          {
                            "type": "codeVoice",
                            "code": "NULL"
                          },
                          {
                            "type": "text",
                            "text": "; if not successful, a "
                          },
                          {
                            "type": "reference",
                            "isActive": true,
                            "identifier": "doc://com.apple.documentation/documentation/corefoundation/cferrorref"
                          },
                          {
                            "type": "text",
                            "text": " object that encapsulates the reason why the password could not be added (or removed). The error reference is automatically released after this handler is called, though you may optionally retain it for as long as needed."
                          }
                        ]
                      }
                    ]
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This function adds a shared password item that will be accessible by Safari and apps that have the specified fully qualified domain name in their "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/bundleresources/entitlements/com_apple_developer_associated-domains"
            },
            {
              "type": "text",
              "text": ". If a shared password item already exists for the specified website and account, it is updated with the provided password. To remove a password, pass "
            },
            {
              "type": "codeVoice",
              "code": "NULL"
            },
            {
              "type": "text",
              "text": " for the password parameter."
            }
          ]
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "Because a request involving shared web credentials may potentially require user interaction or other verification to be approved, this function is dispatched asynchronously; your code provides a completion handler that is called as soon as the results (if any) are available."
                }
              ]
            }
          ],
          "style": "note",
          "name": "Note"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When this function is called, the system tries to get the site association file from the server. If the file is unavailable, the sever returns a 500-599 code. "
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}