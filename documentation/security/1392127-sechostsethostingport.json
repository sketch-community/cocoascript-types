{
  "abstract": [
    {
      "type": "text",
      "text": "Tells code signing services that the calling code will directly respond to hosting inquiries over the given port."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/security",
        "doc://com.apple.documentation/documentation/security/code_signing_services"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/security/1392127-sechostsethostingport",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1392127,
  "kind": "symbol",
  "metadata": {
    "title": "SecHostSetHostingPort",
    "role": "symbol",
    "roleHeading": "Function",
    "modules": [
      {
        "name": "Security"
      }
    ],
    "platforms": [
      {
        "name": "macOS",
        "introducedAt": "10.5",
        "deprecatedAt": "10.6",
        "current": "11.1",
        "deprecated": true
      }
    ],
    "externalID": "c:@F@SecHostSetHostingPort",
    "symbolKind": "func"
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/security/1392127-sechostsethostingport"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/security": {
      "title": "Security",
      "identifier": "doc://com.apple.documentation/documentation/security",
      "url": "/documentation/security",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/security/code_signing_services": {
      "title": "Code Signing Services",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/code_signing_services",
      "kind": "article",
      "role": "collectionGroup",
      "url": "/documentation/security/code_signing_services"
    },
    "doc://com.apple.documentation/documentation/security/1574088-code_signing_services_result_cod": {
      "title": "Code Signing Services Result Codes",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1574088-code_signing_services_result_cod",
      "kind": "symbol",
      "role": "containerSymbol",
      "url": "/documentation/security/1574088-code_signing_services_result_cod"
    },
    "doc://com.apple.documentation/documentation/security/seccsflags": {
      "title": "SecCSFlags",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/seccsflags",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/seccsflags"
    },
    "doc://com.apple.documentation/documentation/security/seccsflags/kseccsdefaultflags": {
      "title": "kSecCSDefaultFlags",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/seccsflags/kseccsdefaultflags",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/seccsflags/kseccsdefaultflags"
    },
    "doc://com.apple.documentation/documentation/security/code_signing_services#1665717": {
      "title": "Guest Code",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/security/code_signing_services#1665717",
      "kind": "article",
      "role": "task",
      "url": "/documentation/security/code_signing_services#1665717"
    },
    "doc://com.apple.documentation/documentation/security/1392127-sechostsethostingport": {
      "title": "SecHostSetHostingPort",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1392127-sechostsethostingport",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1392127-sechostsethostingport",
      "abstract": [
        {
          "type": "text",
          "text": "Tells code signing services that the calling code will directly respond to hosting inquiries over the given port."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/security/1396597-sechostcreateguest": {
      "title": "SecHostCreateGuest",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1396597-sechostcreateguest",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1396597-sechostcreateguest",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a new guest and describes its initial properties."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/security/1401699-sechostremoveguest": {
      "title": "SecHostRemoveGuest",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1401699-sechostremoveguest",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1401699-sechostremoveguest",
      "abstract": [
        {
          "type": "text",
          "text": "Removes a guest from a host."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/security/1397494-sechostsetgueststatus": {
      "title": "SecHostSetGuestStatus",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1397494-sechostsetgueststatus",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1397494-sechostsetgueststatus"
    },
    "doc://com.apple.documentation/documentation/security/1401329-sechostselectguest": {
      "title": "SecHostSelectGuest",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1401329-sechostselectguest",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1401329-sechostselectguest",
      "abstract": [
        {
          "type": "text",
          "text": "Makes the calling thread the proxy for a specified guest."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/security/1396527-sechostselectedguest": {
      "title": "SecHostSelectedGuest",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1396527-sechostselectedguest",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1396527-sechostselectedguest",
      "abstract": [
        {
          "type": "text",
          "text": "Retrieves the handle for the guest currently selected for the calling thread."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/driverkit/mach_port_t": {
      "title": "mach_port_t",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/driverkit/mach_port_t",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/driverkit/mach_port_t"
    },
    "doc://com.apple.documentation/documentation/security/1398794-seccodecopyhost": {
      "title": "SecCodeCopyHost",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1398794-seccodecopyhost",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1398794-seccodecopyhost",
      "abstract": [
        {
          "type": "text",
          "text": "Retrieves the code object for the host of specified guest code."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/security/1393719-seccodemapmemory": {
      "title": "SecCodeMapMemory",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1393719-seccodemapmemory",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1393719-seccodemapmemory",
      "abstract": [
        {
          "type": "text",
          "text": "Asks the kernel to accept the signing information currently attached to a code object and uses it to validate memory page-ins."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/security/1398794-seccodecopyhost",
        "doc://com.apple.documentation/documentation/security/1401699-sechostremoveguest",
        "doc://com.apple.documentation/documentation/security/1401329-sechostselectguest",
        "doc://com.apple.documentation/documentation/security/1396527-sechostselectedguest",
        "doc://com.apple.documentation/documentation/security/1393719-seccodemapmemory"
      ],
      "title": "Guest Management",
      "generated": true
    },
    {
      "title": "Related Documentation",
      "generated": false,
      "identifiers": [
        "doc://com.apple.documentation/documentation/security/1396597-sechostcreateguest"
      ]
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@OSStatus",
              "identifier": "symbol-1480124",
              "text": "OSStatus"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "SecHostSetHostingPort"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@mach_port_t",
              "identifier": "doc://com.apple.documentation/documentation/driverkit/mach_port_t",
              "text": "mach_port_t"
            },
            {
              "kind": "text",
              "text": " hostingPort, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@SecCSFlags",
              "identifier": "doc://com.apple.documentation/documentation/security/seccsflags",
              "text": "SecCSFlags"
            },
            {
              "kind": "text",
              "text": " flags);"
            }
          ],
          "platforms": [
            "macOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "hostingPort",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A Mach message port with send rights. This port is recorded and handed to parties interested in querying the host about its children."
                }
              ]
            }
          ]
        },
        {
          "name": "flags",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "Optional flags; see "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/security/seccsflags"
                },
                {
                  "type": "text",
                  "text": " for possible values. Pass "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/security/seccsflags/kseccsdefaultflags"
                },
                {
                  "type": "text",
                  "text": " for standard behavior."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A result code. See "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/1574088-code_signing_services_result_cod"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If you want to use dynamic hosting mode (see "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/code_signing_services#1665717"
            },
            {
              "type": "text",
              "text": "), call this function before calling any other code signing services hosting functions. When you call "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/security/1392127-sechostsethostingport"
            },
            {
              "type": "text",
              "text": ", the calling code takes direct responsibility for answering questions about its guests using the hosting IPC services. After you call this function, you cannot call the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/1396597-sechostcreateguest"
            },
            {
              "type": "text",
              "text": ", "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/1401699-sechostremoveguest"
            },
            {
              "type": "text",
              "text": ", or "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/1397494-sechostsetgueststatus"
            },
            {
              "type": "text",
              "text": " functions. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/1401329-sechostselectguest"
            },
            {
              "type": "text",
              "text": " and "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/1396527-sechostselectedguest"
            },
            {
              "type": "text",
              "text": " functions work after calling this function.  "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Once you call this function, the calling code must act in dynamic hosting mode; proxy hosting mode is disabled for the lifetime of the calling code."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Dynamic hosting is useful if you have a large host with many guests that are changing status frequently. In that case, it’s more efficient to only respond to requests for information when they’re made than to call the status update functions ("
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/1396597-sechostcreateguest"
            },
            {
              "type": "text",
              "text": ", "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/1397494-sechostsetgueststatus"
            },
            {
              "type": "text",
              "text": ", or "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/1401699-sechostremoveguest"
            },
            {
              "type": "text",
              "text": ") every time something changes. However, dynamic hosting mode is not fully supported by high-level API functions at this time. Unless you have extensive knowledge of Mach messaging and have a particular need to manage your guest code dynamically, it is recommended that you use proxy hosting mode. "
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}