{
  "abstract": [
    {
      "type": "text",
      "text": "Asks the kernel to accept the signing information currently attached to a code object and uses it to validate memory page-ins."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/security",
        "doc://com.apple.documentation/documentation/security/code_signing_services"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/security/1393719-seccodemapmemory",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1393719,
  "kind": "symbol",
  "metadata": {
    "title": "SecCodeMapMemory",
    "role": "symbol",
    "roleHeading": "Function",
    "modules": [
      {
        "name": "Security"
      }
    ],
    "platforms": [
      {
        "name": "macOS",
        "introducedAt": "10.6",
        "current": "11.1"
      }
    ],
    "externalID": "c:@F@SecCodeMapMemory",
    "symbolKind": "func"
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/security/1393719-seccodemapmemory"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/security/1393719-seccodemapmemory"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/security": {
      "title": "Security",
      "identifier": "doc://com.apple.documentation/documentation/security",
      "url": "/documentation/security",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/security/code_signing_services": {
      "title": "Code Signing Services",
      "identifier": "doc://com.apple.documentation/documentation/security/code_signing_services",
      "url": "/documentation/security/code_signing_services",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/security/1574088-code_signing_services_result_cod": {
      "title": "Code Signing Services Result Codes",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1574088-code_signing_services_result_cod",
      "kind": "symbol",
      "role": "containerSymbol",
      "url": "/documentation/security/1574088-code_signing_services_result_cod"
    },
    "doc://com.apple.documentation/documentation/security/1401695-seccodecopystaticcode": {
      "title": "SecCodeCopyStaticCode",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1401695-seccodecopystaticcode",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1401695-seccodecopystaticcode"
    },
    "doc://com.apple.documentation/documentation/security/seccsflags": {
      "title": "SecCSFlags",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/seccsflags",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/seccsflags"
    },
    "doc://com.apple.documentation/documentation/security/seccsflags/kseccsdefaultflags": {
      "title": "kSecCSDefaultFlags",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/seccsflags/kseccsdefaultflags",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/seccsflags/kseccsdefaultflags"
    },
    "doc://com.apple.documentation/documentation/security/1395809-seccodecopysigninginformation": {
      "title": "SecCodeCopySigningInformation",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1395809-seccodecopysigninginformation",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1395809-seccodecopysigninginformation"
    },
    "doc://com.apple.documentation/documentation/security/secstaticcoderef": {
      "title": "SecStaticCodeRef",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/secstaticcoderef",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/secstaticcoderef"
    },
    "doc://com.apple.documentation/documentation/security/1398794-seccodecopyhost": {
      "title": "SecCodeCopyHost",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1398794-seccodecopyhost",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1398794-seccodecopyhost",
      "abstract": [
        {
          "type": "text",
          "text": "Retrieves the code object for the host of specified guest code."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/security/1401699-sechostremoveguest": {
      "title": "SecHostRemoveGuest",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1401699-sechostremoveguest",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1401699-sechostremoveguest",
      "abstract": [
        {
          "type": "text",
          "text": "Removes a guest from a host."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/security/1401329-sechostselectguest": {
      "title": "SecHostSelectGuest",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1401329-sechostselectguest",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1401329-sechostselectguest",
      "abstract": [
        {
          "type": "text",
          "text": "Makes the calling thread the proxy for a specified guest."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/security/1396527-sechostselectedguest": {
      "title": "SecHostSelectedGuest",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1396527-sechostselectedguest",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1396527-sechostselectedguest",
      "abstract": [
        {
          "type": "text",
          "text": "Retrieves the handle for the guest currently selected for the calling thread."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/security/1392127-sechostsethostingport": {
      "title": "SecHostSetHostingPort",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1392127-sechostsethostingport",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1392127-sechostsethostingport",
      "abstract": [
        {
          "type": "text",
          "text": "Tells code signing services that the calling code will directly respond to hosting inquiries over the given port."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/security/1393719-seccodemapmemory": {
      "title": "SecCodeMapMemory",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1393719-seccodemapmemory",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1393719-seccodemapmemory",
      "abstract": [
        {
          "type": "text",
          "text": "Asks the kernel to accept the signing information currently attached to a code object and uses it to validate memory page-ins."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/security/1398794-seccodecopyhost",
        "doc://com.apple.documentation/documentation/security/1401699-sechostremoveguest",
        "doc://com.apple.documentation/documentation/security/1401329-sechostselectguest",
        "doc://com.apple.documentation/documentation/security/1396527-sechostselectedguest",
        "doc://com.apple.documentation/documentation/security/1392127-sechostsethostingport"
      ],
      "title": "Guest Management",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@OSStatus",
              "identifier": "symbol-1480124",
              "text": "OSStatus"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "SecCodeMapMemory"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@SecStaticCodeRef",
              "identifier": "doc://com.apple.documentation/documentation/security/secstaticcoderef",
              "text": "SecStaticCodeRef"
            },
            {
              "kind": "text",
              "text": " code, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@SecCSFlags",
              "identifier": "doc://com.apple.documentation/documentation/security/seccsflags",
              "text": "SecCSFlags"
            },
            {
              "kind": "text",
              "text": " flags);"
            }
          ],
          "platforms": [
            "macOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "code",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A code or static code object representing the signed code whose main executable should be subject to page-in validation. If you provide a code object, the function processes it in the same manner as the  "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/security/1401695-seccodecopystaticcode"
                },
                {
                  "type": "text",
                  "text": " function—that is, whether you provide a code object or a static code object, the function actually takes the signature from the code on disk."
                }
              ]
            }
          ]
        },
        {
          "name": "flags",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "Optional flags; see "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/security/seccsflags"
                },
                {
                  "type": "text",
                  "text": " for possible values. Pass "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/security/seccsflags/kseccsdefaultflags"
                },
                {
                  "type": "text",
                  "text": " for standard behavior."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A result code. See "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/1574088-code_signing_services_result_cod"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This function is for the use of code hosts that use memory mapping to manage their own code. The kernel takes the signing information attached to the code on disk specified by the "
            },
            {
              "type": "codeVoice",
              "code": "code"
            },
            {
              "type": "text",
              "text": " parameter and attaches it to the memory object. After that, it uses the signature to validate memory page-ins, updating the dynamic validity status accordingly. You can use the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/1395809-seccodecopysigninginformation"
            },
            {
              "type": "text",
              "text": " function to check the code’s dynamic validity status. The attachment of the signature to the memory object affects all processes that have the main executable of this code mapped. "
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}