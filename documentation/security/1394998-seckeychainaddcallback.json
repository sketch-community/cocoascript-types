{
  "abstract": [
    {
      "type": "text",
      "text": "Registers your keychain event callback function."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/security",
        "doc://com.apple.documentation/documentation/security/keychain_services",
        "doc://com.apple.documentation/documentation/security/keychain_services/keychains"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/security/1394998-seckeychainaddcallback",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1394998,
  "kind": "symbol",
  "metadata": {
    "title": "SecKeychainAddCallback",
    "role": "symbol",
    "roleHeading": "Function",
    "modules": [
      {
        "name": "Security"
      }
    ],
    "platforms": [
      {
        "name": "macOS",
        "introducedAt": "10.2",
        "current": "12.1"
      }
    ],
    "externalID": "c:@F@SecKeychainAddCallback",
    "symbolKind": "func"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/security/1394998-seckeychainaddcallback"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/security/1394998-seckeychainaddcallback"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/security": {
      "title": "Security",
      "identifier": "doc://com.apple.documentation/documentation/security",
      "url": "/documentation/security",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/security/keychain_services": {
      "title": "Keychain Services",
      "identifier": "doc://com.apple.documentation/documentation/security/keychain_services",
      "url": "/documentation/security/keychain_services",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/security/keychain_services/keychains": {
      "title": "Keychains",
      "identifier": "doc://com.apple.documentation/documentation/security/keychain_services/keychains",
      "url": "/documentation/security/keychain_services/keychains",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/security/seckeychaincallback": {
      "title": "SecKeychainCallback",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/seckeychaincallback",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/seckeychaincallback",
      "abstract": [
        {
          "type": "text",
          "text": "A customized callback function that keychain services call when a keychain event has occurred."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/security/seckeychaineventmask": {
      "title": "SecKeychainEventMask",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/seckeychaineventmask",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/seckeychaineventmask",
      "abstract": [
        {
          "type": "text",
          "text": "Bit masks corresponding to the events that can trigger a keychain callback."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/security/1542001-security_framework_result_codes": {
      "title": "Security Framework Result Codes",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1542001-security_framework_result_codes",
      "kind": "symbol",
      "role": "containerSymbol",
      "url": "/documentation/security/1542001-security_framework_result_codes"
    },
    "doc://com.apple.documentation/documentation/security/1394998-seckeychainaddcallback": {
      "title": "SecKeychainAddCallback",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1394998-seckeychainaddcallback",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1394998-seckeychainaddcallback",
      "abstract": [
        {
          "type": "text",
          "text": "Registers your keychain event callback function."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/security/1398240-seckeychainremovecallback": {
      "title": "SecKeychainRemoveCallback",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1398240-seckeychainremovecallback",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1398240-seckeychainremovecallback",
      "abstract": [
        {
          "type": "text",
          "text": "Unregisters your keychain event callback function."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/security/seckeychaincallbackinfo": {
      "title": "SecKeychainCallbackInfo",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/seckeychaincallbackinfo",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/seckeychaincallbackinfo",
      "abstract": [
        {
          "type": "text",
          "text": "Information about a keychain event that keychain services deliver to your app via a callback function. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/security/seckeychainevent": {
      "title": "SecKeychainEvent",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/seckeychainevent",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/seckeychainevent",
      "abstract": [
        {
          "type": "text",
          "text": "The list of keychain events that can trigger a callback."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/security/1398240-seckeychainremovecallback",
        "doc://com.apple.documentation/documentation/security/seckeychaincallback",
        "doc://com.apple.documentation/documentation/security/seckeychaincallbackinfo",
        "doc://com.apple.documentation/documentation/security/seckeychainevent",
        "doc://com.apple.documentation/documentation/security/seckeychaineventmask"
      ],
      "title": "Callbacks",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@OSStatus",
              "identifier": "symbol-1480124",
              "text": "OSStatus"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "SecKeychainAddCallback"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@SecKeychainCallback",
              "identifier": "doc://com.apple.documentation/documentation/security/seckeychaincallback",
              "text": "SecKeychainCallback"
            },
            {
              "kind": "text",
              "text": " callbackFunction, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@SecKeychainEventMask",
              "identifier": "doc://com.apple.documentation/documentation/security/seckeychaineventmask",
              "text": "SecKeychainEventMask"
            },
            {
              "kind": "text",
              "text": " eventMask, "
            },
            {
              "kind": "keyword",
              "text": "void"
            },
            {
              "kind": "text",
              "text": " *userContext);"
            }
          ],
          "platforms": [
            "macOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "callbackFunction",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A pointer to your keychain event callback function, described in "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/security/seckeychaincallback"
                },
                {
                  "type": "text",
                  "text": "."
                }
              ]
            }
          ]
        },
        {
          "name": "eventMask",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A bit mask indicating the keychain events of which your application wishes to be notified. See "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/security/seckeychaineventmask"
                },
                {
                  "type": "text",
                  "text": " for valid values. Keychain Services tests this mask to determine the keychain events that you wish to receive, and passes these events in the "
                },
                {
                  "type": "codeVoice",
                  "code": "keychainEvent"
                },
                {
                  "type": "text",
                  "text": " parameter of your callback function."
                }
              ]
            }
          ]
        },
        {
          "name": "userContext",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A pointer to application-defined storage that will be passed to your callback function. Your application can use this to associate any particular call of this function with any particular call of your keychain event callback function."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A result code. See "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/1542001-security_framework_result_codes"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "It is important to note that the current Foundation or Core Foundation run loop must be active when making this call or the callbacks are not registered. In multithreaded programs, the notifications are registered in the run loop of the thread calling "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/security/1394998-seckeychainaddcallback"
            },
            {
              "type": "text",
              "text": "; therefore, delivery of notifications depends on the functioning of that thread’s run loop. If that thread terminates, or is so busy that it doesn't operate its run loop in a timely manner, notifications will be delayed, and may eventually be dropped without any notification."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For that reason, it is inadvisable for your program to depend on delivery of notifications caused by your own actions (such as depending on receiving a deletion notification before updating a UI view) unless your program is multithreaded and can take notifications on a thread different from the one generating the events."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}