{
  "abstract": [
    {
      "type": "text",
      "text": "Sets the action and action data for a trust management object. "
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/security",
        "doc://com.apple.documentation/documentation/security/certificate_key_and_trust_services",
        "doc://com.apple.documentation/documentation/security/certificate_key_and_trust_services/trust"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/security/1524326-sectrustsetparameters",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1524326,
  "kind": "symbol",
  "metadata": {
    "title": "SecTrustSetParameters",
    "role": "symbol",
    "roleHeading": "Function",
    "modules": [
      {
        "name": "Security"
      }
    ],
    "platforms": [
      {
        "name": "macOS",
        "introducedAt": "10.2",
        "deprecatedAt": "10.7",
        "current": "11.1",
        "deprecated": true
      }
    ],
    "externalID": "c:@F@SecTrustSetParameters",
    "symbolKind": "func"
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/security/1524326-sectrustsetparameters"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/security": {
      "title": "Security",
      "identifier": "doc://com.apple.documentation/documentation/security",
      "url": "/documentation/security",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/security/certificate_key_and_trust_services": {
      "title": "Certificate, Key, and Trust Services",
      "identifier": "doc://com.apple.documentation/documentation/security/certificate_key_and_trust_services",
      "url": "/documentation/security/certificate_key_and_trust_services",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/security/certificate_key_and_trust_services/trust": {
      "title": "Trust",
      "identifier": "doc://com.apple.documentation/documentation/security/certificate_key_and_trust_services/trust",
      "url": "/documentation/security/certificate_key_and_trust_services/trust",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/security/1401555-sectrustcreatewithcertificates": {
      "title": "SecTrustCreateWithCertificates",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1401555-sectrustcreatewithcertificates",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1401555-sectrustcreatewithcertificates"
    },
    "devLink-1727376": {
      "identifier": "devLink-1727376",
      "type": "link",
      "title": "Apple Trust Policy Module Functional Specification",
      "url": "https://developer.apple.com/library/archive/documentation/Security/Reference/SecAppleTrustPolicyModuleSpec/Apple_Trust_Policy_Module_Functional_Specification.pdf"
    },
    "doc://com.apple.documentation/documentation/security/1394363-sectrustevaluate": {
      "title": "SecTrustEvaluate",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1394363-sectrustevaluate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1394363-sectrustevaluate",
      "abstract": [
        {
          "type": "text",
          "text": "Evaluates trust for the specified certificate and policies."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/security/1401743-sectrustcopycustomanchorcertific": {
      "title": "SecTrustCopyCustomAnchorCertificates",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1401743-sectrustcopycustomanchorcertific",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1401743-sectrustcopycustomanchorcertific"
    },
    "doc://com.apple.documentation/documentation/security/1542001-security_framework_result_codes": {
      "title": "Security Framework Result Codes",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1542001-security_framework_result_codes",
      "kind": "symbol",
      "role": "containerSymbol",
      "url": "/documentation/security/1542001-security_framework_result_codes"
    },
    "doc://com.apple.documentation/documentation/security/sectrustref": {
      "title": "SecTrustRef",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/sectrustref",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/sectrustref"
    },
    "doc://com.apple.documentation/documentation/corefoundation/cfdataref": {
      "title": "CFDataRef",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfdataref",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corefoundation/cfdataref"
    },
    "doc://com.apple.documentation/documentation/security/1400632-sectrustevaluateasync": {
      "title": "SecTrustEvaluateAsync",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1400632-sectrustevaluateasync",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1400632-sectrustevaluateasync",
      "abstract": [
        {
          "type": "text",
          "text": "Evaluates a trust object asynchronously on the specified dispatch queue."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/security/sectrustcallback": {
      "title": "SecTrustCallback",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/sectrustcallback",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/sectrustcallback",
      "abstract": [
        {
          "type": "text",
          "text": "A block called with the results of an asynchronous trust evaluation."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/security/sectrustusersetting": {
      "title": "SecTrustUserSetting",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/sectrustusersetting",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/sectrustusersetting",
      "abstract": [
        {
          "type": "text",
          "text": "Represents user-specified trust settings."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/security/certificate_key_and_trust_services/trust/1805395-sectrustsetusertrust": {
      "title": "SecTrustSetUserTrust",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/certificate_key_and_trust_services/trust/1805395-sectrustsetusertrust",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "url": "/documentation/security/certificate_key_and_trust_services/trust/1805395-sectrustsetusertrust",
      "abstract": [
        {
          "type": "text",
          "text": "Sets the user-specified trust settings of a certificate and policy. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/security/1524326-sectrustsetparameters": {
      "title": "SecTrustSetParameters",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1524326-sectrustsetparameters",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1524326-sectrustsetparameters",
      "abstract": [
        {
          "type": "text",
          "text": "Sets the action and action data for a trust management object. "
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/security/1395644-sectrustsetkeychains": {
      "title": "SecTrustSetKeychains",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1395644-sectrustsetkeychains",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1395644-sectrustsetkeychains",
      "abstract": [
        {
          "type": "text",
          "text": "Sets the keychains searched for intermediate certificates when evaluating a trust management object."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/security/certificate_key_and_trust_services/trust/1805368-sectrustgetcssmanchorcertificate": {
      "title": "SecTrustGetCSSMAnchorCertificates",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/certificate_key_and_trust_services/trust/1805368-sectrustgetcssmanchorcertificate",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "url": "/documentation/security/certificate_key_and_trust_services/trust/1805368-sectrustgetcssmanchorcertificate",
      "abstract": [
        {
          "type": "text",
          "text": "Retrieves the CSSM anchor certificates."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/security/1524311-sectrustgetcssmresult": {
      "title": "SecTrustGetCssmResult",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1524311-sectrustgetcssmresult",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1524311-sectrustgetcssmresult",
      "abstract": [
        {
          "type": "text",
          "text": "Retrieves the CSSM trust result."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/security/1524327-sectrustgetcssmresultcode": {
      "title": "SecTrustGetCssmResultCode",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1524327-sectrustgetcssmresultcode",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1524327-sectrustgetcssmresultcode",
      "abstract": [
        {
          "type": "text",
          "text": "Retrieves the CSSM result code from the most recent trust evaluation for a trust management object."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/security/certificate_key_and_trust_services/trust/1805379-sectrustgetusertrust": {
      "title": "SecTrustGetUserTrust",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/certificate_key_and_trust_services/trust/1805379-sectrustgetusertrust",
      "kind": "symbol",
      "role": "pseudoSymbol",
      "url": "/documentation/security/certificate_key_and_trust_services/trust/1805379-sectrustgetusertrust",
      "abstract": [
        {
          "type": "text",
          "text": "Retrieves the user-specified trust setting for a certificate and policy."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/security/1524309-sectrustgettphandle": {
      "title": "SecTrustGetTPHandle",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1524309-sectrustgettphandle",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1524309-sectrustgettphandle",
      "abstract": [
        {
          "type": "text",
          "text": "Retrieves the trust policy handle."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/security/1524331-sectrustgetresult": {
      "title": "SecTrustGetResult",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1524331-sectrustgetresult",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1524331-sectrustgetresult",
      "abstract": [
        {
          "type": "text",
          "text": "Retrieves details on the outcome of a call to the function "
        },
        {
          "type": "codeVoice",
          "code": "SecTrustEvaluate"
        },
        {
          "type": "text",
          "text": "."
        }
      ],
      "deprecated": true
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/security/1394363-sectrustevaluate",
        "doc://com.apple.documentation/documentation/security/1400632-sectrustevaluateasync",
        "doc://com.apple.documentation/documentation/security/sectrustcallback",
        "doc://com.apple.documentation/documentation/security/sectrustusersetting",
        "doc://com.apple.documentation/documentation/security/certificate_key_and_trust_services/trust/1805395-sectrustsetusertrust",
        "doc://com.apple.documentation/documentation/security/1395644-sectrustsetkeychains",
        "doc://com.apple.documentation/documentation/security/certificate_key_and_trust_services/trust/1805368-sectrustgetcssmanchorcertificate",
        "doc://com.apple.documentation/documentation/security/1524311-sectrustgetcssmresult",
        "doc://com.apple.documentation/documentation/security/1524327-sectrustgetcssmresultcode",
        "doc://com.apple.documentation/documentation/security/certificate_key_and_trust_services/trust/1805379-sectrustgetusertrust",
        "doc://com.apple.documentation/documentation/security/1524309-sectrustgettphandle",
        "doc://com.apple.documentation/documentation/security/1524331-sectrustgetresult"
      ],
      "title": "Legacy Symbols",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@OSStatus",
              "identifier": "symbol-1480124",
              "text": "OSStatus"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "SecTrustSetParameters"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@SecTrustRef",
              "identifier": "doc://com.apple.documentation/documentation/security/sectrustref",
              "text": "SecTrustRef"
            },
            {
              "kind": "text",
              "text": " trustRef, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CSSM_TP_ACTION",
              "text": "CSSM_TP_ACTION"
            },
            {
              "kind": "text",
              "text": " action, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CFDataRef",
              "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfdataref",
              "text": "CFDataRef"
            },
            {
              "kind": "text",
              "text": " actionData);"
            }
          ],
          "platforms": [
            "macOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "trustRef",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The trust management object to which you want to add an action or set action data. A trust management object includes one or more certificates plus the policy or policies to be used in evaluating trust. Use the "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/security/1401555-sectrustcreatewithcertificates"
                },
                {
                  "type": "text",
                  "text": " function to create a trust management object."
                }
              ]
            }
          ]
        },
        {
          "name": "action",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A CSSM trust action. Pass "
                },
                {
                  "type": "codeVoice",
                  "code": "CSSM_TP_ACTION_DEFAULT"
                },
                {
                  "type": "text",
                  "text": " for the default action. Other actions available, if any, are described in the documentation for the trust policy module. For the AppleX509TP module, see the "
                },
                {
                  "type": "link",
                  "title": "Apple Trust Policy Module Functional Specification",
                  "destination": "https://developer.apple.com/library/archive/documentation/Security/Reference/SecAppleTrustPolicyModuleSpec/Apple_Trust_Policy_Module_Functional_Specification.pdf"
                },
                {
                  "type": "text",
                  "text": "."
                }
              ]
            }
          ]
        },
        {
          "name": "actionData",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "A reference to action data. "
                },
                {
                  "type": "codeVoice",
                  "code": "CSSM_APPLE_TP_ACTION_FLAGS"
                },
                {
                  "type": "text",
                  "text": " lists possible values for this parameter for the AppleX509TP trust policy module’s default action. For other actions (if any), the possible values for the action data are specified in the "
                },
                {
                  "type": "link",
                  "title": "Apple Trust Policy Module Functional Specification",
                  "destination": "https://developer.apple.com/library/archive/documentation/Security/Reference/SecAppleTrustPolicyModuleSpec/Apple_Trust_Policy_Module_Functional_Specification.pdf"
                },
                {
                  "type": "text",
                  "text": "."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A result code. See "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/1542001-security_framework_result_codes"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Before you call "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/1394363-sectrustevaluate"
            },
            {
              "type": "text",
              "text": ", you can optionally use this function to set one or more action flags or to set action data. Actions, where available, affect the trust evaluation for all policies being evaluated. For example, if you set the action data for the default action to "
            },
            {
              "type": "codeVoice",
              "code": "CSSM_TP_ACTION_ALLOW_EXPIRED"
            },
            {
              "type": "text",
              "text": ", then the "
            },
            {
              "type": "codeVoice",
              "code": "SecTrustEvaluate"
            },
            {
              "type": "text",
              "text": " function ignores the certificate’s expiration date and time. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "It is safe to call this function concurrently on two or more threads as long as it is not used to change the value of a trust management object that is simultaneously being used by another function. For example, you cannot call this function on one thread at the same time as you are calling the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/1394363-sectrustevaluate"
            },
            {
              "type": "text",
              "text": " function for the same trust management object on another thread, but you can call this function and simultaneously evaluate a different trust management object on another thread. Similarly, calls to functions that return information about a trust management object (such as the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/1401743-sectrustcopycustomanchorcertific"
            },
            {
              "type": "text",
              "text": " function) may fail or return an unexpected result if this function is simultaneously changing the same trust management object on another thread."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}