{
  "abstract": [
    {
      "type": "text",
      "text": "Creates a code requirement object by compiling a valid text representation of a code requirement and returns detailed error information in the case of failure."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/security",
        "doc://com.apple.documentation/documentation/security/code_signing_services"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/security/1401166-secrequirementcreatewithstringan",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1401166,
  "kind": "symbol",
  "metadata": {
    "title": "SecRequirementCreateWithStringAndErrors",
    "role": "symbol",
    "roleHeading": "Function",
    "modules": [
      {
        "name": "Security"
      }
    ],
    "platforms": [
      {
        "name": "macOS",
        "introducedAt": "10.6",
        "current": "12.1"
      }
    ],
    "externalID": "c:@F@SecRequirementCreateWithStringAndErrors",
    "symbolKind": "func"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/security/1401166-secrequirementcreatewithstringan"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/security/1401166-secrequirementcreatewithstringan"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/security": {
      "title": "Security",
      "identifier": "doc://com.apple.documentation/documentation/security",
      "url": "/documentation/security",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/security/code_signing_services": {
      "title": "Code Signing Services",
      "identifier": "doc://com.apple.documentation/documentation/security/code_signing_services",
      "url": "/documentation/security/code_signing_services",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/security/1574088-code_signing_services_result_cod": {
      "title": "Code Signing Services Result Codes",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1574088-code_signing_services_result_cod",
      "kind": "symbol",
      "role": "containerSymbol",
      "url": "/documentation/security/1574088-code_signing_services_result_cod"
    },
    "doc://com.apple.documentation/documentation/security/seccsflags": {
      "title": "SecCSFlags",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/seccsflags",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/seccsflags"
    },
    "doc://com.apple.documentation/documentation/security/seccsflags/kseccsdefaultflags": {
      "title": "kSecCSDefaultFlags",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/seccsflags/kseccsdefaultflags",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/seccsflags/kseccsdefaultflags"
    },
    "doc://com.apple.documentation/documentation/corefoundation/1494648-cferrorcopyuserinfo": {
      "title": "CFErrorCopyUserInfo",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corefoundation/1494648-cferrorcopyuserinfo",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corefoundation/1494648-cferrorcopyuserinfo"
    },
    "doc://com.apple.documentation/documentation/security/code_signing_services/user_info_dictionary_error_keys": {
      "title": "User Info Dictionary Error Keys",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/code_signing_services/user_info_dictionary_error_keys",
      "kind": "article",
      "role": "collectionGroup",
      "url": "/documentation/security/code_signing_services/user_info_dictionary_error_keys"
    },
    "doc://com.apple.documentation/documentation/corefoundation/1521153-cfrelease": {
      "title": "CFRelease",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corefoundation/1521153-cfrelease",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corefoundation/1521153-cfrelease"
    },
    "doc://com.apple.documentation/documentation/security/1394522-secrequirementcreatewithstring": {
      "title": "SecRequirementCreateWithString",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1394522-secrequirementcreatewithstring",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1394522-secrequirementcreatewithstring",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a code requirement object by compiling a valid text representation of a code requirement."
        }
      ]
    },
    "devLink-1734079": {
      "identifier": "devLink-1734079",
      "type": "link",
      "title": "Code Signing Guide",
      "url": "https://developer.apple.com/library/archive/documentation/Security/Conceptual/CodeSigningGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40005929"
    },
    "doc://com.apple.documentation/documentation/security/1401166-secrequirementcreatewithstringan": {
      "title": "SecRequirementCreateWithStringAndErrors",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1401166-secrequirementcreatewithstringan",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1401166-secrequirementcreatewithstringan",
      "abstract": [
        {
          "type": "text",
          "text": "Creates a code requirement object by compiling a valid text representation of a code requirement and returns detailed error information in the case of failure."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/security/1394253-secrequirementcopystring": {
      "title": "SecRequirementCopyString",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/1394253-secrequirementcopystring",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/1394253-secrequirementcopystring",
      "abstract": [
        {
          "type": "text",
          "text": "Converts a code requirement object into text form."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/corefoundation/cfstringref": {
      "title": "CFStringRef",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfstringref",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corefoundation/cfstringref"
    },
    "doc://com.apple.documentation/documentation/corefoundation/cferrorref": {
      "title": "CFErrorRef",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/corefoundation/cferrorref",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/corefoundation/cferrorref"
    },
    "doc://com.apple.documentation/documentation/security/secrequirementref": {
      "title": "SecRequirementRef",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/security/secrequirementref",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/security/secrequirementref"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/security/1394253-secrequirementcopystring",
        "doc://com.apple.documentation/documentation/security/1394522-secrequirementcreatewithstring"
      ],
      "title": "Code Requirements as Text",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@OSStatus",
              "identifier": "symbol-1480124",
              "text": "OSStatus"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "SecRequirementCreateWithStringAndErrors"
            },
            {
              "kind": "text",
              "text": "("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CFStringRef",
              "identifier": "doc://com.apple.documentation/documentation/corefoundation/cfstringref",
              "text": "CFStringRef"
            },
            {
              "kind": "text",
              "text": " text, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@SecCSFlags",
              "identifier": "doc://com.apple.documentation/documentation/security/seccsflags",
              "text": "SecCSFlags"
            },
            {
              "kind": "text",
              "text": " flags, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@CFErrorRef",
              "identifier": "doc://com.apple.documentation/documentation/corefoundation/cferrorref",
              "text": "CFErrorRef"
            },
            {
              "kind": "text",
              "text": "  "
            },
            {
              "kind": "keyword",
              "text": "_Nullable"
            },
            {
              "kind": "text",
              "text": " *errors, "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@SecRequirementRef",
              "identifier": "doc://com.apple.documentation/documentation/security/secrequirementref",
              "text": "SecRequirementRef"
            },
            {
              "kind": "text",
              "text": "  "
            },
            {
              "kind": "keyword",
              "text": "_Nullable"
            },
            {
              "kind": "text",
              "text": " *requirement);"
            }
          ],
          "platforms": [
            "macOS"
          ]
        }
      ]
    },
    {
      "kind": "parameters",
      "languages": [
        "occ"
      ],
      "parameters": [
        {
          "name": "text",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The text form of a code requirement."
                }
              ]
            }
          ]
        },
        {
          "name": "flags",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "Optional flags; see "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/security/seccsflags"
                },
                {
                  "type": "text",
                  "text": " for possible values. Pass "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/security/seccsflags/kseccsdefaultflags"
                },
                {
                  "type": "text",
                  "text": " for standard behavior."
                }
              ]
            }
          ]
        },
        {
          "name": "errors",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "On return, if the function call fails and returns a result code other than "
                },
                {
                  "type": "codeVoice",
                  "code": "errSecSuccess"
                },
                {
                  "type": "text",
                  "text": ", points to an error object further describing the nature and circumstances of the failure. Use the "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/corefoundation/1494648-cferrorcopyuserinfo"
                },
                {
                  "type": "text",
                  "text": " function to retrieve the user info dictionary from the error object. See "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/security/code_signing_services/user_info_dictionary_error_keys"
                },
                {
                  "type": "text",
                  "text": " for possible values. Pass "
                },
                {
                  "type": "codeVoice",
                  "code": "NULL"
                },
                {
                  "type": "text",
                  "text": " if you do not want this information. Call the "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/corefoundation/1521153-cfrelease"
                },
                {
                  "type": "text",
                  "text": " function to release this object when you are finished with it."
                }
              ]
            }
          ]
        },
        {
          "name": "requirement",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "On return, contains a code requirement object that implements the conditions described in the text."
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "return_value",
          "level": 2,
          "text": "Return Value",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A result code. See "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/1574088-code_signing_services_result_cod"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The advantage of this function over "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/1394522-secrequirementcreatewithstring"
            },
            {
              "type": "text",
              "text": " is that if there are any errors in the text string you pass in the "
            },
            {
              "type": "codeVoice",
              "code": "text"
            },
            {
              "type": "text",
              "text": " parameter, this function returns the syntax errors generated by the parser. These errors are in plain English and can be displayed to a user if it would be useful to do so. Code requirements and the code signing requirement language are documented in "
            },
            {
              "type": "link",
              "title": "Code Signing Guide",
              "destination": "https://developer.apple.com/library/archive/documentation/Security/Conceptual/CodeSigningGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40005929"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If you use the "
            },
            {
              "type": "reference",
              "isActive": false,
              "identifier": "doc://com.apple.documentation/documentation/security/1401166-secrequirementcreatewithstringan"
            },
            {
              "type": "text",
              "text": " function to create a code requirement object from a text string and later use the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/1394253-secrequirementcopystring"
            },
            {
              "type": "text",
              "text": " function to convert the object back to a string, the reconstituted text may differ in formatting, contain different source comments, and perform its validation functions in different order from the original. However, it is guaranteed that that the reconstituted text is functionally identical to the original. That is, recompiling the text using "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/security/1394522-secrequirementcreatewithstring"
            },
            {
              "type": "text",
              "text": " will produce a code requirement object that behaves identically to the first one you created."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}