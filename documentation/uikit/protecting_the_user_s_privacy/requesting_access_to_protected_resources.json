{
  "abstract": [
    {
      "type": "text",
      "text": "Provide a purpose string that explains to the user why you need access to protected resources."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/uikit",
        "doc://com.apple.documentation/documentation/uikit/protecting_the_user_s_privacy"
      ],
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/appkit",
        "doc://com.apple.documentation/documentation/uikit/protecting_the_user_s_privacy"
      ],
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/bundleresources",
        "doc://com.apple.documentation/documentation/bundleresources/information_property_list",
        "doc://com.apple.documentation/documentation/bundleresources/information_property_list/protected_resources"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/uikit/protecting_the_user_s_privacy/requesting_access_to_protected_resources",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 3037191,
  "kind": "article",
  "metadata": {
    "title": "Requesting Access to Protected Resources",
    "role": "article",
    "roleHeading": "Article",
    "modules": [
      {
        "name": "Bundle Resources"
      }
    ]
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/uikit/protecting_the_user_s_privacy/requesting_access_to_protected_resources",
        "documentation/appkit/protecting_the_user_s_privacy/requesting_access_to_protected_resources",
        "documentation/bundleresources/information_property_list/protected_resources/requesting_access_to_protected_resources"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/uikit/protecting_the_user_s_privacy/requesting_access_to_protected_resources",
        "documentation/appkit/protecting_the_user_s_privacy/requesting_access_to_protected_resources",
        "documentation/bundleresources/information_property_list/protected_resources/requesting_access_to_protected_resources"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/uikit": {
      "title": "UIKit",
      "identifier": "doc://com.apple.documentation/documentation/uikit",
      "url": "/documentation/uikit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/uikit/protecting_the_user_s_privacy": {
      "title": "Protecting the User’s Privacy",
      "identifier": "doc://com.apple.documentation/documentation/uikit/protecting_the_user_s_privacy",
      "url": "/documentation/uikit/protecting_the_user_s_privacy",
      "type": "topic",
      "kind": "article",
      "role": "article"
    },
    "doc://com.apple.documentation/documentation/appkit": {
      "title": "AppKit",
      "identifier": "doc://com.apple.documentation/documentation/appkit",
      "url": "/documentation/appkit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/bundleresources": {
      "title": "Bundle Resources",
      "identifier": "doc://com.apple.documentation/documentation/bundleresources",
      "url": "/documentation/bundleresources",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/bundleresources/information_property_list": {
      "title": "Information Property List",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/bundleresources/information_property_list",
      "kind": "symbol",
      "role": "dictionarySymbol",
      "url": "/documentation/bundleresources/information_property_list"
    },
    "doc://com.apple.documentation/documentation/bundleresources/information_property_list/protected_resources": {
      "title": "Protected Resources",
      "identifier": "doc://com.apple.documentation/documentation/bundleresources/information_property_list/protected_resources",
      "url": "/documentation/bundleresources/information_property_list/protected_resources",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "link-media-3381047": {
      "identifier": "link-media-3381047",
      "type": "link",
      "title": "Figure 1",
      "url": "/documentation/uikit/protecting_the_user_s_privacy/requesting_access_to_protected_resources#3381047"
    },
    "media-3381047": {
      "identifier": "media-3381047",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x"
          ],
          "size": {
            "width": 280,
            "height": 264
          },
          "url": "https://docs-assets.developer.apple.com/published/e99fe3b391/3381047@2x.png"
        },
        {
          "traits": [
            "dark",
            "2x"
          ],
          "size": {
            "width": 280,
            "height": 264
          },
          "url": "https://docs-assets.developer.apple.com/published/df96e62eb3/3381047~dark@2x.png"
        }
      ],
      "alt": "Screenshot of a system-generated iOS alert view asking if the app \"MyRoute\" should be allowed to access location data, including a usage description message from the app’s developer.",
      "title": "Figure 1"
    },
    "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nslocationwheninuseusagedescription": {
      "title": "NSLocationWhenInUseUsageDescription",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nslocationwheninuseusagedescription",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/bundleresources/information_property_list/nslocationwheninuseusagedescription"
    },
    "link-media-3039514": {
      "identifier": "link-media-3039514",
      "type": "link",
      "title": "Figure 2",
      "url": "/documentation/uikit/protecting_the_user_s_privacy/requesting_access_to_protected_resources#3039514"
    },
    "media-3039514": {
      "identifier": "media-3039514",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x"
          ],
          "size": {
            "width": 680,
            "height": 114
          },
          "url": "https://docs-assets.developer.apple.com/published/9e79a4b9d5/8b3fdc75-cd42-4300-98ad-6096dfeca9ef.png"
        }
      ],
      "alt": "Screenshot of an app’s information property list highlighting the added NSLocationWhenInUseUsageDescription key and associated string value that matches the message seen in the previous figure.",
      "title": "Figure 2"
    },
    "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nscontactsusagedescription": {
      "title": "NSContactsUsageDescription",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nscontactsusagedescription",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/bundleresources/information_property_list/nscontactsusagedescription"
    },
    "doc://com.apple.documentation/documentation/uikit/protecting_the_user_s_privacy/requesting_access_to_protected_resources#3341333": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/protecting_the_user_s_privacy/requesting_access_to_protected_resources#3341333",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/protecting_the_user_s_privacy/requesting_access_to_protected_resources#3341333"
    },
    "doc://com.apple.documentation/documentation/uikit/protecting_the_user_s_privacy/requesting_access_to_protected_resources#3137998": {
      "title": "Listing 2",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/protecting_the_user_s_privacy/requesting_access_to_protected_resources#3137998",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/protecting_the_user_s_privacy/requesting_access_to_protected_resources#3137998"
    },
    "doc://com.apple.documentation/documentation/bundleresources/entitlements": {
      "title": "Entitlements",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/bundleresources/entitlements",
      "kind": "symbol",
      "role": "dictionarySymbol",
      "url": "/documentation/bundleresources/entitlements"
    },
    "doc://com.apple.documentation/documentation/uikit/protecting_the_user_s_privacy/requesting_access_to_protected_resources": {
      "title": "Requesting Access to Protected Resources",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/protecting_the_user_s_privacy/requesting_access_to_protected_resources",
      "kind": "article",
      "role": "article",
      "url": "/documentation/uikit/protecting_the_user_s_privacy/requesting_access_to_protected_resources",
      "abstract": [
        {
          "type": "text",
          "text": "Provide a purpose string that explains to the user why you need access to protected resources."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/protecting_the_user_s_privacy/encrypting_your_app_s_files": {
      "title": "Encrypting Your App’s Files",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/protecting_the_user_s_privacy/encrypting_your_app_s_files",
      "kind": "article",
      "role": "article",
      "url": "/documentation/uikit/protecting_the_user_s_privacy/encrypting_your_app_s_files",
      "abstract": [
        {
          "type": "text",
          "text": "Protect the user’s data in iOS by encrypting it on disk."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/uikit/protecting_the_user_s_privacy/encrypting_your_app_s_files"
      ],
      "title": "Supporting Privacy",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Modern devices collect and store a wealth of sensitive information about their users. Many apps rely on this kind of data and the device hardware that generates it to do useful work. For example, a navigation app needs the user’s current GPS coordinates to locate the user on a map. But not all apps need access to all data. The same navigation app doesn’t need the user’s health history, camera interface, or Bluetooth peripherals. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Your app should access only what it needs to do its job. To support this principle, Apple’s operating systems restrict access to protected data and resources by default. Apps can request access on a case-by-case basis, providing an explanation for why they need access. The user decides whether to grant or deny the request."
            }
          ]
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "In addition to asking the user for permission to access a resource, in some cases you also must separately declare your intent to do so by adding an entitlement to your app, as described in "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/bundleresources/entitlements"
                },
                {
                  "type": "text",
                  "text": "."
                }
              ]
            }
          ],
          "style": "tip"
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Provide a Purpose String",
          "anchor": "3037322"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The first time your app attempts to access a protected resource, the system prompts the user for permission. In the following example, an iOS app called MyRoute that provides directions generates a prompt requesting access to the user’s location:"
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "image",
              "identifier": "media-3381047",
              "metadata": {
                "anchor": "3381047",
                "title": "Figure 1"
              }
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If the user grants permission, the system remembers the user’s choice and doesn’t prompt again. If the user denies permission, the access attempt that initiated the prompt and any further attempts fail in a resource-specific way. And for the particular case of access to location data, the user can choose to allow access for only one session by tapping Allow Once."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The system automatically generates the prompt’s title, which includes the name of your app"
            },
            {
              "type": "emphasis",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "."
                }
              ]
            },
            {
              "type": "text",
              "text": " You supply a message called a "
            },
            {
              "type": "emphasis",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "purpose string"
                }
              ]
            },
            {
              "type": "text",
              "text": " or a"
            },
            {
              "type": "emphasis",
              "inlineContent": [
                {
                  "type": "text",
                  "text": " usage description—"
                }
              ]
            },
            {
              "type": "text",
              "text": "in this case, “Your location is used to provide turn-by-turn directions to your destination”"
            },
            {
              "type": "emphasis",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "—"
                }
              ]
            },
            {
              "type": "text",
              "text": "to indicate the reason that your app needs the access"
            },
            {
              "type": "emphasis",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "."
                }
              ]
            },
            {
              "type": "text",
              "text": " Accurately and concisely explaining to the user why your app needs access to sensitive data, typically in one complete sentence, lets the user make an informed decision and improves the chances that they’ll grant access."
            }
          ]
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "If you’re using external libraries or SDKs, they may reference APIs that require a purpose string. While your app might not use these APIs, a purpose string is still required for App Review. You can contact the developer of the library or SDK and request information about which protected resources the developer uses and their purpose, or request that the developer release a version of their code that doesn’t contain the APIs. You are responsible for all access of protected resources, including external SDK and library access."
                }
              ]
            }
          ],
          "style": "note",
          "name": "Note"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You provide a usage description by setting a string value for a resource-specific key that you add to your app’s "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/bundleresources/information_property_list"
            },
            {
              "type": "text",
              "text": " file. The message shown above, for example, is a string associated with the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nslocationwheninuseusagedescription"
            },
            {
              "type": "text",
              "text": " key. Modify your "
            },
            {
              "type": "codeVoice",
              "code": "Info.plist"
            },
            {
              "type": "text",
              "text": " file using the property list editor built into Xcode:"
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "image",
              "identifier": "media-3039514",
              "metadata": {
                "anchor": "3039514",
                "title": "Figure 2"
              }
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": []
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "Always provide a usage string if your app uses a protected resource. If you don’t, attempts to access the resource fail, and might even cause your app to crash."
                }
              ]
            }
          ],
          "style": "important"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "App Review checks for the use of protected resources, and rejects apps that contain code accessing those resources without a purpose string. For example, an app accessing contacts might receive the following information from App Review about the requirement that an "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nscontactsusagedescription"
            },
            {
              "type": "text",
              "text": " key be present:"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "ITMS-90683: Missing Purpose String in Info.plist - Your app’s code references",
            "one or more APIs that access sensitive user data. The app’s Info.plist file",
            "should contain a NSContactsUsageDescription key with a user-facing purpose",
            "string explaining clearly and completely why your app needs the data."
          ],
          "syntax": "other",
          "metadata": {
            "anchor": "3341333",
            "title": "Listing 1"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To resolve this issue, provide a purpose string that explains why the app needs access to this sensitive information, or remove the code that’s accessing the resource."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Check for Authorization",
          "anchor": "3037319"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Many system frameworks that provide access to protected resources have dedicated APIs for checking and requesting authorization to use those resources. This allows you to adjust your app’s behavior depending on the current access it has. For example, if the user denies your app permission to do something, you can remove related elements from your user interface."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Because a user can change authorization at any time using Settings, always check the authorization status of a feature before accessing it. In cases without a dedicated API, be prepared to gracefully handle access failures."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Reset Authorization Access",
          "anchor": "3137869"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When your app attempts to access a protected resource after its first attempt, the system remembers the user’s permission choice and doesn’t prompt again. To prompt the user again, you must reset access to these resources on your device or system."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To reset permission access to a protected resource in iOS apps, tap Settings > General > Reset > Reset Location & Privacy on your device. "
            }
          ]
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "Using Reset Location & Privacy resets location and privacy settings for all services on your device."
                }
              ]
            }
          ],
          "style": "important"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To reset permissions for a particular service in macOS apps, run the "
            },
            {
              "type": "codeVoice",
              "code": "tccutil reset <service name>"
            },
            {
              "type": "text",
              "text": " command in Terminal. For example, to reset all permissions for AppleEvents, type:"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "$ tccutil reset AppleEvents"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3137998",
            "title": "Listing 2"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This command resets authorization access for all apps using the protected resource. You can similarly specify AddressBook, Calendar, Reminders, or other services to reset them individually."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}