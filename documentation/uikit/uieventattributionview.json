{
  "abstract": [
    {
      "type": "text",
      "text": "An overlay view that verifies user interaction for Private Click Measurement."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/uikit",
        "doc://com.apple.documentation/documentation/uikit/views_and_controls"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/uikit/uieventattributionview",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 3727318,
  "kind": "symbol",
  "metadata": {
    "title": "UIEventAttributionView",
    "role": "symbol",
    "roleHeading": "Class",
    "modules": [
      {
        "name": "UIKit"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "14.5",
        "current": "15.2"
      },
      {
        "name": "iPadOS",
        "introducedAt": "14.5",
        "current": "15.2"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "14.5",
        "current": "15.2"
      }
    ],
    "externalID": "c:objc(cs)UIEventAttributionView",
    "symbolKind": "cl"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/uikit/uieventattributionview"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/uikit/uieventattributionview"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/uikit": {
      "title": "UIKit",
      "identifier": "doc://com.apple.documentation/documentation/uikit",
      "url": "/documentation/uikit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/uikit/views_and_controls": {
      "title": "Views and Controls",
      "identifier": "doc://com.apple.documentation/documentation/uikit/views_and_controls",
      "url": "/documentation/uikit/views_and_controls",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/uikit/uieventattributionview": {
      "title": "UIEventAttributionView",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uieventattributionview",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uieventattributionview",
      "abstract": [
        {
          "type": "text",
          "text": "An overlay view that verifies user interaction for Private Click Measurement."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uieventattributionview#3732458": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uieventattributionview#3732458",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/uieventattributionview#3732458"
    },
    "doc://com.apple.documentation/documentation/uikit/uieventattribution": {
      "title": "UIEventAttribution",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uieventattribution",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uieventattribution",
      "abstract": [
        {
          "type": "text",
          "text": "An object that contains event attribution information for Private Click Measurement."
        }
      ]
    },
    "link-3733010": {
      "title": "Introducing Private Click Measurement",
      "type": "topic",
      "identifier": "link-3733010",
      "kind": "article",
      "role": "link",
      "url": "https://webkit.org/blog/11529/introducing-private-click-measurement-pcm/"
    },
    "link-3733014": {
      "title": "Private Click Measurement Draft Community Group Report",
      "type": "topic",
      "identifier": "link-3733014",
      "kind": "article",
      "role": "link",
      "url": "https://privacycg.github.io/private-click-measurement/"
    },
    "doc://com.apple.documentation/documentation/uikit/uiview": {
      "title": "UIView",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiview",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiview"
    },
    "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nsadvertisingattributionreportendpoint": {
      "title": "NSAdvertisingAttributionReportEndpoint",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nsadvertisingattributionreportendpoint",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/bundleresources/information_property_list/nsadvertisingattributionreportendpoint",
      "abstract": [
        {
          "type": "text",
          "text": "The URL where Private Click Measurement and SKAdNetwork send attribution information."
        }
      ],
      "titleStyle": "symbol",
      "name": "NSAdvertisingAttributionReportEndpoint",
      "fragments": [
        {
          "kind": "label",
          "text": "property list key "
        },
        {
          "kind": "identifier",
          "text": "NSAdvertisingAttributionReportEndpoint"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "relationshipsSections": [
    {
      "kind": "relationships",
      "title": "Inherits From",
      "type": "inheritsFrom",
      "identifiers": [
        "doc://com.apple.documentation/documentation/uikit/uiview"
      ]
    }
  ],
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/uikit/uieventattribution",
        "doc://com.apple.documentation/documentation/bundleresources/information_property_list/nsadvertisingattributionreportendpoint"
      ],
      "title": "Private Click Measurement (PCM)",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "@interface"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "UIEventAttributionView"
            },
            {
              "kind": "text",
              "text": " : "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)UIView",
              "identifier": "doc://com.apple.documentation/documentation/uikit/uiview",
              "text": "UIView"
            }
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "Mac Catalyst"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Private Click Measurement (PCM) is a proposed web standard that allows external websites to measure when external links, such as ads, result in a "
            },
            {
              "type": "emphasis",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "conversion"
                }
              ]
            },
            {
              "type": "text",
              "text": ". The exernal website decides what constitutes a conversion, but it’s often the result of the user making a purchase or signing up for a service. PCM doesnʼt send any user-identifiable information to the remote server, so it protects user privacy, while providing websites the ability to measure the effectiveness of their ad campaigns."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Apps running on iOS 14.5 or later can take advantage of PCM by sending event attribution data to the browser when opening an external link. If the linked website reports a conversion within 7 days, the browser forwards your appʼs PCM data to a specified remote server sometime between 24 and 48 hours after the reported conversion."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You can’t subclass "
            },
            {
              "type": "codeVoice",
              "code": "UIEventAttributionView"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For more information on the proposed PCM web standard, see "
            },
            {
              "type": "link",
              "title": "Introducing Private Click Measurement",
              "destination": "https://webkit.org/blog/11529/introducing-private-click-measurement-pcm/"
            },
            {
              "type": "text",
              "text": " and "
            },
            {
              "type": "link",
              "title": "Private Click Measurement Draft Community Group Report",
              "destination": "https://privacycg.github.io/private-click-measurement/"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Verify User Interaction",
          "anchor": "3732462"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Event attribution views overlay other UIKit controls to ensure that opening an external link with PCM data only happens as the result of a user tap. The system doesn’t send event attribution data to the browser unless a "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uieventattributionview"
            },
            {
              "type": "text",
              "text": " exists above the tapped control."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Create an Event Attribution View",
          "anchor": "3732460"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Place an event attribution view above any view that launches external links with event attribution data and make sure there are no other overlapping views above the event attribution view that might intercept taps. "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uieventattributionview"
            },
            {
              "type": "text",
              "text": " doesn’t consume tap events, so the behavior of any control below one in the view hierarchy isn’t affected. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "If multiple views or controls in your app can launch an external link using PCM, use a separate "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uieventattributionview"
            },
            {
              "type": "text",
              "text": " to overlay each control. While you can use a single "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uieventattributionview"
            },
            {
              "type": "text",
              "text": " to validate more than one control, attribution views that cover large portions of the screen may impact performance because the system must validate all user interactions that pass through the attribution view."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Here’s how to add an event attribution view to an in-app advertisement:"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "// Create an event attribution view.",
            "UIEventAttributionView *eventAttributionView = [[UIEventAttributionView alloc] init];",
            "",
            "// Place it over the ad view.",
            "eventAttributionView.translatesAutoresizingMaskIntoConstraints = NO;",
            "[adView addSubview:eventAttributionView];",
            "[NSLayoutConstraint activateConstraints: @[",
            "    [adView.topAnchor constraintEqualToAnchor:eventAttributionView.topAnchor],",
            "    [adView.leadingAnchor constraintEqualToAnchor:eventAttributionView.leadingAnchor],",
            "    [adView.trailingAnchor constraintEqualToAnchor:eventAttributionView.trailingAnchor],",
            "    [adView.bottomAnchor constraintEqualToAnchor:eventAttributionView.bottomAnchor]",
            "]];"
          ],
          "syntax": "occ",
          "metadata": {
            "anchor": "3732458",
            "title": "Listing 1"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For more information on sending PCM event attribution data to the browser when opening an external link, see "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uieventattribution"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "PCM isn’t supported in Mac apps built with Mac Catalyst."
                }
              ]
            }
          ],
          "style": "note",
          "name": "Note"
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}