{
  "abstract": [
    {
      "type": "text",
      "text": "Detect and respond to double taps a user makes on Apple Pencil."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/uikit",
        "doc://com.apple.documentation/documentation/uikit/pencil_interactions"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/uikit/pencil_interactions/handling_double_taps_from_apple_pencil",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 3068839,
  "kind": "article",
  "metadata": {
    "title": "Handling Double Taps from Apple Pencil",
    "role": "article",
    "roleHeading": "Article",
    "modules": [
      {
        "name": "UIKit"
      }
    ]
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/uikit/pencil_interactions/handling_double_taps_from_apple_pencil"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/uikit/pencil_interactions/handling_double_taps_from_apple_pencil"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/uikit": {
      "title": "UIKit",
      "identifier": "doc://com.apple.documentation/documentation/uikit",
      "url": "/documentation/uikit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/uikit/pencil_interactions": {
      "title": "Pencil Interactions",
      "identifier": "doc://com.apple.documentation/documentation/uikit/pencil_interactions",
      "url": "/documentation/uikit/pencil_interactions",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/uikit/uipencilinteraction": {
      "title": "UIPencilInteraction",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uipencilinteraction",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uipencilinteraction"
    },
    "doc://com.apple.documentation/documentation/uikit/uipencilinteraction/3039591-delegate": {
      "title": "delegate",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uipencilinteraction/3039591-delegate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uipencilinteraction/3039591-delegate"
    },
    "doc://com.apple.documentation/documentation/uikit/uipencilinteractiondelegate": {
      "title": "UIPencilInteractionDelegate",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uipencilinteractiondelegate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uipencilinteractiondelegate"
    },
    "doc://com.apple.documentation/documentation/uikit/pencil_interactions/handling_double_taps_from_apple_pencil#3068842": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/pencil_interactions/handling_double_taps_from_apple_pencil#3068842",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/pencil_interactions/handling_double_taps_from_apple_pencil#3068842",
      "abstract": [
        {
          "type": "text",
          "text": "Adding a Pencil interaction to a view"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uipencilinteractiondelegate/3039595-pencilinteractiondidtap": {
      "title": "pencilInteractionDidTap:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uipencilinteractiondelegate/3039595-pencilinteractiondidtap",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uipencilinteractiondelegate/3039595-pencilinteractiondidtap",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "pencilInteractionDidTap:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uipencilinteraction/3039593-preferredtapaction": {
      "title": "preferredTapAction",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uipencilinteraction/3039593-preferredtapaction",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uipencilinteraction/3039593-preferredtapaction"
    },
    "doc://com.apple.documentation/documentation/uikit/pencil_interactions/handling_double_taps_from_apple_pencil#3068843": {
      "title": "Listing 2",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/pencil_interactions/handling_double_taps_from_apple_pencil#3068843",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/pencil_interactions/handling_double_taps_from_apple_pencil#3068843",
      "abstract": [
        {
          "type": "text",
          "text": "Switching drawing tools after double-tapping an Apple Pencil"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/leveraging_touch_input_for_drawing_apps": {
      "title": "Leveraging Touch Input for Drawing Apps",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/leveraging_touch_input_for_drawing_apps",
      "kind": "article",
      "role": "sampleCode",
      "url": "/documentation/uikit/touches_presses_and_gestures/leveraging_touch_input_for_drawing_apps",
      "abstract": [
        {
          "type": "text",
          "text": "Capture touches as a series of strokes and render them efficiently on a drawing canvas."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/pencil_interactions/handling_double_taps_from_apple_pencil": {
      "title": "Handling Double Taps from Apple Pencil",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/pencil_interactions/handling_double_taps_from_apple_pencil",
      "kind": "article",
      "role": "article",
      "url": "/documentation/uikit/pencil_interactions/handling_double_taps_from_apple_pencil",
      "abstract": [
        {
          "type": "text",
          "text": "Detect and respond to double taps a user makes on Apple Pencil."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/pencil_interactions/handling_input_from_apple_pencil": {
      "title": "Handling Input from Apple Pencil",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/pencil_interactions/handling_input_from_apple_pencil",
      "kind": "article",
      "role": "article",
      "url": "/documentation/uikit/pencil_interactions/handling_input_from_apple_pencil",
      "abstract": [
        {
          "type": "text",
          "text": "Learn how to detect and respond to touches from Apple Pencil."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/uikit/pencil_interactions/handling_input_from_apple_pencil"
      ],
      "title": "First Steps",
      "generated": true
    },
    {
      "title": "Related Documentation",
      "generated": false,
      "identifiers": [
        "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/leveraging_touch_input_for_drawing_apps"
      ]
    }
  ],
  "primaryContentSections": [
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You can use Pencil interactions to allow users to access functionality in your app quickly. Double-tapping the Apple Pencil lets the user perform actions such as switching between drawing tools without moving the Pencil to another location on the screen."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Add a Pencil Interaction ",
          "anchor": "3068841"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To handle double taps from Apple Pencil in your app, create a "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uipencilinteraction"
            },
            {
              "type": "text",
              "text": " object and set its "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uipencilinteraction/3039591-delegate"
            },
            {
              "type": "text",
              "text": " to an object that implements the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uipencilinteractiondelegate"
            },
            {
              "type": "text",
              "text": " protocol. Finally, add the interaction to your app’s view, as in "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/pencil_interactions/handling_double_taps_from_apple_pencil#3068842"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "let pencilInteraction = UIPencilInteraction()",
            "pencilInteraction.delegate = self",
            "view.addInteraction(pencilInteraction)"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3068842",
            "title": "Listing 1",
            "abstract": [
              {
                "type": "text",
                "text": "Adding a Pencil interaction to a view"
              }
            ]
          }
        },
        {
          "type": "paragraph",
          "inlineContent": []
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Handle the Double Tap",
          "anchor": "3068840"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The delegate receives the double tap event when the user double-taps their Pencil. It implements the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uipencilinteractiondelegate/3039595-pencilinteractiondidtap"
            },
            {
              "type": "text",
              "text": " method, which the system calls after the user double-taps the Apple Pencil. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "In your implementation of this method, decide whether to perform the action selected by the user in the Settings app, or perform an alternative behavior that’s suitable for your app. When possible, perform the user’s preferred action. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Taking this step allows you to provide a consistent user experience across apps that support Pencil interactions. To check the user’s preferred action, use the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uipencilinteraction/3039593-preferredtapaction"
            },
            {
              "type": "text",
              "text": " class property on "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uipencilinteraction"
            },
            {
              "type": "text",
              "text": ", as in "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/pencil_interactions/handling_double_taps_from_apple_pencil#3068843"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "func pencilInteractionDidTap(_ interaction: UIPencilInteraction) {",
            "    if UIPencilInteraction.preferredTapAction == .switchPrevious {",
            "        leftRingControl.switchToPreviousTool()",
            "    }",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3068843",
            "title": "Listing 2",
            "abstract": [
              {
                "type": "text",
                "text": "Switching drawing tools after double-tapping an Apple Pencil"
              }
            ]
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Should you decide not to support the preferred action, provide an intuitive way to let the user know what will happen when they double-tap the Pencil, and give them the option to disable this action. "
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}