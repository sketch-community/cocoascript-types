{
  "abstract": [
    {
      "type": "text",
      "text": "A closure that creates and returns each of the layout's sections."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/uikit",
        "doc://com.apple.documentation/documentation/uikit/views_and_controls",
        "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views",
        "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views/layouts"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/uikit/uicollectionviewcompositionallayoutsectionprovider",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 3199223,
  "kind": "symbol",
  "metadata": {
    "title": "UICollectionViewCompositionalLayoutSectionProvider",
    "role": "symbol",
    "roleHeading": "Type Alias",
    "modules": [
      {
        "name": "UIKit"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "13.0",
        "current": "14.3"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "14.3"
      },
      {
        "name": "tvOS",
        "introducedAt": "13.0",
        "current": "14.3"
      }
    ],
    "externalID": "c:@T@UICollectionViewCompositionalLayoutSectionProvider",
    "symbolKind": "tdef"
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/uikit/uicollectionviewcompositionallayoutsectionprovider"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/uikit/uicollectionviewcompositionallayoutsectionprovider"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/uikit": {
      "title": "UIKit",
      "identifier": "doc://com.apple.documentation/documentation/uikit",
      "url": "/documentation/uikit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/uikit/views_and_controls": {
      "title": "Views and Controls",
      "identifier": "doc://com.apple.documentation/documentation/uikit/views_and_controls",
      "url": "/documentation/uikit/views_and_controls",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views": {
      "title": "Collection Views",
      "identifier": "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views",
      "url": "/documentation/uikit/views_and_controls/collection_views",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views/layouts": {
      "title": "Layouts",
      "identifier": "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views/layouts",
      "url": "/documentation/uikit/views_and_controls/collection_views/layouts",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/uikit/uicollectionviewcompositionallayout": {
      "title": "UICollectionViewCompositionalLayout",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewcompositionallayout",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uicollectionviewcompositionallayout"
    },
    "doc://com.apple.documentation/documentation/uikit/uicollectionviewcompositionallayoutsectionprovider#3543307": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewcompositionallayoutsectionprovider#3543307",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/uicollectionviewcompositionallayoutsectionprovider#3543307"
    },
    "doc://com.apple.documentation/documentation/uikit/nscollectionlayoutenvironment": {
      "title": "NSCollectionLayoutEnvironment",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/nscollectionlayoutenvironment",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/nscollectionlayoutenvironment",
      "abstract": [
        {
          "type": "text",
          "text": "A protocol used to provide information about the layout's container and environment traits, such as size classes and display scale factor."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uicollectionviewcompositionallayoutsectionprovider#3543720": {
      "title": "Listing 2",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewcompositionallayoutsectionprovider#3543720",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/uicollectionviewcompositionallayoutsectionprovider#3543720"
    },
    "doc://com.apple.documentation/documentation/uikit/nscollectionlayoutsection": {
      "title": "NSCollectionLayoutSection",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/nscollectionlayoutsection",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/nscollectionlayoutsection"
    },
    "doc://com.apple.documentation/documentation/objectivec/nsinteger": {
      "title": "NSInteger",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/objectivec/nsinteger",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/objectivec/nsinteger"
    },
    "doc://com.apple.documentation/documentation/uikit/uicollectionviewcompositionallayoutconfiguration": {
      "title": "UICollectionViewCompositionalLayoutConfiguration",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewcompositionallayoutconfiguration",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uicollectionviewcompositionallayoutconfiguration",
      "abstract": [
        {
          "type": "text",
          "text": "An object that defines scroll direction, section spacing, and headers or footers for the layout."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uicollectionviewcompositionallayoutsectionprovider": {
      "title": "UICollectionViewCompositionalLayoutSectionProvider",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewcompositionallayoutsectionprovider",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uicollectionviewcompositionallayoutsectionprovider",
      "abstract": [
        {
          "type": "text",
          "text": "A closure that creates and returns each of the layout's sections."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/uikit/uicollectionviewcompositionallayoutconfiguration",
        "doc://com.apple.documentation/documentation/uikit/nscollectionlayoutenvironment"
      ],
      "title": "Configuration",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "typedef"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(cs)NSCollectionLayoutSection",
              "identifier": "doc://com.apple.documentation/documentation/uikit/nscollectionlayoutsection",
              "text": "NSCollectionLayoutSection"
            },
            {
              "kind": "text",
              "text": " * "
            },
            {
              "kind": "keyword",
              "text": "_Nullable"
            },
            {
              "kind": "text",
              "text": " (^"
            },
            {
              "kind": "identifier",
              "text": "UICollectionViewCompositionalLayoutSectionProvider"
            },
            {
              "kind": "text",
              "text": ")("
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:@T@NSInteger",
              "identifier": "doc://com.apple.documentation/documentation/objectivec/nsinteger",
              "text": "NSInteger"
            },
            {
              "kind": "text",
              "text": " section, "
            },
            {
              "kind": "keyword",
              "text": "id"
            },
            {
              "kind": "text",
              "text": "<"
            },
            {
              "kind": "typeIdentifier",
              "preciseIdentifier": "c:objc(pl)NSCollectionLayoutEnvironment",
              "identifier": "doc://com.apple.documentation/documentation/uikit/nscollectionlayoutenvironment",
              "text": "NSCollectionLayoutEnvironment"
            },
            {
              "kind": "text",
              "text": ">);"
            }
          ],
          "platforms": [
            "iOS",
            "Mac Catalyst",
            "tvOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "discussion",
          "level": 2,
          "text": "Discussion",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You use a section provider to create a compositional layout ("
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewcompositionallayout"
            },
            {
              "type": "text",
              "text": ") that has multiple sections with different layouts. The section provider keeps track of the index of the section that it's currently creating, so you can configure each section differently."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For example, the following code shows a section provider that creates a two-column layout in the first section, and a four-column layout in each section after the first section."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "func createPerSectionLayout() -> UICollectionViewLayout {",
            "    let layout = UICollectionViewCompositionalLayout { (sectionIndex: Int,",
            "        layoutEnvironment: NSCollectionLayoutEnvironment) -> NSCollectionLayoutSection? in",
            "        ",
            "        let columns = sectionIndex == 0 ? 2 : 4",
            "        ",
            "        let itemSize = NSCollectionLayoutSize(widthDimension: .fractionalWidth(1.0),",
            "                                             heightDimension: .fractionalHeight(1.0))",
            "        let item = NSCollectionLayoutItem(layoutSize: itemSize)",
            "        ",
            "        let groupSize = NSCollectionLayoutSize(widthDimension: .fractionalWidth(1.0),",
            "                                              heightDimension: .absolute(44))",
            "        let group = NSCollectionLayoutGroup.horizontal(layoutSize: groupSize,",
            "                                                          subitem: item,",
            "                                                            count: columns)",
            "        ",
            "        let section = NSCollectionLayoutSection(group: group)",
            "        return section",
            "    }",
            "    return layout",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3543307",
            "title": "Listing 1"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "A section provider is also invoked in response to system events such as changes in device orientation, system font size, and size classes from iPad multitasking. You can use this opportunity to adapt the layout to different layout environments by inspecting information about the current layout environment ("
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/nscollectionlayoutenvironment"
            },
            {
              "type": "text",
              "text": ") and using that information to configure each section. "
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For example, the following code shows a section provider that creates a two-column layout when the width of the section's container is less than 800 points, and a four-column layout otherwise."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "func createAdaptiveLayout() -> UICollectionViewLayout {",
            "    let layout = UICollectionViewCompositionalLayout { (sectionIndex: Int,",
            "        layoutEnvironment: NSCollectionLayoutEnvironment) -> NSCollectionLayoutSection in",
            "",
            "        let columns = layoutEnvironment.container.effectiveContentSize.width < 800 ? 2 : 4",
            "        ",
            "        let itemSize = NSCollectionLayoutSize(widthDimension: .fractionalWidth(1.0),",
            "                                             heightDimension: .fractionalHeight(1.0))",
            "        let item = NSCollectionLayoutItem(layoutSize: itemSize)",
            "        ",
            "        let groupSize = NSCollectionLayoutSize(widthDimension: .fractionalWidth(1.0),",
            "                                              heightDimension: .absolute(44))",
            "        let group = NSCollectionLayoutGroup.horizontal(layoutSize: groupSize,",
            "                                                          subitem: item,",
            "                                                            count: columns)",
            "        ",
            "        let section = NSCollectionLayoutSection(group: group)",
            "        return section",
            "    }",
            "    return layout",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3543720",
            "title": "Listing 2"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": []
        },
        {
          "type": "paragraph",
          "inlineContent": []
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}