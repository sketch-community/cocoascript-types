{
  "abstract": [
    {
      "type": "text",
      "text": "A protocol used to provide information about the layout's container and environment traits, such as size classes and display scale factor."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/uikit",
        "doc://com.apple.documentation/documentation/uikit/views_and_controls",
        "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views",
        "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views/layouts"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/uikit/nscollectionlayoutenvironment",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 3199072,
  "kind": "symbol",
  "metadata": {
    "title": "NSCollectionLayoutEnvironment",
    "role": "symbol",
    "roleHeading": "Protocol",
    "modules": [
      {
        "name": "UIKit"
      },
      {
        "name": "AppKit"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "13.0",
        "current": "15.2"
      },
      {
        "name": "iPadOS",
        "introducedAt": "13.0",
        "current": "15.2"
      },
      {
        "name": "macOS",
        "introducedAt": "10.15",
        "current": "12.1"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "15.2"
      },
      {
        "name": "tvOS",
        "introducedAt": "13.0",
        "current": "15.2"
      }
    ],
    "externalID": "c:objc(pl)NSCollectionLayoutEnvironment",
    "symbolKind": "intf"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/uikit/nscollectionlayoutenvironment",
        "documentation/appkit/nscollectionlayoutenvironment"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/uikit/nscollectionlayoutenvironment",
        "documentation/appkit/nscollectionlayoutenvironment"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/uikit": {
      "title": "UIKit",
      "identifier": "doc://com.apple.documentation/documentation/uikit",
      "url": "/documentation/uikit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/uikit/views_and_controls": {
      "title": "Views and Controls",
      "identifier": "doc://com.apple.documentation/documentation/uikit/views_and_controls",
      "url": "/documentation/uikit/views_and_controls",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views": {
      "title": "Collection Views",
      "identifier": "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views",
      "url": "/documentation/uikit/views_and_controls/collection_views",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views/layouts": {
      "title": "Layouts",
      "identifier": "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views/layouts",
      "url": "/documentation/uikit/views_and_controls/collection_views/layouts",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/uikit/nscollectionlayoutenvironment#3546240": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/nscollectionlayoutenvironment#3546240",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/nscollectionlayoutenvironment#3546240"
    },
    "doc://com.apple.documentation/documentation/objectivec/1418956-nsobject": {
      "title": "NSObject",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/objectivec/1418956-nsobject",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/objectivec/1418956-nsobject"
    },
    "doc://com.apple.documentation/documentation/uikit/nscollectionlayoutenvironment/3199073-container": {
      "title": "container",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/nscollectionlayoutenvironment/3199073-container",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/nscollectionlayoutenvironment/3199073-container",
      "required": true,
      "abstract": [
        {
          "type": "text",
          "text": "Information about the layout's container, such as its size and content insets."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/nscollectionlayoutenvironment/3199074-traitcollection": {
      "title": "traitCollection",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/nscollectionlayoutenvironment/3199074-traitcollection",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/nscollectionlayoutenvironment/3199074-traitcollection",
      "required": true,
      "abstract": [
        {
          "type": "text",
          "text": "The traits that describe the current environment of the layout, such as the size classes and display scale factor."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uicollectionviewcompositionallayoutconfiguration": {
      "title": "UICollectionViewCompositionalLayoutConfiguration",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewcompositionallayoutconfiguration",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uicollectionviewcompositionallayoutconfiguration",
      "abstract": [
        {
          "type": "text",
          "text": "An object that defines scroll direction, section spacing, and headers or footers for the layout."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uicollectionviewcompositionallayoutsectionprovider": {
      "title": "UICollectionViewCompositionalLayoutSectionProvider",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewcompositionallayoutsectionprovider",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uicollectionviewcompositionallayoutsectionprovider",
      "abstract": [
        {
          "type": "text",
          "text": "A closure that creates and returns each of the layout's sections."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/nscollectionlayoutenvironment": {
      "title": "NSCollectionLayoutEnvironment",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/nscollectionlayoutenvironment",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/nscollectionlayoutenvironment",
      "abstract": [
        {
          "type": "text",
          "text": "A protocol used to provide information about the layout's container and environment traits, such as size classes and display scale factor."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "relationshipsSections": [
    {
      "kind": "relationships",
      "title": "Inherits From",
      "type": "inheritsFrom",
      "identifiers": [
        "doc://com.apple.documentation/documentation/objectivec/1418956-nsobject"
      ]
    }
  ],
  "topicSections": [
    {
      "kind": "taskGroup",
      "title": "Getting the Layout's Container",
      "identifiers": [
        "doc://com.apple.documentation/documentation/uikit/nscollectionlayoutenvironment/3199073-container"
      ],
      "anchor": "3546238"
    },
    {
      "kind": "taskGroup",
      "title": "Getting the Trait Collection",
      "identifiers": [
        "doc://com.apple.documentation/documentation/uikit/nscollectionlayoutenvironment/3199074-traitcollection"
      ],
      "anchor": "3546239"
    }
  ],
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/uikit/uicollectionviewcompositionallayoutconfiguration",
        "doc://com.apple.documentation/documentation/uikit/uicollectionviewcompositionallayoutsectionprovider"
      ],
      "title": "Configuration",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "@protocol"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "NSCollectionLayoutEnvironment"
            }
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "macOS",
            "Mac Catalyst",
            "tvOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "In a section provider, you use the layout environment to get information about the context that the layout appears in. You can get information about the layout's container, such as its size and content insets, and the traits of its environment, such as such as size classes, display scale factor, and user interface idiom. You use this information while rendering the layout's sections to help you make decisions about how to display the layout."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For example, the following code uses the layout environment's trait collection to check whether the UI is in Dark Mode while creating the layout's sections. "
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "let layout = UICollectionViewCompositionalLayout { (sectionIndex: Int,",
            "    layoutEnvironment: NSCollectionLayoutEnvironment) -> NSCollectionLayoutSection in",
            "        ",
            "    if layoutEnvironment.traitCollection.userInterfaceStyle == .dark {",
            "        return sectionForUserInterfaceStyle(.dark)",
            "    } else {",
            "        return sectionForUserInterfaceStyle(.light)",
            "    }",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3546240",
            "title": "Listing 1"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": []
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}