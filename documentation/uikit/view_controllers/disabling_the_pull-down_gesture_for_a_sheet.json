{
  "abstract": [
    {
      "type": "text",
      "text": "Ensure a positive user experience when presenting a view controller as a sheet."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/uikit",
        "doc://com.apple.documentation/documentation/uikit/view_controllers"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/uikit/view_controllers/disabling_the_pull-down_gesture_for_a_sheet",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 3234661,
  "kind": "article",
  "metadata": {
    "title": "Disabling the Pull-Down Gesture for a Sheet",
    "role": "sampleCode",
    "roleHeading": "Sample Code",
    "modules": [
      {
        "name": "UIKit"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "13.0",
        "current": "15.2"
      },
      {
        "name": "iPadOS",
        "introducedAt": "13.0",
        "current": "15.2"
      },
      {
        "name": "Xcode",
        "introducedAt": "12.3",
        "current": "13.2"
      }
    ]
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/uikit/view_controllers/disabling_the_pull-down_gesture_for_a_sheet"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/uikit/view_controllers/disabling_the_pull-down_gesture_for_a_sheet"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/uikit": {
      "title": "UIKit",
      "identifier": "doc://com.apple.documentation/documentation/uikit",
      "url": "/documentation/uikit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/uikit/view_controllers": {
      "title": "View Controllers",
      "identifier": "doc://com.apple.documentation/documentation/uikit/view_controllers",
      "url": "/documentation/uikit/view_controllers",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/uikit/uiviewcontroller/3229894-modalinpresentation": {
      "title": "modalInPresentation",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiviewcontroller/3229894-modalinpresentation",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiviewcontroller/3229894-modalinpresentation"
    },
    "doc://com.apple.documentation/documentation/uikit/view_controllers/disabling_the_pull-down_gesture_for_a_sheet#3734439": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/view_controllers/disabling_the_pull-down_gesture_for_a_sheet#3734439",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/view_controllers/disabling_the_pull-down_gesture_for_a_sheet#3734439"
    },
    "doc://com.apple.documentation/documentation/uikit/uiadaptivepresentationcontrollerdelegate/3229890-presentationcontrollershoulddism": {
      "title": "presentationControllerShouldDismiss:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiadaptivepresentationcontrollerdelegate/3229890-presentationcontrollershoulddism",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiadaptivepresentationcontrollerdelegate/3229890-presentationcontrollershoulddism",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "presentationControllerShouldDismiss:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/view_controllers/disabling_the_pull-down_gesture_for_a_sheet#3734441": {
      "title": "Listing 2",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/view_controllers/disabling_the_pull-down_gesture_for_a_sheet#3734441",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/view_controllers/disabling_the_pull-down_gesture_for_a_sheet#3734441"
    },
    "doc://com.apple.documentation/documentation/uikit/uiadaptivepresentationcontrollerdelegate/3229888-presentationcontrollerdidattempt": {
      "title": "presentationControllerDidAttemptToDismiss:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiadaptivepresentationcontrollerdelegate/3229888-presentationcontrollerdidattempt",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiadaptivepresentationcontrollerdelegate/3229888-presentationcontrollerdidattempt",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "presentationControllerDidAttemptToDismiss:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uialertcontroller": {
      "title": "UIAlertController",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uialertcontroller",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uialertcontroller"
    },
    "doc://com.apple.documentation/documentation/uikit/view_controllers/disabling_the_pull-down_gesture_for_a_sheet#3734442": {
      "title": "Listing 3",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/view_controllers/disabling_the_pull-down_gesture_for_a_sheet#3734442",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/view_controllers/disabling_the_pull-down_gesture_for_a_sheet#3734442"
    },
    "doc://com.apple.documentation/documentation/uikit/view_controllers/disabling_the_pull-down_gesture_for_a_sheet": {
      "title": "Disabling the Pull-Down Gesture for a Sheet",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/view_controllers/disabling_the_pull-down_gesture_for_a_sheet",
      "kind": "article",
      "role": "sampleCode",
      "url": "/documentation/uikit/view_controllers/disabling_the_pull-down_gesture_for_a_sheet",
      "abstract": [
        {
          "type": "text",
          "text": "Ensure a positive user experience when presenting a view controller as a sheet."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uipresentationcontroller": {
      "title": "UIPresentationController",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uipresentationcontroller",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uipresentationcontroller",
      "abstract": [
        {
          "type": "text",
          "text": "An object that manages the transition animations and the presentation of view controllers onscreen.   "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uisheetpresentationcontroller": {
      "title": "UISheetPresentationController",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uisheetpresentationcontroller",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uisheetpresentationcontroller",
      "abstract": [
        {
          "type": "text",
          "text": "A presentation controller that manages the appearance and behavior of a sheet."
        }
      ]
    },
    "https://docs-assets.developer.apple.com/published/75749cf453/DisablingThePullDownGestureForASheet.zip": {
      "type": "download",
      "identifier": "https://docs-assets.developer.apple.com/published/75749cf453/DisablingThePullDownGestureForASheet.zip",
      "checksum": "d452b834a867220e3258f0c69c3b4bf9eaf07f3d7e98dbc76767756e6c875017152b6767abfaf0e4c8ae4e57ebfdc4d89aaa24054c79af4092df25946387999a",
      "url": "https://docs-assets.developer.apple.com/published/75749cf453/DisablingThePullDownGestureForASheet.zip"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "sampleCodeDownload": {
    "action": {
      "overridingTitle": "Download",
      "type": "reference",
      "isActive": true,
      "identifier": "https://docs-assets.developer.apple.com/published/75749cf453/DisablingThePullDownGestureForASheet.zip"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/uikit/uipresentationcontroller",
        "doc://com.apple.documentation/documentation/uikit/uisheetpresentationcontroller"
      ],
      "title": "Presentation Management",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "By default, a user can use a pull-down gesture to dismiss a view controller that presents as a sheet. UIKit allows you to disable the pull-down gesture in situations where using it might cause the user to lose data or recent changes. It’s also possible to explain why the user is unable to dismiss the view controller presentation by presenting an instance of "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uialertcontroller"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Disable the Ability to Dismiss a Presentation",
          "anchor": "3734445"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To disable dismissal of a view controller presentation, set "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uiviewcontroller/3229894-modalinpresentation"
            },
            {
              "type": "text",
              "text": " to "
            },
            {
              "type": "codeVoice",
              "code": "true"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "// If there are unsaved changes, enable the Save button and disable the ability to",
            "// dismiss using the pull-down gesture.",
            "saveButton.isEnabled = hasChanges",
            "isModalInPresentation = hasChanges"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3734439",
            "title": "Listing 1"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "It’s also possible to return "
            },
            {
              "type": "codeVoice",
              "code": "false"
            },
            {
              "type": "text",
              "text": " from the presentation delegate’s "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uiadaptivepresentationcontrollerdelegate/3229890-presentationcontrollershoulddism"
            },
            {
              "type": "text",
              "text": " method. However, the system doesn’t call this method if "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uiviewcontroller/3229894-modalinpresentation"
            },
            {
              "type": "text",
              "text": " is "
            },
            {
              "type": "codeVoice",
              "code": "true"
            },
            {
              "type": "text",
              "text": " or when dismissing the presentation programmatically."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Explain Why the User Can’t Dismiss a Presentation",
          "anchor": "3734446"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To perform an action when the user attempts to dismiss a presentation that has a disabled dismissal, set the presentation’s delegate as the code below shows:"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "// Set the editViewController to be the delegate of the presentationController for this presentation.",
            "// editViewController can then respond to attempted dismissals.",
            "navigationController.presentationController?.delegate = editViewController"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3734441",
            "title": "Listing 2"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "After setting the delegate, implement "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uiadaptivepresentationcontrollerdelegate/3229888-presentationcontrollerdidattempt"
            },
            {
              "type": "text",
              "text": " and perform the action. The example below shows the presentation of an instance of "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uialertcontroller"
            },
            {
              "type": "text",
              "text": ":"
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "func presentationControllerDidAttemptToDismiss(_ presentationController: UIPresentationController) {",
            "    // The system calls this delegate method whenever the user attempts to pull",
            "    // down to dismiss and `isModalInPresentation` is false.",
            "    // Clarify the user's intent by asking whether they want to cancel or save.",
            "    confirmCancel(showingSave: true)",
            "}",
            "",
            "// MARK: - Cancellation Confirmation",
            "",
            "func confirmCancel(showingSave: Bool) {",
            "    // Present a UIAlertController as an action sheet to have the user confirm losing any",
            "    // recent changes.",
            "    let alert = UIAlertController(title: nil, message: nil, preferredStyle: .actionSheet)",
            "    ",
            "    // Only ask if the user wants to save if they attempt to pull to dismiss, not if they tap Cancel.",
            "    if showingSave {",
            "        alert.addAction(UIAlertAction(title: \"Save\", style: .default) { _ in",
            "            self.delegate?.editViewControllerDidFinish(self)",
            "        })",
            "    }",
            "    ",
            "    alert.addAction(UIAlertAction(title: \"Discard Changes\", style: .destructive) { _ in",
            "        self.delegate?.editViewControllerDidCancel(self)",
            "    })",
            "    ",
            "    alert.addAction(UIAlertAction(title: \"Cancel\", style: .cancel, handler: nil))",
            "    ",
            "    // If presenting the alert controller as a popover, point the popover at the Cancel button.",
            "    alert.popoverPresentationController?.barButtonItem = cancelButton",
            "    ",
            "    present(alert, animated: true, completion: nil)",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3734442",
            "title": "Listing 3"
          }
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}