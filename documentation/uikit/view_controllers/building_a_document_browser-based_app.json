{
  "abstract": [
    {
      "type": "text",
      "text": "Use a document browser to provide access to the user’s text files."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/uikit",
        "doc://com.apple.documentation/documentation/uikit/view_controllers"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/uikit/view_controllers/building_a_document_browser-based_app",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 2891399,
  "kind": "article",
  "metadata": {
    "title": "Building a Document Browser-Based App",
    "role": "sampleCode",
    "roleHeading": "Sample Code",
    "modules": [
      {
        "name": "UIKit"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "13.0",
        "current": "14.3"
      },
      {
        "name": "Xcode",
        "introducedAt": "11.0",
        "current": "12.3"
      }
    ]
  },
  "schemaVersion": {
    "major": 1,
    "minor": 0,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/uikit/view_controllers/building_a_document_browser-based_app"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/uikit/view_controllers/building_a_document_browser-based_app"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/uikit": {
      "title": "UIKit",
      "identifier": "doc://com.apple.documentation/documentation/uikit",
      "url": "/documentation/uikit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/uikit/view_controllers": {
      "title": "View Controllers",
      "identifier": "doc://com.apple.documentation/documentation/uikit/view_controllers",
      "url": "/documentation/uikit/view_controllers",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/uikit/uiwindow/1621581-rootviewcontroller": {
      "title": "rootViewController",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiwindow/1621581-rootviewcontroller",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiwindow/1621581-rootviewcontroller"
    },
    "doc://com.apple.documentation/documentation/uikit/view_controllers/adding_a_document_browser_to_your_app/setting_up_a_document_browser_app": {
      "title": "Setting Up a Document Browser App",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/view_controllers/adding_a_document_browser_to_your_app/setting_up_a_document_browser_app",
      "kind": "article",
      "role": "article",
      "url": "/documentation/uikit/view_controllers/adding_a_document_browser_to_your_app/setting_up_a_document_browser_app"
    },
    "doc://com.apple.documentation/documentation/uikit/view_controllers/building_a_document_browser-based_app#3503578": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/view_controllers/building_a_document_browser-based_app#3503578",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/view_controllers/building_a_document_browser-based_app#3503578"
    },
    "doc://com.apple.documentation/documentation/uikit/view_controllers/adding_a_document_browser_to_your_app/customizing_the_browser": {
      "title": "Customizing the Browser",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/view_controllers/adding_a_document_browser_to_your_app/customizing_the_browser",
      "kind": "article",
      "role": "article",
      "url": "/documentation/uikit/view_controllers/adding_a_document_browser_to_your_app/customizing_the_browser"
    },
    "doc://com.apple.documentation/documentation/uikit/uidocumentbrowserviewcontrollerdelegate/2874199-documentbrowser": {
      "title": "documentBrowser:didRequestDocumentCreationWithHandler:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uidocumentbrowserviewcontrollerdelegate/2874199-documentbrowser",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uidocumentbrowserviewcontrollerdelegate/2874199-documentbrowser",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "documentBrowser:didRequestDocumentCreationWithHandler:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/view_controllers/building_a_document_browser-based_app#3503580": {
      "title": "Listing 2",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/view_controllers/building_a_document_browser-based_app#3503580",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/view_controllers/building_a_document_browser-based_app#3503580"
    },
    "doc://com.apple.documentation/documentation/uikit/uidocumentbrowserviewcontrollerdelegate/2874196-documentbrowser": {
      "title": "documentBrowser:didImportDocumentAtURL:toDestinationURL:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uidocumentbrowserviewcontrollerdelegate/2874196-documentbrowser",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uidocumentbrowserviewcontrollerdelegate/2874196-documentbrowser",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "documentBrowser:didImportDocumentAtURL:toDestinationURL:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uidocumentbrowserviewcontrollerdelegate/2874187-documentbrowser": {
      "title": "documentBrowser:didPickDocumentURLs:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uidocumentbrowserviewcontrollerdelegate/2874187-documentbrowser",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uidocumentbrowserviewcontrollerdelegate/2874187-documentbrowser",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "documentBrowser:didPickDocumentURLs:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uiapplicationdelegate/1623112-application": {
      "title": "application:openURL:options:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiapplicationdelegate/1623112-application",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiapplicationdelegate/1623112-application",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "application:openURL:options:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uidocumentbrowserviewcontroller/2915849-revealdocumentaturl": {
      "title": "revealDocumentAtURL:importIfNeeded:completion:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uidocumentbrowserviewcontroller/2915849-revealdocumentaturl",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uidocumentbrowserviewcontroller/2915849-revealdocumentaturl",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "revealDocumentAtURL:importIfNeeded:completion:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uiviewcontroller/1621380-presentviewcontroller": {
      "title": "presentViewController:animated:completion:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiviewcontroller/1621380-presentviewcontroller",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiviewcontroller/1621380-presentviewcontroller",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "presentViewController:animated:completion:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uidocumentbrowserviewcontroller/2874177-transitioncontrollerfordocumentu": {
      "title": "transitionControllerForDocumentURL:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uidocumentbrowserviewcontroller/2874177-transitioncontrollerfordocumentu",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uidocumentbrowserviewcontroller/2874177-transitioncontrollerfordocumentu",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "transitionControllerForDocumentURL:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/view_controllers/building_a_document_browser-based_app#3503583": {
      "title": "Listing 3",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/view_controllers/building_a_document_browser-based_app#3503583",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/view_controllers/building_a_document_browser-based_app#3503583"
    },
    "doc://com.apple.documentation/documentation/foundation/nsprogress": {
      "title": "NSProgress",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsprogress",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsprogress"
    },
    "doc://com.apple.documentation/documentation/uikit/view_controllers/building_a_document_browser-based_app#3503584": {
      "title": "Listing 4",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/view_controllers/building_a_document_browser-based_app#3503584",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/view_controllers/building_a_document_browser-based_app#3503584"
    },
    "doc://com.apple.documentation/documentation/uikit/view_controllers/adding_a_document_browser_to_your_app": {
      "title": "Adding a Document Browser to Your App",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/view_controllers/adding_a_document_browser_to_your_app",
      "kind": "article",
      "role": "article",
      "url": "/documentation/uikit/view_controllers/adding_a_document_browser_to_your_app",
      "abstract": [
        {
          "type": "text",
          "text": "Give users access to their local or remote documents from within your app.  "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/view_controllers/providing_access_to_directories": {
      "title": "Providing Access to Directories",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/view_controllers/providing_access_to_directories",
      "kind": "article",
      "role": "article",
      "url": "/documentation/uikit/view_controllers/providing_access_to_directories",
      "abstract": [
        {
          "type": "text",
          "text": "Use a document picker to access the content of a directory outside your app’s container."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/view_controllers/building_a_document_browser-based_app": {
      "title": "Building a Document Browser-Based App",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/view_controllers/building_a_document_browser-based_app",
      "kind": "article",
      "role": "sampleCode",
      "url": "/documentation/uikit/view_controllers/building_a_document_browser-based_app",
      "abstract": [
        {
          "type": "text",
          "text": "Use a document browser to provide access to the user’s text files."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/view_controllers/building_a_document_browser_app_for_custom_file_formats": {
      "title": "Building a Document Browser App for Custom File Formats",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/view_controllers/building_a_document_browser_app_for_custom_file_formats",
      "kind": "article",
      "role": "sampleCode",
      "url": "/documentation/uikit/view_controllers/building_a_document_browser_app_for_custom_file_formats",
      "abstract": [
        {
          "type": "text",
          "text": "Implement a custom document file format to manage user interactions with files on different cloud storage providers."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uidocumentbrowserviewcontroller": {
      "title": "UIDocumentBrowserViewController",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uidocumentbrowserviewcontroller",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uidocumentbrowserviewcontroller",
      "abstract": [
        {
          "type": "text",
          "text": "A view controller for browsing and performing actions on documents stored locally and in the cloud."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uidocumentpickerviewcontroller": {
      "title": "UIDocumentPickerViewController",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uidocumentpickerviewcontroller",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uidocumentpickerviewcontroller",
      "abstract": [
        {
          "type": "text",
          "text": "A view controller that provides access to documents or destinations outside your app’s sandbox."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uidocumentinteractioncontroller": {
      "title": "UIDocumentInteractionController",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uidocumentinteractioncontroller",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uidocumentinteractioncontroller",
      "abstract": [
        {
          "type": "text",
          "text": "A view controller that previews, opens, or prints files whose file format cannot be handled directly by your app. "
        }
      ]
    },
    "https://docs-assets.developer.apple.com/published/b411156858/BuildingADocumentBrowserBasedApp.zip": {
      "type": "download",
      "identifier": "https://docs-assets.developer.apple.com/published/b411156858/BuildingADocumentBrowserBasedApp.zip",
      "checksum": "a0cc912273df5592c3b0234a884c78fb41886b5bb065f40ab61ceea684eb98daac1993da6507464f2d7af162136157d258024885df4eeaf281a7d8ad25789cbe",
      "url": "https://docs-assets.developer.apple.com/published/b411156858/BuildingADocumentBrowserBasedApp.zip"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "sampleCodeDownload": {
    "action": {
      "overridingTitle": "Download",
      "type": "reference",
      "isActive": true,
      "identifier": "https://docs-assets.developer.apple.com/published/b411156858/BuildingADocumentBrowserBasedApp.zip"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/uikit/view_controllers/adding_a_document_browser_to_your_app",
        "doc://com.apple.documentation/documentation/uikit/view_controllers/providing_access_to_directories",
        "doc://com.apple.documentation/documentation/uikit/view_controllers/building_a_document_browser_app_for_custom_file_formats",
        "doc://com.apple.documentation/documentation/uikit/uidocumentbrowserviewcontroller",
        "doc://com.apple.documentation/documentation/uikit/uidocumentpickerviewcontroller",
        "doc://com.apple.documentation/documentation/uikit/uidocumentinteractioncontroller"
      ],
      "title": "Documents and Directories",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The Document Browser sample code uses a "
            },
            {
              "type": "codeVoice",
              "code": "UIDocumentBrowserViewController"
            },
            {
              "type": "text",
              "text": " as the app’s root view controller. The browser defines the structure of the app, and the app displays the browser view when it launches. Users can then use the browser to:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Browse all the text files on the user’s device, in their iCloud drive, or in any supported third-party file providers."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Create new text files."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Open text files."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When the user opens a file, the app transitions to an editor view. There, the user can edit and save the text file. When they are done editing, the app returns to the browser, letting the user open or create another file."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This sample code project demonstrates all the required steps to set up the document browser, to work with the user’s files, and to enable system animations. The following sections describe these steps in more detail."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Setting Up the Document Browser",
          "anchor": "3503587"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The Document Browser app performs the following setup and configuration steps:"
            }
          ]
        },
        {
          "type": "orderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Assigns a "
                    },
                    {
                      "type": "codeVoice",
                      "code": "UIDocumentBrowserViewController"
                    },
                    {
                      "type": "text",
                      "text": " subclass as the window’s "
                    },
                    {
                      "type": "codeVoice",
                      "code": "rootViewController"
                    },
                    {
                      "type": "text",
                      "text": "."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Specifies the supported document types."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Customizes the document browser’s behavior."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Document browser-based apps must assign a "
            },
            {
              "type": "codeVoice",
              "code": "UIDocumentBrowserViewController"
            },
            {
              "type": "text",
              "text": " instance as the app’s "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uiwindow/1621581-rootviewcontroller"
            },
            {
              "type": "text",
              "text": ", ensuring that the browser remains in memory throughout the app’s lifetime."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The sample code defines a "
            },
            {
              "type": "codeVoice",
              "code": "UIDocumentBrowserViewController"
            },
            {
              "type": "text",
              "text": " subclass named  "
            },
            {
              "type": "codeVoice",
              "code": "DocumentBrowserViewController"
            },
            {
              "type": "text",
              "text": ". It then marks the subclass as the app’s initial view controller in the "
            },
            {
              "type": "codeVoice",
              "code": "Main.storyboard"
            },
            {
              "type": "text",
              "text": " storyboard, and  displays the browser view when launched."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "All document browser-based apps must also declare the document types that they can open. The sample code app declares support for text files in the project editor’s Info pane. For more information on setting the document type, see "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/view_controllers/adding_a_document_browser_to_your_app/setting_up_a_document_browser_app"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Finally, the sample code configures the document browser in the "
            },
            {
              "type": "codeVoice",
              "code": "DocumentBrowserViewController"
            },
            {
              "type": "text",
              "text": " class’s "
            },
            {
              "type": "codeVoice",
              "code": "viewDidLoad()"
            },
            {
              "type": "text",
              "text": " method. Specifically, it enables document creation, and disables multiple document selection. This lets users create new documents from the browser, while also preventing them from opening more than one document at a time."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "allowsDocumentCreation = true",
            "allowsPickingMultipleItems = false"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3503578",
            "title": "Listing 1"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For more information on configuring a document browser, see "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/view_controllers/adding_a_document_browser_to_your_app/customizing_the_browser"
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Creating New Documents",
          "anchor": "3503588"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "When the user creates a new document, the system calls the document browser delegate’s "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uidocumentbrowserviewcontrollerdelegate/2874199-documentbrowser"
            },
            {
              "type": "text",
              "text": " method."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "// Create a new document.",
            "func documentBrowser(_ controller: UIDocumentBrowserViewController,",
            "                     didRequestDocumentCreationWithHandler importHandler: @escaping (URL?, UIDocumentBrowserViewController.ImportMode) -> Void) {",
            "    ",
            "    os_log(\"==> Creating A New Document.\", log: .default, type: .debug)",
            "    ",
            "    let doc = TextDocument()",
            "    let url = doc.fileURL",
            "    ",
            "    // Create a new document in a temporary location.",
            "    doc.save(to: url, for: .forCreating) { (saveSuccess) in",
            "        ",
            "        // Make sure the document saved successfully.",
            "        guard saveSuccess else {",
            "            os_log(\"*** Unable to create a new document. ***\", log: .default, type: .error)",
            "            ",
            "            // Cancel document creation.",
            "            importHandler(nil, .none)",
            "            return",
            "        }",
            "        ",
            "        // Close the document.",
            "        doc.close(completionHandler: { (closeSuccess) in",
            "            ",
            "            // Make sure the document closed successfully.",
            "            guard closeSuccess else {",
            "                os_log(\"*** Unable to create a new document. ***\", log: .default, type: .error)",
            "                ",
            "                // Cancel document creation.",
            "                importHandler(nil, .none)",
            "                return",
            "            }",
            "            ",
            "            // Pass the document's temporary URL to the import handler.",
            "            importHandler(url, .move)",
            "        })",
            "    }",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3503580",
            "title": "Listing 2"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "In this method, the app creates, saves, and then closes a new text document. If successful, the app passes the URL to the method’s import handler, requesting that the system move the document to its final location. Otherwise, it passes "
            },
            {
              "type": "codeVoice",
              "code": "nil"
            },
            {
              "type": "text",
              "text": " to the import handler, canceling document creation."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Opening and Importing Documents.",
          "anchor": "3503589"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Users can open documents in multiple ways. The sample code handles the following situations:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "If the app imports a document (including successfully creating a new document), the system calls the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/uikit/uidocumentbrowserviewcontrollerdelegate/2874196-documentbrowser"
                    },
                    {
                      "type": "text",
                      "text": " method."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "If the user selects a document from the browser, the system calls the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/uikit/uidocumentbrowserviewcontrollerdelegate/2874187-documentbrowser"
                    },
                    {
                      "type": "text",
                      "text": " method."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "If the user shares a document with the app, or drags a document into the app, the system calls the app delegate’s  "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/uikit/uiapplicationdelegate/1623112-application"
                    },
                    {
                      "type": "text",
                      "text": " method."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "In the first two cases, the app calls the custom "
            },
            {
              "type": "codeVoice",
              "code": "presentDocuments(at:)"
            },
            {
              "type": "text",
              "text": " method. In the third case, the app calls the browser’s "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uidocumentbrowserviewcontroller/2915849-revealdocumentaturl"
            },
            {
              "type": "text",
              "text": " method to import the document (if needed). It then calls the "
            },
            {
              "type": "codeVoice",
              "code": "presentDocuments(at:)"
            },
            {
              "type": "text",
              "text": " method."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The "
            },
            {
              "type": "codeVoice",
              "code": "presentDocuments(at:)"
            },
            {
              "type": "text",
              "text": " method instantiates a "
            },
            {
              "type": "codeVoice",
              "code": "TextDocumentViewController"
            },
            {
              "type": "text",
              "text": ", sets up the document’s animation, opens the document, and then presents the view controller by calling the browser’s "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uiviewcontroller/1621380-presentviewcontroller"
            },
            {
              "type": "text",
              "text": " method."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Enabling Animations",
          "anchor": "3503590"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The document browser provides two built-in animations: one for loading a file, another for transitioning to and from the document view."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To enable either of the system-provided document browser animations, first you need to request a transition controller for the document by calling the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uidocumentbrowserviewcontroller/2874177-transitioncontrollerfordocumentu"
            },
            {
              "type": "text",
              "text": " method."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "transitionController = transitionController(forDocumentAt: documentURL)"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3503583",
            "title": "Listing 3"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To enable the loading animation, assign a "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsprogress"
            },
            {
              "type": "text",
              "text": " object to the transition controller when you begin to load the document."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "// Set up the loading animation.",
            "transitionController!.loadingProgress = doc.loadProgress"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3503584",
            "title": "Listing 4"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Increment the progress as the document loads, making sure to mark it as complete as soon as loading finishes. To simulate slow, incremental loading in the sample code project, uncomment the "
            },
            {
              "type": "codeVoice",
              "code": "TextDocument"
            },
            {
              "type": "text",
              "text": " class’s "
            },
            {
              "type": "codeVoice",
              "code": "read(from:)"
            },
            {
              "type": "text",
              "text": " method."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2020 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}