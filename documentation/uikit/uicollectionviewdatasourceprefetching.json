{
  "abstract": [
    {
      "type": "text",
      "text": "A protocol that provides advance warning of the data requirements for a collection view, allowing the triggering of asynchronous data load operations."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/uikit",
        "doc://com.apple.documentation/documentation/uikit/views_and_controls",
        "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views"
      ],
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/uikit",
        "doc://com.apple.documentation/documentation/uikit/views_and_controls",
        "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views",
        "doc://com.apple.documentation/documentation/uikit/uicollectionview"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasourceprefetching",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 1771770,
  "kind": "symbol",
  "metadata": {
    "title": "UICollectionViewDataSourcePrefetching",
    "role": "symbol",
    "roleHeading": "Protocol",
    "modules": [
      {
        "name": "UIKit"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "10.0",
        "current": "15.2"
      },
      {
        "name": "iPadOS",
        "introducedAt": "10.0",
        "current": "15.2"
      },
      {
        "name": "Mac Catalyst",
        "introducedAt": "13.0",
        "current": "15.2"
      },
      {
        "name": "tvOS",
        "introducedAt": "10.0",
        "current": "15.2"
      }
    ],
    "externalID": "c:objc(pl)UICollectionViewDataSourcePrefetching",
    "symbolKind": "intf"
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/uikit/uicollectionviewdatasourceprefetching"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/uikit/uicollectionviewdatasourceprefetching"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/uikit": {
      "title": "UIKit",
      "identifier": "doc://com.apple.documentation/documentation/uikit",
      "url": "/documentation/uikit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/uikit/views_and_controls": {
      "title": "Views and Controls",
      "identifier": "doc://com.apple.documentation/documentation/uikit/views_and_controls",
      "url": "/documentation/uikit/views_and_controls",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views": {
      "title": "Collection Views",
      "identifier": "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views",
      "url": "/documentation/uikit/views_and_controls/collection_views",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/uikit/uicollectionview": {
      "title": "UICollectionView",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionview",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uicollectionview"
    },
    "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasourceprefetching/1771767-collectionview": {
      "title": "collectionView:prefetchItemsAtIndexPaths:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasourceprefetching/1771767-collectionview",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uicollectionviewdatasourceprefetching/1771767-collectionview",
      "required": true,
      "abstract": [
        {
          "type": "text",
          "text": "Tells your prefetch data source object to begin preparing data for the cells at the supplied index paths."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "collectionView:prefetchItemsAtIndexPaths:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasource/1618029-collectionview": {
      "title": "collectionView:cellForItemAtIndexPath:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasource/1618029-collectionview",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uicollectionviewdatasource/1618029-collectionview",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "collectionView:cellForItemAtIndexPath:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/foundation/nsoperation": {
      "title": "NSOperation",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/foundation/nsoperation",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/foundation/nsoperation"
    },
    "devLink-1737073": {
      "identifier": "devLink-1737073",
      "type": "link",
      "title": "Concurrency Programming Guide",
      "url": "https://developer.apple.com/library/archive/documentation/General/Conceptual/ConcurrencyProgrammingGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40008091"
    },
    "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasourceprefetching": {
      "title": "UICollectionViewDataSourcePrefetching",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasourceprefetching",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uicollectionviewdatasourceprefetching",
      "abstract": [
        {
          "type": "text",
          "text": "A protocol that provides advance warning of the data requirements for a collection view, allowing the triggering of asynchronous data load operations."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uicollectionview/1771768-prefetchdatasource": {
      "title": "prefetchDataSource",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionview/1771768-prefetchdatasource",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uicollectionview/1771768-prefetchdatasource"
    },
    "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasourceprefetching/1771769-collectionview": {
      "title": "collectionView:cancelPrefetchingForItemsAtIndexPaths:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasourceprefetching/1771769-collectionview",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uicollectionviewdatasourceprefetching/1771769-collectionview",
      "required": false,
      "abstract": [
        {
          "type": "text",
          "text": "Cancels a previously triggered data prefetch request."
        }
      ],
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "collectionView:cancelPrefetchingForItemsAtIndexPaths:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasourceprefetching#2759981": {
      "title": "Loading Data Asynchronously",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasourceprefetching#2759981",
      "kind": "article",
      "role": "subsection",
      "url": "/documentation/uikit/uicollectionviewdatasourceprefetching#2759981"
    },
    "doc://com.apple.documentation/documentation/objectivec/1418956-nsobject": {
      "title": "NSObject",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/objectivec/1418956-nsobject",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/objectivec/1418956-nsobject"
    },
    "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasourceprefetching/prefetching_collection_view_data": {
      "title": "Prefetching Collection View Data",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasourceprefetching/prefetching_collection_view_data",
      "kind": "article",
      "role": "sampleCode",
      "url": "/documentation/uikit/uicollectionviewdatasourceprefetching/prefetching_collection_view_data",
      "abstract": [
        {
          "type": "text",
          "text": "Load data for collection view cells before they are displayed."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views/updating_collection_views_using_diffable_data_sources": {
      "title": "Updating Collection Views Using Diffable Data Sources",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views/updating_collection_views_using_diffable_data_sources",
      "kind": "article",
      "role": "sampleCode",
      "url": "/documentation/uikit/views_and_controls/collection_views/updating_collection_views_using_diffable_data_sources",
      "abstract": [
        {
          "type": "text",
          "text": "Streamline the display and update of data in a collection view using a diffable data source that contains identifiers."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views/implementing_modern_collection_views": {
      "title": "Implementing Modern Collection Views",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views/implementing_modern_collection_views",
      "kind": "article",
      "role": "sampleCode",
      "url": "/documentation/uikit/views_and_controls/collection_views/implementing_modern_collection_views",
      "abstract": [
        {
          "type": "text",
          "text": "Bring compositional layouts to your app and simplify updating your user interface with diffable data sources."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uiimage/building_high-performance_lists_and_collection_views": {
      "title": "Building High-Performance Lists and Collection Views",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiimage/building_high-performance_lists_and_collection_views",
      "kind": "article",
      "role": "sampleCode",
      "url": "/documentation/uikit/uiimage/building_high-performance_lists_and_collection_views",
      "abstract": [
        {
          "type": "text",
          "text": "Improve the performance of lists and collections in your app with prefetching and image preparation."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uicollectionviewdiffabledatasource": {
      "title": "UICollectionViewDiffableDataSource",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewdiffabledatasource",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uicollectionviewdiffabledatasource",
      "abstract": [
        {
          "type": "text",
          "text": "The object you use to manage data and provide cells for a collection view."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasource": {
      "title": "UICollectionViewDataSource",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasource",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uicollectionviewdatasource",
      "abstract": [
        {
          "type": "text",
          "text": "The methods adopted by the object you use to manage data and provide cells for a collection view."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/nsdiffabledatasourcesnapshot": {
      "title": "NSDiffableDataSourceSnapshot",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/nsdiffabledatasourcesnapshot",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/nsdiffabledatasourcesnapshot",
      "abstract": [
        {
          "type": "text",
          "text": "A representation of the state of the data in a view at a specific point in time. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/nsdiffabledatasourcesectionsnapshot": {
      "title": "NSDiffableDataSourceSectionSnapshot",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/nsdiffabledatasourcesectionsnapshot",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/nsdiffabledatasourcesectionsnapshot",
      "abstract": [
        {
          "type": "text",
          "text": "A representation of the state of the data in a layout section at a specific point in time. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "relationshipsSections": [
    {
      "kind": "relationships",
      "title": "Inherits From",
      "type": "inheritsFrom",
      "identifiers": [
        "doc://com.apple.documentation/documentation/objectivec/1418956-nsobject"
      ]
    }
  ],
  "topicSections": [
    {
      "kind": "taskGroup",
      "title": "Managing Data Prefetching",
      "identifiers": [
        "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasourceprefetching/prefetching_collection_view_data",
        "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasourceprefetching/1771767-collectionview",
        "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasourceprefetching/1771769-collectionview"
      ],
      "anchor": "1771897"
    }
  ],
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views/updating_collection_views_using_diffable_data_sources",
        "doc://com.apple.documentation/documentation/uikit/views_and_controls/collection_views/implementing_modern_collection_views",
        "doc://com.apple.documentation/documentation/uikit/uiimage/building_high-performance_lists_and_collection_views",
        "doc://com.apple.documentation/documentation/uikit/uicollectionviewdiffabledatasource",
        "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasource",
        "doc://com.apple.documentation/documentation/uikit/nsdiffabledatasourcesnapshot",
        "doc://com.apple.documentation/documentation/uikit/nsdiffabledatasourcesectionsnapshot"
      ],
      "title": "Data",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "declarations",
      "declarations": [
        {
          "languages": [
            "occ"
          ],
          "tokens": [
            {
              "kind": "keyword",
              "text": "@protocol"
            },
            {
              "kind": "text",
              "text": " "
            },
            {
              "kind": "identifier",
              "text": "UICollectionViewDataSourcePrefetching"
            }
          ],
          "platforms": [
            "iOS",
            "iPadOS",
            "Mac Catalyst",
            "tvOS"
          ]
        }
      ]
    },
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "You use a prefetch data source object in conjunction with your collection view’s data source to begin loading data for cells before the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasource/1618029-collectionview"
            },
            {
              "type": "text",
              "text": " data source method is called."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Follow these steps to add a prefetch data source to your collection view:"
            }
          ]
        },
        {
          "type": "orderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Create the collection view and its data source."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Create an object that adopts the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasourceprefetching"
                    },
                    {
                      "type": "text",
                      "text": " protocol, and assign it to the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionview/1771768-prefetchdatasource"
                    },
                    {
                      "type": "text",
                      "text": " property on the collection view."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Initiate asynchronous loading of the data required for the cells at the specified index paths in your implementation of "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasourceprefetching/1771767-collectionview"
                    },
                    {
                      "type": "text",
                      "text": "."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Prepare the cell for display using the prefetched data in your implementation of the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasource/1618029-collectionview"
                    },
                    {
                      "type": "text",
                      "text": " data source method."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Cancel pending data load operations when the collection view informs you that the data is no longer required in the "
                    },
                    {
                      "type": "reference",
                      "isActive": true,
                      "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasourceprefetching/1771769-collectionview"
                    },
                    {
                      "type": "text",
                      "text": " method."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": []
        },
        {
          "type": "aside",
          "content": [
            {
              "type": "paragraph",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "The prefetch method is not necessarily called for every cell in the collection view. See "
                },
                {
                  "type": "reference",
                  "isActive": true,
                  "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasourceprefetching#2759981"
                },
                {
                  "type": "text",
                  "text": " for details on a suggested approach to loading data."
                }
              ]
            }
          ],
          "style": "note",
          "name": "Note"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For more information, see "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionview"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Loading Data Asynchronously",
          "anchor": "2759981"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasourceprefetching/1771767-collectionview"
            },
            {
              "type": "text",
              "text": " method is not necessarily called for every cell in the collection view. Your implementation of "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uicollectionviewdatasource/1618029-collectionview"
            },
            {
              "type": "text",
              "text": " must therefore be able to cope with the following potential situations:"
            }
          ]
        },
        {
          "type": "unorderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Data has been loaded via the prefetch request, and is ready to be displayed."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Data is currently being prefetched, but is not yet available."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Data has not yet been requested."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": []
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "One approach that handles all of these situations is to use "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsoperation"
            },
            {
              "type": "text",
              "text": " to load the data for each row. You create the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/foundation/nsoperation"
            },
            {
              "type": "text",
              "text": " object and store it in the prefetch method. The data source method can then either retrieve the operation and the result, or create it if it doesn’t exist. For further information about how you can use asynchronous programming models to achieve this desired behavior, see "
            },
            {
              "type": "link",
              "title": "Concurrency Programming Guide",
              "destination": "https://developer.apple.com/library/archive/documentation/General/Conceptual/ConcurrencyProgrammingGuide/Introduction/Introduction.html#//apple_ref/doc/uid/TP40008091"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}