{
  "abstract": [
    {
      "type": "text",
      "text": "Enrich your app’s user experience by supporting standard and custom gesture interaction."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/uikit",
        "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 3694071,
  "kind": "article",
  "metadata": {
    "title": "Supporting Gesture Interaction in Your Apps",
    "role": "sampleCode",
    "roleHeading": "Sample Code",
    "modules": [
      {
        "name": "UIKit"
      }
    ],
    "platforms": [
      {
        "name": "iOS",
        "introducedAt": "13.0",
        "current": "15.2"
      },
      {
        "name": "iPadOS",
        "introducedAt": "13.0",
        "current": "15.2"
      },
      {
        "name": "Xcode",
        "introducedAt": "12.0",
        "current": "13.2"
      }
    ]
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/uikit": {
      "title": "UIKit",
      "identifier": "doc://com.apple.documentation/documentation/uikit",
      "url": "/documentation/uikit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures": {
      "title": "Touches, Presses, and Gestures",
      "identifier": "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures",
      "url": "/documentation/uikit/touches_presses_and_gestures",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "doc://com.apple.documentation/documentation/uikit/uiview/1622496-addgesturerecognizer": {
      "title": "addGestureRecognizer:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiview/1622496-addgesturerecognizer",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiview/1622496-addgesturerecognizer",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "addGestureRecognizer:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701175": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701175",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701175"
    },
    "doc://com.apple.documentation/documentation/uikit/uipangesturerecognizer": {
      "title": "UIPanGestureRecognizer",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uipangesturerecognizer",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uipangesturerecognizer",
      "abstract": [
        {
          "type": "text",
          "text": "A discrete gesture recognizer that interprets panning gestures. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701177": {
      "title": "Listing 2",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701177",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701177"
    },
    "doc://com.apple.documentation/documentation/uikit/uipinchgesturerecognizer/1622235-scale": {
      "title": "scale",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uipinchgesturerecognizer/1622235-scale",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uipinchgesturerecognizer/1622235-scale"
    },
    "doc://com.apple.documentation/documentation/uikit/uirotationgesturerecognizer/1624337-rotation": {
      "title": "rotation",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uirotationgesturerecognizer/1624337-rotation",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uirotationgesturerecognizer/1624337-rotation"
    },
    "doc://com.apple.documentation/documentation/uikit/uiview/1622459-transform": {
      "title": "transform",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiview/1622459-transform",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiview/1622459-transform"
    },
    "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701178": {
      "title": "Listing 3",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701178",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701178"
    },
    "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701179": {
      "title": "Listing 4",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701179",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701179"
    },
    "doc://com.apple.documentation/documentation/quartzcore/calayer/1410817-anchorpoint": {
      "title": "anchorPoint",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/quartzcore/calayer/1410817-anchorpoint",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/quartzcore/calayer/1410817-anchorpoint"
    },
    "doc://com.apple.documentation/documentation/uikit/uiview/1622436-layer": {
      "title": "layer",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiview/1622436-layer",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiview/1622436-layer"
    },
    "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701180": {
      "title": "Listing 5",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701180",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701180"
    },
    "doc://com.apple.documentation/documentation/uikit/uigesturerecognizerdelegate": {
      "title": "UIGestureRecognizerDelegate",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uigesturerecognizerdelegate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uigesturerecognizerdelegate"
    },
    "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701182": {
      "title": "Listing 6",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701182",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701182"
    },
    "doc://com.apple.documentation/documentation/uikit/uigesturerecognizer/1624207-delegate": {
      "title": "delegate",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uigesturerecognizer/1624207-delegate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uigesturerecognizer/1624207-delegate"
    },
    "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701183": {
      "title": "Listing 7",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701183",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701183"
    },
    "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/coordinating_multiple_gesture_recognizers/preferring_one_gesture_over_another": {
      "title": "Preferring One Gesture Over Another",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/coordinating_multiple_gesture_recognizers/preferring_one_gesture_over_another",
      "kind": "article",
      "role": "article",
      "url": "/documentation/uikit/touches_presses_and_gestures/coordinating_multiple_gesture_recognizers/preferring_one_gesture_over_another"
    },
    "doc://com.apple.documentation/documentation/uikit/uigesturerecognizer/1620009-touchesbegan": {
      "title": "touchesBegan:withEvent:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uigesturerecognizer/1620009-touchesbegan",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uigesturerecognizer/1620009-touchesbegan",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "touchesBegan:withEvent:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uigesturerecognizer/1619996-touchesmoved": {
      "title": "touchesMoved:withEvent:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uigesturerecognizer/1619996-touchesmoved",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uigesturerecognizer/1619996-touchesmoved",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "touchesMoved:withEvent:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uigesturerecognizer/1620005-touchesended": {
      "title": "touchesEnded:withEvent:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uigesturerecognizer/1620005-touchesended",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uigesturerecognizer/1620005-touchesended",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "touchesEnded:withEvent:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701185": {
      "title": "Listing 8",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701185",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps#3701185"
    },
    "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/implementing_a_custom_gesture_recognizer": {
      "title": "Implementing a Custom Gesture Recognizer",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/implementing_a_custom_gesture_recognizer",
      "kind": "article",
      "role": "article",
      "url": "/documentation/uikit/touches_presses_and_gestures/implementing_a_custom_gesture_recognizer"
    },
    "link-3701114": {
      "title": "standard gestures",
      "type": "topic",
      "identifier": "link-3701114",
      "kind": "article",
      "role": "link",
      "url": "https://developer.apple.com/design/human-interface-guidelines/ios/user-interaction/gestures/"
    },
    "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/handling_uikit_gestures": {
      "title": "Handling UIKit Gestures",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/handling_uikit_gestures",
      "kind": "article",
      "role": "article",
      "url": "/documentation/uikit/touches_presses_and_gestures/handling_uikit_gestures",
      "abstract": [
        {
          "type": "text",
          "text": "Use gesture recognizers to simplify touch handling and create a consistent user experience."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/coordinating_multiple_gesture_recognizers": {
      "title": "Coordinating Multiple Gesture Recognizers",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/coordinating_multiple_gesture_recognizers",
      "kind": "article",
      "role": "article",
      "url": "/documentation/uikit/touches_presses_and_gestures/coordinating_multiple_gesture_recognizers",
      "abstract": [
        {
          "type": "text",
          "text": "Discover how to use multiple gesture recognizers on the same view."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uihovergesturerecognizer": {
      "title": "UIHoverGestureRecognizer",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uihovergesturerecognizer",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uihovergesturerecognizer",
      "abstract": [
        {
          "type": "text",
          "text": "A discrete gesture recognizer that interprets pointer movement over a view."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uilongpressgesturerecognizer": {
      "title": "UILongPressGestureRecognizer",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uilongpressgesturerecognizer",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uilongpressgesturerecognizer",
      "abstract": [
        {
          "type": "text",
          "text": "A discrete gesture recognizer that interprets long-press gestures.  "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uipinchgesturerecognizer": {
      "title": "UIPinchGestureRecognizer",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uipinchgesturerecognizer",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uipinchgesturerecognizer",
      "abstract": [
        {
          "type": "text",
          "text": "A discrete gesture recognizer that interprets pinching gestures involving two touches."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uirotationgesturerecognizer": {
      "title": "UIRotationGestureRecognizer",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uirotationgesturerecognizer",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uirotationgesturerecognizer",
      "abstract": [
        {
          "type": "text",
          "text": "A discrete gesture recognizer that interprets rotation gestures involving two touches."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uiscreenedgepangesturerecognizer": {
      "title": "UIScreenEdgePanGestureRecognizer",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiscreenedgepangesturerecognizer",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiscreenedgepangesturerecognizer",
      "abstract": [
        {
          "type": "text",
          "text": "A discrete gesture recognizer that interprets panning gestures that start near an edge of the screen."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uiswipegesturerecognizer": {
      "title": "UISwipeGestureRecognizer",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiswipegesturerecognizer",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiswipegesturerecognizer",
      "abstract": [
        {
          "type": "text",
          "text": "A discrete gesture recognizer that interprets swiping gestures in one or more directions."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uitapgesturerecognizer": {
      "title": "UITapGestureRecognizer",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uitapgesturerecognizer",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uitapgesturerecognizer",
      "abstract": [
        {
          "type": "text",
          "text": "A discrete gesture recognizer that interprets single or multiple taps."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps": {
      "title": "Supporting Gesture Interaction in Your Apps",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps",
      "kind": "article",
      "role": "sampleCode",
      "url": "/documentation/uikit/touches_presses_and_gestures/supporting_gesture_interaction_in_your_apps",
      "abstract": [
        {
          "type": "text",
          "text": "Enrich your app’s user experience by supporting standard and custom gesture interaction."
        }
      ]
    },
    "https://docs-assets.developer.apple.com/published/e334836e72/SupportingGestureInteractionInYourApps.zip": {
      "type": "download",
      "identifier": "https://docs-assets.developer.apple.com/published/e334836e72/SupportingGestureInteractionInYourApps.zip",
      "checksum": "eb6f334cbab441e1e7a10dfaea7066becce429a54181d5c7cfded625e7e3884f0a3a27b009562c3a88206caa51eaebd10004ed17de596fdf9be6aeecad4ed049",
      "url": "https://docs-assets.developer.apple.com/published/e334836e72/SupportingGestureInteractionInYourApps.zip"
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "sampleCodeDownload": {
    "action": {
      "overridingTitle": "Download",
      "type": "reference",
      "isActive": true,
      "identifier": "https://docs-assets.developer.apple.com/published/e334836e72/SupportingGestureInteractionInYourApps.zip"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/handling_uikit_gestures",
        "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/coordinating_multiple_gesture_recognizers",
        "doc://com.apple.documentation/documentation/uikit/uihovergesturerecognizer",
        "doc://com.apple.documentation/documentation/uikit/uilongpressgesturerecognizer",
        "doc://com.apple.documentation/documentation/uikit/uipangesturerecognizer",
        "doc://com.apple.documentation/documentation/uikit/uipinchgesturerecognizer",
        "doc://com.apple.documentation/documentation/uikit/uirotationgesturerecognizer",
        "doc://com.apple.documentation/documentation/uikit/uiscreenedgepangesturerecognizer",
        "doc://com.apple.documentation/documentation/uikit/uiswipegesturerecognizer",
        "doc://com.apple.documentation/documentation/uikit/uitapgesturerecognizer"
      ],
      "title": "Standard Gestures",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Gesture interaction is one of the most intuitive user experiences on iOS, and gesture recognizers provide an easy way for apps to implement it. iOS defines some "
            },
            {
              "type": "link",
              "title": "standard gestures",
              "destination": "https://developer.apple.com/design/human-interface-guidelines/ios/user-interaction/gestures/"
            },
            {
              "type": "text",
              "text": ", and apps can use system-provided recognizers to support these standard gestures, or create custom ones for non-standard gestures. This sample demonstrates how to use standard gesture recognizers by adding pan, pinch, and rotation support for three colored views, which this sample calls "
            },
            {
              "type": "emphasis",
              "inlineContent": [
                {
                  "type": "text",
                  "text": "pieces"
                }
              ]
            },
            {
              "type": "text",
              "text": ", and how to implement a custom recognizer to reset the pieces to their initial state."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Set up a Gesture Recognizer",
          "anchor": "3701188"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To support gesture interaction on a view, create an appropriate gesture recognizer and associate it with the view by calling the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uiview/1622496-addgesturerecognizer"
            },
            {
              "type": "text",
              "text": " method, as shown below."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "let resetGestureRecognizer = ResetGestureRecognizer(target: self, action: #selector(resetPieces(_:)))",
            "view.addGestureRecognizer(resetGestureRecognizer)"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3701175",
            "title": "Listing 1"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Xcode includes UIKit’s standard gesture recognizers in its Objects library so developers can use them in storyboards. To associate a recognizer with a view in a storyboard:"
            }
          ]
        },
        {
          "type": "orderedList",
          "items": [
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Select the storyboard in Xcode to open the storyboard view."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Find the gesture recognizer in Xcode’s Objects library."
                    }
                  ]
                }
              ]
            },
            {
              "content": [
                {
                  "type": "paragraph",
                  "inlineContent": [
                    {
                      "type": "text",
                      "text": "Control-drag the recognizer onto the view."
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "With these steps, Xcode automatically adds the recognizer into the storyboard and associates it with the view. Developers can then add an action for the recognizer the same way they do for other UI elements."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Handle Pan, Pinch, and Rotation Gestures",
          "anchor": "3701189"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This sample uses pan, pinch, and rotation gestures to move, scale, and rotate the views. When users pan a view, UIKit triggers the associated action method, which is "
            },
            {
              "type": "codeVoice",
              "code": "panPiece(_:)"
            },
            {
              "type": "text",
              "text": " in this sample, passing in a "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uipangesturerecognizer"
            },
            {
              "type": "text",
              "text": " instance that carries a translation. The method then calculates and moves the view to the new position, and clears the translation by setting it to "
            },
            {
              "type": "codeVoice",
              "code": ".zero"
            },
            {
              "type": "text",
              "text": " so next time, its value is still the delta relative to the current position."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "let translation = panGestureRecognizer.translation(in: piece.superview)",
            "piece.center = CGPoint(x: piece.center.x + translation.x, y: piece.center.y + translation.y)",
            "panGestureRecognizer.setTranslation(.zero, in: piece.superview)"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3701177",
            "title": "Listing 2"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Similarly, when users pinch and rotate a view, this sample uses the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uipinchgesturerecognizer/1622235-scale"
            },
            {
              "type": "text",
              "text": " and "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uirotationgesturerecognizer/1624337-rotation"
            },
            {
              "type": "text",
              "text": " properties of "
            },
            {
              "type": "codeVoice",
              "code": "UIPinchGestureRecognizer"
            },
            {
              "type": "text",
              "text": " and "
            },
            {
              "type": "codeVoice",
              "code": "UIRotationGestureRecognizer"
            },
            {
              "type": "text",
              "text": " to calculate and apply a new "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uiview/1622459-transform"
            },
            {
              "type": "text",
              "text": ", and then clears the properties."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "let scale = pinchGestureRecognizer.scale",
            "piece.transform = piece.transform.scaledBy(x: scale, y: scale)",
            "pinchGestureRecognizer.scale = 1 // Clear scale so that it is the right delta next time."
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3701178",
            "title": "Listing 3"
          }
        },
        {
          "type": "codeListing",
          "code": [
            "piece.transform = piece.transform.rotated(by: rotationGestureRecognizer.rotation)",
            "rotationGestureRecognizer.rotation = 0 // Clear rotation so that it is the right delta next time."
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3701179",
            "title": "Listing 4"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "The "
            },
            {
              "type": "codeVoice",
              "code": "scale"
            },
            {
              "type": "text",
              "text": " and "
            },
            {
              "type": "codeVoice",
              "code": "rotation"
            },
            {
              "type": "text",
              "text": " properties are relative to the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/quartzcore/calayer/1410817-anchorpoint"
            },
            {
              "type": "text",
              "text": " property of the view’s "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uiview/1622436-layer"
            },
            {
              "type": "text",
              "text": ". To be more intuitive when scaling or rotating a view, this sample moves the anchor point to the location of the gestures, which is usually the centroid of the touches involved in the gestures."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "let locationInPiece = gestureRecognizer.location(in: piece)",
            "let locationInSuperview = gestureRecognizer.location(in: piece.superview)",
            "let anchorX = locationInPiece.x / piece.bounds.size.width",
            "let anchorY = locationInPiece.y / piece.bounds.size.height",
            "piece.layer.anchorPoint = CGPoint(x: anchorX, y: anchorY)",
            "piece.center = locationInSuperview"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3701180",
            "title": "Listing 5"
          }
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Allow Recognizing Multiple Gestures Simultaneously",
          "anchor": "3701190"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Users sometimes intuitively expect multiple gestures to work simultaneously, like pinching and rotating a view at the same time. This sample allows that by implementing the following "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uigesturerecognizerdelegate"
            },
            {
              "type": "text",
              "text": " method, which returns "
            },
            {
              "type": "codeVoice",
              "code": "true"
            },
            {
              "type": "text",
              "text": " to allow all gesture recognizers in this sample to work together."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "func gestureRecognizer(_ gestureRecognizer: UIGestureRecognizer,",
            "                       shouldRecognizeSimultaneouslyWith otherGestureRecognizer: UIGestureRecognizer) -> Bool {",
            "    return true",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3701182",
            "title": "Listing 6"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For the delegate method to take effect, this sample sets the gesture recognizer’s "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uigesturerecognizer/1624207-delegate"
            },
            {
              "type": "text",
              "text": " property to "
            },
            {
              "type": "codeVoice",
              "code": "self"
            },
            {
              "type": "text",
              "text": ", which is the view controller that implements the method."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "resetGestureRecognizer.delegate = self"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3701183",
            "title": "Listing 7"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For gesture recognizers that are in the storyboard, this sample sets up their "
            },
            {
              "type": "codeVoice",
              "code": "delegate"
            },
            {
              "type": "text",
              "text": " property by Control-dragging the gesture recognizers onto the view controller and selecting "
            },
            {
              "type": "codeVoice",
              "code": "delegate"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "codeVoice",
              "code": "UIGestureRecognizerDelegate"
            },
            {
              "type": "text",
              "text": " provides methods for apps to control the order in which gestures are recognized as well. For more information on gesture recognition order, see "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/coordinating_multiple_gesture_recognizers/preferring_one_gesture_over_another"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Create a Custom Gesture Recognizer",
          "anchor": "3701191"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "This sample creates a custom gesture recognizer, "
            },
            {
              "type": "codeVoice",
              "code": "ResetGestureRecognizer"
            },
            {
              "type": "text",
              "text": ", which recognizes a gesture that contains at least three horizontal turnings. Users can use the gesture to easily reset the views to their initial state. To do that, move the views away from their initial positions, then put one finger on the area the colored views don’t cover, and move right, left, right, and left (or vice versa), like shaking the finger on the screen."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "To recognize the gesture, this sample picks up a valid touch in "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uigesturerecognizer/1620009-touchesbegan"
            },
            {
              "type": "text",
              "text": ", and gathers the touched locations in "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uigesturerecognizer/1619996-touchesmoved"
            },
            {
              "type": "text",
              "text": ". When a user lifts their finger, which triggers "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uigesturerecognizer/1620005-touchesended"
            },
            {
              "type": "text",
              "text": ", this sample counts the horizontal turnings in the touched path, and recognizes the gesture by setting the "
            },
            {
              "type": "codeVoice",
              "code": "state"
            },
            {
              "type": "text",
              "text": " property to "
            },
            {
              "type": "codeVoice",
              "code": ".ended"
            },
            {
              "type": "text",
              "text": " if the path has more than two turnings."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "let count = countHorizontalTurning(touchedPoints: touchedPoints)",
            "state = count > 2 ? .ended : .failed"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "3701185",
            "title": "Listing 8"
          }
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Note that this sample doesn’t go further to eliminate the location noise or validate the segments by checking their distance. Real-world apps might consider doing that to improve the gesture recognition accuracy and avoid recognizing false positive gestures."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "For more details about custom gesture recognizers, see "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/touches_presses_and_gestures/implementing_a_custom_gesture_recognizer"
            },
            {
              "type": "text",
              "text": "."
            }
          ]
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}