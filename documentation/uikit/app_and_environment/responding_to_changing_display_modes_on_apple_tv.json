{
  "abstract": [
    {
      "type": "text",
      "text": "Change images and resources dynamically when the screen gamut on your device changes."
    }
  ],
  "documentVersion": 0,
  "hierarchy": {
    "paths": [
      [
        "doc://com.apple.documentation/documentation/technologies",
        "doc://com.apple.documentation/documentation/uikit",
        "doc://com.apple.documentation/documentation/uikit/app_and_environment"
      ]
    ]
  },
  "identifier": {
    "url": "doc://com.apple.documentation/documentation/uikit/app_and_environment/responding_to_changing_display_modes_on_apple_tv",
    "interfaceLanguage": "occ"
  },
  "legacy_identifier": 2920385,
  "kind": "article",
  "metadata": {
    "title": "Responding to Changing Display Modes on Apple TV",
    "role": "article",
    "roleHeading": "Article",
    "modules": [
      {
        "name": "UIKit"
      }
    ]
  },
  "schemaVersion": {
    "major": 0,
    "minor": 1,
    "patch": 0
  },
  "sections": [],
  "variants": [
    {
      "traits": [
        {
          "interfaceLanguage": "occ"
        }
      ],
      "paths": [
        "documentation/uikit/app_and_environment/responding_to_changing_display_modes_on_apple_tv"
      ]
    },
    {
      "traits": [
        {
          "interfaceLanguage": "swift"
        }
      ],
      "paths": [
        "documentation/uikit/app_and_environment/responding_to_changing_display_modes_on_apple_tv"
      ]
    }
  ],
  "references": {
    "doc://com.apple.documentation/documentation/uikit": {
      "title": "UIKit",
      "identifier": "doc://com.apple.documentation/documentation/uikit",
      "url": "/documentation/uikit",
      "type": "topic",
      "kind": "symbol",
      "role": "collection"
    },
    "doc://com.apple.documentation/documentation/uikit/app_and_environment": {
      "title": "App and Environment",
      "identifier": "doc://com.apple.documentation/documentation/uikit/app_and_environment",
      "url": "/documentation/uikit/app_and_environment",
      "type": "topic",
      "kind": "article",
      "role": "collectionGroup"
    },
    "link-media-2923968": {
      "identifier": "link-media-2923968",
      "type": "link",
      "title": "Figure 1",
      "url": "/documentation/uikit/app_and_environment/responding_to_changing_display_modes_on_apple_tv#2923968"
    },
    "media-2923968": {
      "identifier": "media-2923968",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x"
          ],
          "size": {
            "width": 680,
            "height": 245
          },
          "url": "https://docs-assets.developer.apple.com/published/bd8e5e7965/e771ccb3-cda7-4f4f-b8ff-8b159fff7fb9.png"
        }
      ],
      "title": "Figure 1",
      "abstract": [
        {
          "type": "text",
          "text": "Asset catalog configuration for sRGB and Display P3 image support"
        }
      ]
    },
    "link-media-2930448": {
      "identifier": "link-media-2930448",
      "type": "link",
      "title": "Figure 2",
      "url": "/documentation/uikit/app_and_environment/responding_to_changing_display_modes_on_apple_tv#2930448"
    },
    "media-2930448": {
      "identifier": "media-2930448",
      "type": "image",
      "variants": [
        {
          "traits": [
            "2x"
          ],
          "size": {
            "width": 680,
            "height": 214
          },
          "url": "https://docs-assets.developer.apple.com/published/254b663761/2466bcc5-f6ff-4e94-9f6e-780566f45343.png"
        }
      ],
      "title": "Figure 2",
      "abstract": [
        {
          "type": "text",
          "text": "Adding assets"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uitraitenvironment/1623516-traitcollectiondidchange": {
      "title": "traitCollectionDidChange:",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uitraitenvironment/1623516-traitcollectiondidchange",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uitraitenvironment/1623516-traitcollectiondidchange",
      "fragments": [
        {
          "kind": "text",
          "text": "- "
        },
        {
          "kind": "identifier",
          "text": "traitCollectionDidChange:"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/app_and_environment/responding_to_changing_display_modes_on_apple_tv#2923966": {
      "title": "Listing 1",
      "type": "section",
      "identifier": "doc://com.apple.documentation/documentation/uikit/app_and_environment/responding_to_changing_display_modes_on_apple_tv#2923966",
      "kind": "article",
      "role": "codeListing",
      "url": "/documentation/uikit/app_and_environment/responding_to_changing_display_modes_on_apple_tv#2923966",
      "abstract": [
        {
          "type": "text",
          "text": "Testing for a changing screen resolution"
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/app_and_environment/responding_to_changing_display_modes_on_apple_tv": {
      "title": "Responding to Changing Display Modes on Apple TV",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/app_and_environment/responding_to_changing_display_modes_on_apple_tv",
      "kind": "article",
      "role": "article",
      "url": "/documentation/uikit/app_and_environment/responding_to_changing_display_modes_on_apple_tv",
      "abstract": [
        {
          "type": "text",
          "text": "Change images and resources dynamically when the screen gamut on your device changes."
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uitraitcollection": {
      "title": "UITraitCollection",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uitraitcollection",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uitraitcollection",
      "abstract": [
        {
          "type": "text",
          "text": "The iOS interface environment for your app, including traits such as horizontal and vertical size class, display scale, and user interface idiom. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uitraitenvironment": {
      "title": "UITraitEnvironment",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uitraitenvironment",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uitraitenvironment",
      "abstract": [
        {
          "type": "text",
          "text": "A set of methods that makes the iOS interface environment available to your app. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uiadaptivepresentationcontrollerdelegate": {
      "title": "UIAdaptivePresentationControllerDelegate",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uiadaptivepresentationcontrollerdelegate",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uiadaptivepresentationcontrollerdelegate",
      "abstract": [
        {
          "type": "text",
          "text": "A set of methods that, in conjunction with a presentation controller, determine how to respond to trait changes in your app. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/uikit/uicontentcontainer": {
      "title": "UIContentContainer",
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/uikit/uicontentcontainer",
      "kind": "symbol",
      "role": "symbol",
      "url": "/documentation/uikit/uicontentcontainer",
      "abstract": [
        {
          "type": "text",
          "text": "A set of methods for adapting the contents of your view controllers to size and trait changes. "
        }
      ]
    },
    "doc://com.apple.documentation/documentation/technologies": {
      "type": "topic",
      "identifier": "doc://com.apple.documentation/documentation/technologies",
      "url": "/documentation/technologies",
      "kind": "technologies",
      "title": "Technologies"
    }
  },
  "seeAlsoSections": [
    {
      "identifiers": [
        "doc://com.apple.documentation/documentation/uikit/uitraitcollection",
        "doc://com.apple.documentation/documentation/uikit/uitraitenvironment",
        "doc://com.apple.documentation/documentation/uikit/uiadaptivepresentationcontrollerdelegate",
        "doc://com.apple.documentation/documentation/uikit/uicontentcontainer"
      ],
      "title": "Adaptivity",
      "generated": true
    }
  ],
  "primaryContentSections": [
    {
      "kind": "content",
      "content": [
        {
          "anchor": "overview",
          "level": 2,
          "text": "Overview",
          "type": "heading"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "On Apple TV (5th generation), the assets required for an app depend on the screen gamut of the TV being used, with 4K TVs using the Display P3 gamut, and all other resolutions using the sRGB gamut. Also, the screen gamut of the TV can change at any time, switching between 4K and other resolutions. Your app needs to respond to these changes and present the appropriate assets when required."
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Create and Place the Image Assets",
          "anchor": "2923884"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "In Xcode, create an image asset in an asset catalog. In the Attributes inspector, configure the asset catalog to handle Display P3 images. In the Devices pane, ensure that Apple TV is selected. From the Gamut menu, select sRGB and Display P3. "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "link-media-2923968"
            },
            {
              "type": "text",
              "text": " shows the correct settings."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "image",
              "identifier": "media-2923968",
              "metadata": {
                "anchor": "2923968",
                "title": "Figure 1",
                "abstract": [
                  {
                    "type": "text",
                    "text": "Asset catalog configuration for sRGB and Display P3 image support"
                  }
                ]
              }
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Add Images to the Asset Catalog",
          "anchor": "2923942"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Place non-4K images in the 1x (sRGB) slot and 4K images in the 2x (Display P3) slot. The correct image is automatically loaded based on the display gamut of the TV. "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "link-media-2930448"
            },
            {
              "type": "text",
              "text": " shows assets placed in their correct containers."
            }
          ]
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "image",
              "identifier": "media-2930448",
              "metadata": {
                "anchor": "2930448",
                "title": "Figure 2",
                "abstract": [
                  {
                    "type": "text",
                    "text": "Adding assets"
                  }
                ]
              }
            }
          ]
        },
        {
          "level": 3,
          "type": "heading",
          "text": "Adapt to Screen Changes Programmatically",
          "anchor": "2922154"
        },
        {
          "type": "paragraph",
          "inlineContent": [
            {
              "type": "text",
              "text": "Implement the "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/uitraitenvironment/1623516-traitcollectiondidchange"
            },
            {
              "type": "text",
              "text": " method to respond to changing device traits. If your app performs expensive operations related to image generation based on the current display gamut, it's important to verify that the display gamut has changed before performing these operations. "
            },
            {
              "type": "reference",
              "isActive": true,
              "identifier": "doc://com.apple.documentation/documentation/uikit/app_and_environment/responding_to_changing_display_modes_on_apple_tv#2923966"
            },
            {
              "type": "text",
              "text": " shows how to test whether the display gamut changed."
            }
          ]
        },
        {
          "type": "codeListing",
          "code": [
            "override func traitCollectionDidChange(_ previousTraitCollection: UITraitCollection?) {",
            "    let currentDisplayGamut = self.traitCollection.displayGamut",
            "    if (previousTraitCollection?.displayGamut == .SRGB) && (currentDisplayGamut == .SRGB) {",
            "        // Resolution didn't change. Your code goes here.",
            "    } else if (previousTraitCollection?.displayGamut == .P3) && (currentDisplayGamut == .P3) {",
            "        // Resolution didn't change. Your code goes here.",
            "    } else {",
            "        // Resolution changed. Your code goes here.",
            "    }",
            "}"
          ],
          "syntax": "swift",
          "metadata": {
            "anchor": "2923966",
            "title": "Listing 1",
            "abstract": [
              {
                "type": "text",
                "text": "Testing for a changing screen resolution"
              }
            ]
          }
        },
        {
          "type": "paragraph",
          "inlineContent": []
        }
      ]
    }
  ],
  "legalNotices": {
    "copyright": "Copyright &copy; 2021 Apple Inc. All rights reserved.",
    "termsOfUse": "https://www.apple.com/legal/internet-services/terms/site.html",
    "privacyPolicy": "https://www.apple.com/privacy/privacy-policy"
  }
}